var _N=e=>{throw TypeError(e)};var l0=(e,t,r)=>t.has(e)||_N("Cannot "+r);var oe=(e,t,r)=>(l0(e,t,"read from private field"),r?r.call(e):t.get(e)),mt=(e,t,r)=>t.has(e)?_N("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Je=(e,t,r,n)=>(l0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Qr=(e,t,r)=>(l0(e,t,"access private method"),r);var Lp=(e,t,r,n)=>({set _(a){Je(e,t,a,r)},get _(){return oe(e,t,n)}});function PU(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oR={exports:{}},ly={},lR={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=Symbol.for("react.element"),EU=Symbol.for("react.portal"),AU=Symbol.for("react.fragment"),kU=Symbol.for("react.strict_mode"),OU=Symbol.for("react.profiler"),TU=Symbol.for("react.provider"),RU=Symbol.for("react.context"),MU=Symbol.for("react.forward_ref"),$U=Symbol.for("react.suspense"),IU=Symbol.for("react.memo"),DU=Symbol.for("react.lazy"),SN=Symbol.iterator;function LU(e){return e===null||typeof e!="object"?null:(e=SN&&e[SN]||e["@@iterator"],typeof e=="function"?e:null)}var cR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uR=Object.assign,dR={};function ed(e,t,r){this.props=e,this.context=t,this.refs=dR,this.updater=r||cR}ed.prototype.isReactComponent={};ed.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ed.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fR(){}fR.prototype=ed.prototype;function p_(e,t,r){this.props=e,this.context=t,this.refs=dR,this.updater=r||cR}var m_=p_.prototype=new fR;m_.constructor=p_;uR(m_,ed.prototype);m_.isPureReactComponent=!0;var CN=Array.isArray,hR=Object.prototype.hasOwnProperty,v_={current:null},pR={key:!0,ref:!0,__self:!0,__source:!0};function mR(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)hR.call(t,n)&&!pR.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:fp,type:e,key:i,ref:s,props:a,_owner:v_.current}}function FU(e,t){return{$$typeof:fp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function g_(e){return typeof e=="object"&&e!==null&&e.$$typeof===fp}function BU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var NN=/\/+/g;function c0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BU(""+e.key):t.toString(36)}function $m(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case fp:case EU:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+c0(s,0):n,CN(a)?(r="",e!=null&&(r=e.replace(NN,"$&/")+"/"),$m(a,t,r,"",function(u){return u})):a!=null&&(g_(a)&&(a=FU(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(NN,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",CN(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+c0(i,l);s+=$m(i,t,r,c,a)}else if(c=LU(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+c0(i,l++),s+=$m(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Bp(e,t,r){if(e==null)return e;var n=[],a=0;return $m(e,n,"","",function(i){return t.call(r,i,a++)}),n}function zU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jn={current:null},Im={transition:null},UU={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:Im,ReactCurrentOwner:v_};function vR(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:Bp,forEach:function(e,t,r){Bp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bp(e,function(){t++}),t},toArray:function(e){return Bp(e,function(t){return t})||[]},only:function(e){if(!g_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=ed;ct.Fragment=AU;ct.Profiler=OU;ct.PureComponent=p_;ct.StrictMode=kU;ct.Suspense=$U;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UU;ct.act=vR;ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=uR({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=v_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)hR.call(t,c)&&!pR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:fp,type:e.type,key:a,ref:i,props:n,_owner:s}};ct.createContext=function(e){return e={$$typeof:RU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TU,_context:e},e.Consumer=e};ct.createElement=mR;ct.createFactory=function(e){var t=mR.bind(null,e);return t.type=e,t};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:MU,render:e}};ct.isValidElement=g_;ct.lazy=function(e){return{$$typeof:DU,_payload:{_status:-1,_result:e},_init:zU}};ct.memo=function(e,t){return{$$typeof:IU,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=Im.transition;Im.transition={};try{e()}finally{Im.transition=t}};ct.unstable_act=vR;ct.useCallback=function(e,t){return jn.current.useCallback(e,t)};ct.useContext=function(e){return jn.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return jn.current.useDeferredValue(e)};ct.useEffect=function(e,t){return jn.current.useEffect(e,t)};ct.useId=function(){return jn.current.useId()};ct.useImperativeHandle=function(e,t,r){return jn.current.useImperativeHandle(e,t,r)};ct.useInsertionEffect=function(e,t){return jn.current.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return jn.current.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return jn.current.useMemo(e,t)};ct.useReducer=function(e,t,r){return jn.current.useReducer(e,t,r)};ct.useRef=function(e){return jn.current.useRef(e)};ct.useState=function(e){return jn.current.useState(e)};ct.useSyncExternalStore=function(e,t,r){return jn.current.useSyncExternalStore(e,t,r)};ct.useTransition=function(){return jn.current.useTransition()};ct.version="18.3.1";lR.exports=ct;var w=lR.exports;const O=wt(w),y_=PU({__proto__:null,default:O},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VU=w,WU=Symbol.for("react.element"),HU=Symbol.for("react.fragment"),qU=Object.prototype.hasOwnProperty,KU=VU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GU={key:!0,ref:!0,__self:!0,__source:!0};function gR(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)qU.call(t,n)&&!GU.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:WU,type:e,key:i,ref:s,props:a,_owner:KU.current}}ly.Fragment=HU;ly.jsx=gR;ly.jsxs=gR;oR.exports=ly;var o=oR.exports,yR={exports:{}},sa={},xR={exports:{}},bR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var U=D.length;D.push(L);e:for(;0<U;){var X=U-1>>>1,G=D[X];if(0<a(G,L))D[X]=L,D[U]=G,U=X;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var L=D[0],U=D.pop();if(U!==L){D[0]=U;e:for(var X=0,G=D.length,te=G>>>1;X<te;){var z=2*(X+1)-1,B=D[z],V=z+1,H=D[V];if(0>a(B,U))V<G&&0>a(H,B)?(D[X]=H,D[V]=U,X=V):(D[X]=B,D[z]=U,X=z);else if(V<G&&0>a(H,U))D[X]=H,D[V]=U,X=V;else break e}}return L}function a(D,L){var U=D.sortIndex-L.sortIndex;return U!==0?U:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,y=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=D)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(D){if(m=!1,b(D),!y)if(r(c)!==null)y=!0,I(j);else{var L=r(u);L!==null&&M(_,L.startTime-D)}}function j(D,L){y=!1,m&&(m=!1,v(N),N=-1),p=!0;var U=h;try{for(b(L),d=r(c);d!==null&&(!(d.expirationTime>L)||D&&!k());){var X=d.callback;if(typeof X=="function"){d.callback=null,h=d.priorityLevel;var G=X(d.expirationTime<=L);L=e.unstable_now(),typeof G=="function"?d.callback=G:d===r(c)&&n(c),b(L)}else n(c);d=r(c)}if(d!==null)var te=!0;else{var z=r(u);z!==null&&M(_,z.startTime-L),te=!1}return te}finally{d=null,h=U,p=!1}}var S=!1,C=null,N=-1,A=5,E=-1;function k(){return!(e.unstable_now()-E<A)}function R(){if(C!==null){var D=e.unstable_now();E=D;var L=!0;try{L=C(!0,D)}finally{L?T():(S=!1,C=null)}}else S=!1}var T;if(typeof x=="function")T=function(){x(R)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=R,T=function(){$.postMessage(null)}}else T=function(){g(R,0)};function I(D){C=D,S||(S=!0,T())}function M(D,L){N=g(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,I(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var U=h;h=L;try{return D()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=h;h=D;try{return L()}finally{h=U}},e.unstable_scheduleCallback=function(D,L,U){var X=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,D={id:f++,callback:L,priorityLevel:D,startTime:U,expirationTime:G,sortIndex:-1},U>X?(D.sortIndex=U,t(u,D),r(c)===null&&D===r(u)&&(m?(v(N),N=-1):m=!0,M(_,U-X))):(D.sortIndex=G,t(c,D),y||p||(y=!0,I(j))),D},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(D){var L=h;return function(){var U=h;h=L;try{return D.apply(this,arguments)}finally{h=U}}}})(bR);xR.exports=bR;var YU=xR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XU=w,aa=YU;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wR=new Set,Wf={};function Il(e,t){iu(e,t),iu(e+"Capture",t)}function iu(e,t){for(Wf[e]=t,e=0;e<t.length;e++)wR.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wb=Object.prototype.hasOwnProperty,QU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PN={},EN={};function ZU(e){return Wb.call(EN,e)?!0:Wb.call(PN,e)?!1:QU.test(e)?EN[e]=!0:(PN[e]=!0,!1)}function JU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eV(e,t,r,n){if(t===null||typeof t>"u"||JU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _n(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yr[e]=new _n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yr[t]=new _n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yr[e]=new _n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yr[e]=new _n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yr[e]=new _n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yr[e]=new _n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yr[e]=new _n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yr[e]=new _n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yr[e]=new _n(e,5,!1,e.toLowerCase(),null,!1,!1)});var x_=/[\-:]([a-z])/g;function b_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x_,b_);Yr[t]=new _n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x_,b_);Yr[t]=new _n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x_,b_);Yr[t]=new _n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yr[e]=new _n(e,1,!1,e.toLowerCase(),null,!1,!1)});Yr.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yr[e]=new _n(e,1,!1,e.toLowerCase(),null,!0,!0)});function w_(e,t,r,n){var a=Yr.hasOwnProperty(t)?Yr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eV(t,r,a,n)&&(r=null),n||a===null?ZU(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ps=XU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zp=Symbol.for("react.element"),gc=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),j_=Symbol.for("react.strict_mode"),Hb=Symbol.for("react.profiler"),jR=Symbol.for("react.provider"),_R=Symbol.for("react.context"),__=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),Kb=Symbol.for("react.suspense_list"),S_=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),SR=Symbol.for("react.offscreen"),AN=Symbol.iterator;function Dd(e){return e===null||typeof e!="object"?null:(e=AN&&e[AN]||e["@@iterator"],typeof e=="function"?e:null)}var rr=Object.assign,u0;function df(e){if(u0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);u0=t&&t[1]||""}return`
`+u0+e}var d0=!1;function f0(e,t){if(!e||d0)return"";d0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{d0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?df(e):""}function tV(e){switch(e.tag){case 5:return df(e.type);case 16:return df("Lazy");case 13:return df("Suspense");case 19:return df("SuspenseList");case 0:case 2:case 15:return e=f0(e.type,!1),e;case 11:return e=f0(e.type.render,!1),e;case 1:return e=f0(e.type,!0),e;default:return""}}function Gb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yc:return"Fragment";case gc:return"Portal";case Hb:return"Profiler";case j_:return"StrictMode";case qb:return"Suspense";case Kb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _R:return(e.displayName||"Context")+".Consumer";case jR:return(e._context.displayName||"Context")+".Provider";case __:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S_:return t=e.displayName||null,t!==null?t:Gb(e.type)||"Memo";case Ts:t=e._payload,e=e._init;try{return Gb(e(t))}catch{}}return null}function rV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gb(t);case 8:return t===j_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nV(e){var t=CR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Up(e){e._valueTracker||(e._valueTracker=nV(e))}function NR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=CR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function tv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yb(e,t){var r=t.checked;return rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function kN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PR(e,t){t=t.checked,t!=null&&w_(e,"checked",t,!1)}function Xb(e,t){PR(e,t);var r=mo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qb(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qb(e,t.type,mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ON(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qb(e,t,r){(t!=="number"||tv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ff=Array.isArray;function Ic(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+mo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Zb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return rr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(ff(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mo(r)}}function ER(e,t){var r=mo(t.value),n=mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function RN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vp,kR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vp=Vp||document.createElement("div"),Vp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aV=["Webkit","ms","Moz","O"];Object.keys(xf).forEach(function(e){aV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xf[t]=xf[e]})});function OR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xf.hasOwnProperty(e)&&xf[e]?(""+t).trim():t+"px"}function TR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=OR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var iV=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ew(e,t){if(t){if(iV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function tw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rw=null;function C_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nw=null,Dc=null,Lc=null;function MN(e){if(e=mp(e)){if(typeof nw!="function")throw Error(he(280));var t=e.stateNode;t&&(t=hy(t),nw(e.stateNode,e.type,t))}}function RR(e){Dc?Lc?Lc.push(e):Lc=[e]:Dc=e}function MR(){if(Dc){var e=Dc,t=Lc;if(Lc=Dc=null,MN(e),t)for(e=0;e<t.length;e++)MN(t[e])}}function $R(e,t){return e(t)}function IR(){}var h0=!1;function DR(e,t,r){if(h0)return e(t,r);h0=!0;try{return $R(e,t,r)}finally{h0=!1,(Dc!==null||Lc!==null)&&(IR(),MR())}}function qf(e,t){var r=e.stateNode;if(r===null)return null;var n=hy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var aw=!1;if(ns)try{var Ld={};Object.defineProperty(Ld,"passive",{get:function(){aw=!0}}),window.addEventListener("test",Ld,Ld),window.removeEventListener("test",Ld,Ld)}catch{aw=!1}function sV(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var bf=!1,rv=null,nv=!1,iw=null,oV={onError:function(e){bf=!0,rv=e}};function lV(e,t,r,n,a,i,s,l,c){bf=!1,rv=null,sV.apply(oV,arguments)}function cV(e,t,r,n,a,i,s,l,c){if(lV.apply(this,arguments),bf){if(bf){var u=rv;bf=!1,rv=null}else throw Error(he(198));nv||(nv=!0,iw=u)}}function Dl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function LR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $N(e){if(Dl(e)!==e)throw Error(he(188))}function uV(e){var t=e.alternate;if(!t){if(t=Dl(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return $N(a),e;if(i===n)return $N(a),t;i=i.sibling}throw Error(he(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function FR(e){return e=uV(e),e!==null?BR(e):null}function BR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=BR(e);if(t!==null)return t;e=e.sibling}return null}var zR=aa.unstable_scheduleCallback,IN=aa.unstable_cancelCallback,dV=aa.unstable_shouldYield,fV=aa.unstable_requestPaint,ur=aa.unstable_now,hV=aa.unstable_getCurrentPriorityLevel,N_=aa.unstable_ImmediatePriority,UR=aa.unstable_UserBlockingPriority,av=aa.unstable_NormalPriority,pV=aa.unstable_LowPriority,VR=aa.unstable_IdlePriority,cy=null,wi=null;function mV(e){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(cy,e,void 0,(e.current.flags&128)===128)}catch{}}var Qa=Math.clz32?Math.clz32:yV,vV=Math.log,gV=Math.LN2;function yV(e){return e>>>=0,e===0?32:31-(vV(e)/gV|0)|0}var Wp=64,Hp=4194304;function hf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function iv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=hf(l):(i&=s,i!==0&&(n=hf(i)))}else s=r&~a,s!==0?n=hf(s):i!==0&&(n=hf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qa(t),a=1<<r,n|=e[r],t&=~a;return n}function xV(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bV(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Qa(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=xV(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function sw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function WR(){var e=Wp;return Wp<<=1,!(Wp&4194240)&&(Wp=64),e}function p0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qa(t),e[t]=r}function wV(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Qa(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function P_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ct=0;function HR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qR,E_,KR,GR,YR,ow=!1,qp=[],to=null,ro=null,no=null,Kf=new Map,Gf=new Map,Ds=[],jV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DN(e,t){switch(e){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Kf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gf.delete(t.pointerId)}}function Fd(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=mp(t),t!==null&&E_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function _V(e,t,r,n,a){switch(t){case"focusin":return to=Fd(to,e,t,r,n,a),!0;case"dragenter":return ro=Fd(ro,e,t,r,n,a),!0;case"mouseover":return no=Fd(no,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Kf.set(i,Fd(Kf.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Gf.set(i,Fd(Gf.get(i)||null,e,t,r,n,a)),!0}return!1}function XR(e){var t=Zo(e.target);if(t!==null){var r=Dl(t);if(r!==null){if(t=r.tag,t===13){if(t=LR(r),t!==null){e.blockedOn=t,YR(e.priority,function(){KR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);rw=n,r.target.dispatchEvent(n),rw=null}else return t=mp(r),t!==null&&E_(t),e.blockedOn=r,!1;t.shift()}return!0}function LN(e,t,r){Dm(e)&&r.delete(t)}function SV(){ow=!1,to!==null&&Dm(to)&&(to=null),ro!==null&&Dm(ro)&&(ro=null),no!==null&&Dm(no)&&(no=null),Kf.forEach(LN),Gf.forEach(LN)}function Bd(e,t){e.blockedOn===t&&(e.blockedOn=null,ow||(ow=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,SV)))}function Yf(e){function t(a){return Bd(a,e)}if(0<qp.length){Bd(qp[0],e);for(var r=1;r<qp.length;r++){var n=qp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(to!==null&&Bd(to,e),ro!==null&&Bd(ro,e),no!==null&&Bd(no,e),Kf.forEach(t),Gf.forEach(t),r=0;r<Ds.length;r++)n=Ds[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ds.length&&(r=Ds[0],r.blockedOn===null);)XR(r),r.blockedOn===null&&Ds.shift()}var Fc=ps.ReactCurrentBatchConfig,sv=!0;function CV(e,t,r,n){var a=Ct,i=Fc.transition;Fc.transition=null;try{Ct=1,A_(e,t,r,n)}finally{Ct=a,Fc.transition=i}}function NV(e,t,r,n){var a=Ct,i=Fc.transition;Fc.transition=null;try{Ct=4,A_(e,t,r,n)}finally{Ct=a,Fc.transition=i}}function A_(e,t,r,n){if(sv){var a=lw(e,t,r,n);if(a===null)S0(e,t,n,ov,r),DN(e,n);else if(_V(a,e,t,r,n))n.stopPropagation();else if(DN(e,n),t&4&&-1<jV.indexOf(e)){for(;a!==null;){var i=mp(a);if(i!==null&&qR(i),i=lw(e,t,r,n),i===null&&S0(e,t,n,ov,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else S0(e,t,n,null,r)}}var ov=null;function lw(e,t,r,n){if(ov=null,e=C_(n),e=Zo(e),e!==null)if(t=Dl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=LR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ov=e,null}function QR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hV()){case N_:return 1;case UR:return 4;case av:case pV:return 16;case VR:return 536870912;default:return 16}default:return 16}}var qs=null,k_=null,Lm=null;function ZR(){if(Lm)return Lm;var e,t=k_,r=t.length,n,a="value"in qs?qs.value:qs.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Lm=a.slice(e,1<n?1-n:void 0)}function Fm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kp(){return!0}function FN(){return!1}function oa(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kp:FN,this.isPropagationStopped=FN,this}return rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kp)},persist:function(){},isPersistent:Kp}),t}var td={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O_=oa(td),pp=rr({},td,{view:0,detail:0}),PV=oa(pp),m0,v0,zd,uy=rr({},pp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zd&&(zd&&e.type==="mousemove"?(m0=e.screenX-zd.screenX,v0=e.screenY-zd.screenY):v0=m0=0,zd=e),m0)},movementY:function(e){return"movementY"in e?e.movementY:v0}}),BN=oa(uy),EV=rr({},uy,{dataTransfer:0}),AV=oa(EV),kV=rr({},pp,{relatedTarget:0}),g0=oa(kV),OV=rr({},td,{animationName:0,elapsedTime:0,pseudoElement:0}),TV=oa(OV),RV=rr({},td,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MV=oa(RV),$V=rr({},td,{data:0}),zN=oa($V),IV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LV[e])?!!t[e]:!1}function T_(){return FV}var BV=rr({},pp,{key:function(e){if(e.key){var t=IV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T_,charCode:function(e){return e.type==="keypress"?Fm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zV=oa(BV),UV=rr({},uy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UN=oa(UV),VV=rr({},pp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T_}),WV=oa(VV),HV=rr({},td,{propertyName:0,elapsedTime:0,pseudoElement:0}),qV=oa(HV),KV=rr({},uy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GV=oa(KV),YV=[9,13,27,32],R_=ns&&"CompositionEvent"in window,wf=null;ns&&"documentMode"in document&&(wf=document.documentMode);var XV=ns&&"TextEvent"in window&&!wf,JR=ns&&(!R_||wf&&8<wf&&11>=wf),VN=" ",WN=!1;function eM(e,t){switch(e){case"keyup":return YV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xc=!1;function QV(e,t){switch(e){case"compositionend":return tM(t);case"keypress":return t.which!==32?null:(WN=!0,VN);case"textInput":return e=t.data,e===VN&&WN?null:e;default:return null}}function ZV(e,t){if(xc)return e==="compositionend"||!R_&&eM(e,t)?(e=ZR(),Lm=k_=qs=null,xc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JR&&t.locale!=="ko"?null:t.data;default:return null}}var JV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JV[e.type]:t==="textarea"}function rM(e,t,r,n){RR(n),t=lv(t,"onChange"),0<t.length&&(r=new O_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jf=null,Xf=null;function e8(e){hM(e,0)}function dy(e){var t=jc(e);if(NR(t))return e}function t8(e,t){if(e==="change")return t}var nM=!1;if(ns){var y0;if(ns){var x0="oninput"in document;if(!x0){var qN=document.createElement("div");qN.setAttribute("oninput","return;"),x0=typeof qN.oninput=="function"}y0=x0}else y0=!1;nM=y0&&(!document.documentMode||9<document.documentMode)}function KN(){jf&&(jf.detachEvent("onpropertychange",aM),Xf=jf=null)}function aM(e){if(e.propertyName==="value"&&dy(Xf)){var t=[];rM(t,Xf,e,C_(e)),DR(e8,t)}}function r8(e,t,r){e==="focusin"?(KN(),jf=t,Xf=r,jf.attachEvent("onpropertychange",aM)):e==="focusout"&&KN()}function n8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dy(Xf)}function a8(e,t){if(e==="click")return dy(t)}function i8(e,t){if(e==="input"||e==="change")return dy(t)}function s8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ti=typeof Object.is=="function"?Object.is:s8;function Qf(e,t){if(ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Wb.call(t,a)||!ti(e[a],t[a]))return!1}return!0}function GN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function YN(e,t){var r=GN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=GN(r)}}function iM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sM(){for(var e=window,t=tv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=tv(e.document)}return t}function M_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o8(e){var t=sM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&iM(r.ownerDocument.documentElement,r)){if(n!==null&&M_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=YN(r,i);var s=YN(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l8=ns&&"documentMode"in document&&11>=document.documentMode,bc=null,cw=null,_f=null,uw=!1;function XN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uw||bc==null||bc!==tv(n)||(n=bc,"selectionStart"in n&&M_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_f&&Qf(_f,n)||(_f=n,n=lv(cw,"onSelect"),0<n.length&&(t=new O_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bc)))}function Gp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wc={animationend:Gp("Animation","AnimationEnd"),animationiteration:Gp("Animation","AnimationIteration"),animationstart:Gp("Animation","AnimationStart"),transitionend:Gp("Transition","TransitionEnd")},b0={},oM={};ns&&(oM=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function fy(e){if(b0[e])return b0[e];if(!wc[e])return e;var t=wc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in oM)return b0[e]=t[r];return e}var lM=fy("animationend"),cM=fy("animationiteration"),uM=fy("animationstart"),dM=fy("transitionend"),fM=new Map,QN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(e,t){fM.set(e,t),Il(t,[e])}for(var w0=0;w0<QN.length;w0++){var j0=QN[w0],c8=j0.toLowerCase(),u8=j0[0].toUpperCase()+j0.slice(1);_o(c8,"on"+u8)}_o(lM,"onAnimationEnd");_o(cM,"onAnimationIteration");_o(uM,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(dM,"onTransitionEnd");iu("onMouseEnter",["mouseout","mouseover"]);iu("onMouseLeave",["mouseout","mouseover"]);iu("onPointerEnter",["pointerout","pointerover"]);iu("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d8=new Set("cancel close invalid load scroll toggle".split(" ").concat(pf));function ZN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cV(n,t,void 0,e),e.currentTarget=null}function hM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;ZN(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;ZN(a,l,u),i=c}}}if(nv)throw e=iw,nv=!1,iw=null,e}function It(e,t){var r=t[mw];r===void 0&&(r=t[mw]=new Set);var n=e+"__bubble";r.has(n)||(pM(t,e,2,!1),r.add(n))}function _0(e,t,r){var n=0;t&&(n|=4),pM(r,e,n,t)}var Yp="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[Yp]){e[Yp]=!0,wR.forEach(function(r){r!=="selectionchange"&&(d8.has(r)||_0(r,!1,e),_0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yp]||(t[Yp]=!0,_0("selectionchange",!1,t))}}function pM(e,t,r,n){switch(QR(t)){case 1:var a=CV;break;case 4:a=NV;break;default:a=A_}r=a.bind(null,t,r,e),a=void 0,!aw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function S0(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Zo(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}DR(function(){var u=i,f=C_(r),d=[];e:{var h=fM.get(e);if(h!==void 0){var p=O_,y=e;switch(e){case"keypress":if(Fm(r)===0)break e;case"keydown":case"keyup":p=zV;break;case"focusin":y="focus",p=g0;break;case"focusout":y="blur",p=g0;break;case"beforeblur":case"afterblur":p=g0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=BN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=AV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WV;break;case lM:case cM:case uM:p=TV;break;case dM:p=qV;break;case"scroll":p=PV;break;case"wheel":p=GV;break;case"copy":case"cut":case"paste":p=MV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=UN}var m=(t&4)!==0,g=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,b;x!==null;){b=x;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=qf(x,v),_!=null&&m.push(Jf(x,_,b)))),g)break;x=x.return}0<m.length&&(h=new p(h,y,null,r,f),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==rw&&(y=r.relatedTarget||r.fromElement)&&(Zo(y)||y[as]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?Zo(y):null,y!==null&&(g=Dl(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=BN,_="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=UN,_="onPointerLeave",v="onPointerEnter",x="pointer"),g=p==null?h:jc(p),b=y==null?h:jc(y),h=new m(_,x+"leave",p,r,f),h.target=g,h.relatedTarget=b,_=null,Zo(f)===u&&(m=new m(v,x+"enter",y,r,f),m.target=b,m.relatedTarget=g,_=m),g=_,p&&y)t:{for(m=p,v=y,x=0,b=m;b;b=Hl(b))x++;for(b=0,_=v;_;_=Hl(_))b++;for(;0<x-b;)m=Hl(m),x--;for(;0<b-x;)v=Hl(v),b--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=Hl(m),v=Hl(v)}m=null}else m=null;p!==null&&JN(d,h,p,m,!1),y!==null&&g!==null&&JN(d,g,y,m,!0)}}e:{if(h=u?jc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=t8;else if(HN(h))if(nM)j=i8;else{j=n8;var S=r8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=a8);if(j&&(j=j(e,u))){rM(d,j,r,f);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Qb(h,"number",h.value)}switch(S=u?jc(u):window,e){case"focusin":(HN(S)||S.contentEditable==="true")&&(bc=S,cw=u,_f=null);break;case"focusout":_f=cw=bc=null;break;case"mousedown":uw=!0;break;case"contextmenu":case"mouseup":case"dragend":uw=!1,XN(d,r,f);break;case"selectionchange":if(l8)break;case"keydown":case"keyup":XN(d,r,f)}var C;if(R_)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else xc?eM(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(JR&&r.locale!=="ko"&&(xc||N!=="onCompositionStart"?N==="onCompositionEnd"&&xc&&(C=ZR()):(qs=f,k_="value"in qs?qs.value:qs.textContent,xc=!0)),S=lv(u,N),0<S.length&&(N=new zN(N,e,null,r,f),d.push({event:N,listeners:S}),C?N.data=C:(C=tM(r),C!==null&&(N.data=C)))),(C=XV?QV(e,r):ZV(e,r))&&(u=lv(u,"onBeforeInput"),0<u.length&&(f=new zN("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=C))}hM(d,t)})}function Jf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function lv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=qf(e,r),i!=null&&n.unshift(Jf(e,i,a)),i=qf(e,t),i!=null&&n.push(Jf(e,i,a))),e=e.return}return n}function Hl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function JN(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=qf(r,i),c!=null&&s.unshift(Jf(r,c,l))):a||(c=qf(r,i),c!=null&&s.push(Jf(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var f8=/\r\n?/g,h8=/\u0000|\uFFFD/g;function eP(e){return(typeof e=="string"?e:""+e).replace(f8,`
`).replace(h8,"")}function Xp(e,t,r){if(t=eP(t),eP(e)!==t&&r)throw Error(he(425))}function cv(){}var dw=null,fw=null;function hw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pw=typeof setTimeout=="function"?setTimeout:void 0,p8=typeof clearTimeout=="function"?clearTimeout:void 0,tP=typeof Promise=="function"?Promise:void 0,m8=typeof queueMicrotask=="function"?queueMicrotask:typeof tP<"u"?function(e){return tP.resolve(null).then(e).catch(v8)}:pw;function v8(e){setTimeout(function(){throw e})}function C0(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Yf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Yf(t)}function ao(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rd=Math.random().toString(36).slice(2),hi="__reactFiber$"+rd,eh="__reactProps$"+rd,as="__reactContainer$"+rd,mw="__reactEvents$"+rd,g8="__reactListeners$"+rd,y8="__reactHandles$"+rd;function Zo(e){var t=e[hi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[as]||r[hi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rP(e);e!==null;){if(r=e[hi])return r;e=rP(e)}return t}e=r,r=e.parentNode}return null}function mp(e){return e=e[hi]||e[as],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function hy(e){return e[eh]||null}var vw=[],_c=-1;function So(e){return{current:e}}function zt(e){0>_c||(e.current=vw[_c],vw[_c]=null,_c--)}function Rt(e,t){_c++,vw[_c]=e.current,e.current=t}var vo={},ln=So(vo),In=So(!1),xl=vo;function su(e,t){var r=e.type.contextTypes;if(!r)return vo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Dn(e){return e=e.childContextTypes,e!=null}function uv(){zt(In),zt(ln)}function nP(e,t,r){if(ln.current!==vo)throw Error(he(168));Rt(ln,t),Rt(In,r)}function mM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(he(108,rV(e)||"Unknown",a));return rr({},r,n)}function dv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vo,xl=ln.current,Rt(ln,e),Rt(In,In.current),!0}function aP(e,t,r){var n=e.stateNode;if(!n)throw Error(he(169));r?(e=mM(e,t,xl),n.__reactInternalMemoizedMergedChildContext=e,zt(In),zt(ln),Rt(ln,e)):zt(In),Rt(In,r)}var Hi=null,py=!1,N0=!1;function vM(e){Hi===null?Hi=[e]:Hi.push(e)}function x8(e){py=!0,vM(e)}function Co(){if(!N0&&Hi!==null){N0=!0;var e=0,t=Ct;try{var r=Hi;for(Ct=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hi=null,py=!1}catch(a){throw Hi!==null&&(Hi=Hi.slice(e+1)),zR(N_,Co),a}finally{Ct=t,N0=!1}}return null}var Sc=[],Cc=0,fv=null,hv=0,ma=[],va=0,bl=null,Gi=1,Yi="";function Uo(e,t){Sc[Cc++]=hv,Sc[Cc++]=fv,fv=e,hv=t}function gM(e,t,r){ma[va++]=Gi,ma[va++]=Yi,ma[va++]=bl,bl=e;var n=Gi;e=Yi;var a=32-Qa(n)-1;n&=~(1<<a),r+=1;var i=32-Qa(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Gi=1<<32-Qa(t)+a|r<<a|n,Yi=i+e}else Gi=1<<i|r<<a|n,Yi=e}function $_(e){e.return!==null&&(Uo(e,1),gM(e,1,0))}function I_(e){for(;e===fv;)fv=Sc[--Cc],Sc[Cc]=null,hv=Sc[--Cc],Sc[Cc]=null;for(;e===bl;)bl=ma[--va],ma[va]=null,Yi=ma[--va],ma[va]=null,Gi=ma[--va],ma[va]=null}var ea=null,Jn=null,Ht=!1,Ka=null;function yM(e,t){var r=ya(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function iP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ea=e,Jn=ao(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ea=e,Jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bl!==null?{id:Gi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ya(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ea=e,Jn=null,!0):!1;default:return!1}}function gw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yw(e){if(Ht){var t=Jn;if(t){var r=t;if(!iP(e,t)){if(gw(e))throw Error(he(418));t=ao(r.nextSibling);var n=ea;t&&iP(e,t)?yM(n,r):(e.flags=e.flags&-4097|2,Ht=!1,ea=e)}}else{if(gw(e))throw Error(he(418));e.flags=e.flags&-4097|2,Ht=!1,ea=e}}}function sP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ea=e}function Qp(e){if(e!==ea)return!1;if(!Ht)return sP(e),Ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hw(e.type,e.memoizedProps)),t&&(t=Jn)){if(gw(e))throw xM(),Error(he(418));for(;t;)yM(e,t),t=ao(t.nextSibling)}if(sP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jn=ao(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jn=null}}else Jn=ea?ao(e.stateNode.nextSibling):null;return!0}function xM(){for(var e=Jn;e;)e=ao(e.nextSibling)}function ou(){Jn=ea=null,Ht=!1}function D_(e){Ka===null?Ka=[e]:Ka.push(e)}var b8=ps.ReactCurrentBatchConfig;function Ud(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function Zp(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oP(e){var t=e._init;return t(e._payload)}function bM(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function a(v,x){return v=lo(v,x),v.index=0,v.sibling=null,v}function i(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,b,_){return x===null||x.tag!==6?(x=R0(b,v.mode,_),x.return=v,x):(x=a(x,b),x.return=v,x)}function c(v,x,b,_){var j=b.type;return j===yc?f(v,x,b.props.children,_,b.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ts&&oP(j)===x.type)?(_=a(x,b.props),_.ref=Ud(v,x,b),_.return=v,_):(_=qm(b.type,b.key,b.props,null,v.mode,_),_.ref=Ud(v,x,b),_.return=v,_)}function u(v,x,b,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=M0(b,v.mode,_),x.return=v,x):(x=a(x,b.children||[]),x.return=v,x)}function f(v,x,b,_,j){return x===null||x.tag!==7?(x=vl(b,v.mode,_,j),x.return=v,x):(x=a(x,b),x.return=v,x)}function d(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=R0(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zp:return b=qm(x.type,x.key,x.props,null,v.mode,b),b.ref=Ud(v,null,x),b.return=v,b;case gc:return x=M0(x,v.mode,b),x.return=v,x;case Ts:var _=x._init;return d(v,_(x._payload),b)}if(ff(x)||Dd(x))return x=vl(x,v.mode,b,null),x.return=v,x;Zp(v,x)}return null}function h(v,x,b,_){var j=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(v,x,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zp:return b.key===j?c(v,x,b,_):null;case gc:return b.key===j?u(v,x,b,_):null;case Ts:return j=b._init,h(v,x,j(b._payload),_)}if(ff(b)||Dd(b))return j!==null?null:f(v,x,b,_,null);Zp(v,b)}return null}function p(v,x,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,l(x,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zp:return v=v.get(_.key===null?b:_.key)||null,c(x,v,_,j);case gc:return v=v.get(_.key===null?b:_.key)||null,u(x,v,_,j);case Ts:var S=_._init;return p(v,x,b,S(_._payload),j)}if(ff(_)||Dd(_))return v=v.get(b)||null,f(x,v,_,j,null);Zp(x,_)}return null}function y(v,x,b,_){for(var j=null,S=null,C=x,N=x=0,A=null;C!==null&&N<b.length;N++){C.index>N?(A=C,C=null):A=C.sibling;var E=h(v,C,b[N],_);if(E===null){C===null&&(C=A);break}e&&C&&E.alternate===null&&t(v,C),x=i(E,x,N),S===null?j=E:S.sibling=E,S=E,C=A}if(N===b.length)return r(v,C),Ht&&Uo(v,N),j;if(C===null){for(;N<b.length;N++)C=d(v,b[N],_),C!==null&&(x=i(C,x,N),S===null?j=C:S.sibling=C,S=C);return Ht&&Uo(v,N),j}for(C=n(v,C);N<b.length;N++)A=p(C,v,N,b[N],_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?N:A.key),x=i(A,x,N),S===null?j=A:S.sibling=A,S=A);return e&&C.forEach(function(k){return t(v,k)}),Ht&&Uo(v,N),j}function m(v,x,b,_){var j=Dd(b);if(typeof j!="function")throw Error(he(150));if(b=j.call(b),b==null)throw Error(he(151));for(var S=j=null,C=x,N=x=0,A=null,E=b.next();C!==null&&!E.done;N++,E=b.next()){C.index>N?(A=C,C=null):A=C.sibling;var k=h(v,C,E.value,_);if(k===null){C===null&&(C=A);break}e&&C&&k.alternate===null&&t(v,C),x=i(k,x,N),S===null?j=k:S.sibling=k,S=k,C=A}if(E.done)return r(v,C),Ht&&Uo(v,N),j;if(C===null){for(;!E.done;N++,E=b.next())E=d(v,E.value,_),E!==null&&(x=i(E,x,N),S===null?j=E:S.sibling=E,S=E);return Ht&&Uo(v,N),j}for(C=n(v,C);!E.done;N++,E=b.next())E=p(C,v,N,E.value,_),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?N:E.key),x=i(E,x,N),S===null?j=E:S.sibling=E,S=E);return e&&C.forEach(function(R){return t(v,R)}),Ht&&Uo(v,N),j}function g(v,x,b,_){if(typeof b=="object"&&b!==null&&b.type===yc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zp:e:{for(var j=b.key,S=x;S!==null;){if(S.key===j){if(j=b.type,j===yc){if(S.tag===7){r(v,S.sibling),x=a(S,b.props.children),x.return=v,v=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ts&&oP(j)===S.type){r(v,S.sibling),x=a(S,b.props),x.ref=Ud(v,S,b),x.return=v,v=x;break e}r(v,S);break}else t(v,S);S=S.sibling}b.type===yc?(x=vl(b.props.children,v.mode,_,b.key),x.return=v,v=x):(_=qm(b.type,b.key,b.props,null,v.mode,_),_.ref=Ud(v,x,b),_.return=v,v=_)}return s(v);case gc:e:{for(S=b.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(v,x.sibling),x=a(x,b.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=M0(b,v.mode,_),x.return=v,v=x}return s(v);case Ts:return S=b._init,g(v,x,S(b._payload),_)}if(ff(b))return y(v,x,b,_);if(Dd(b))return m(v,x,b,_);Zp(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(v,x.sibling),x=a(x,b),x.return=v,v=x):(r(v,x),x=R0(b,v.mode,_),x.return=v,v=x),s(v)):r(v,x)}return g}var lu=bM(!0),wM=bM(!1),pv=So(null),mv=null,Nc=null,L_=null;function F_(){L_=Nc=mv=null}function B_(e){var t=pv.current;zt(pv),e._currentValue=t}function xw(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bc(e,t){mv=e,L_=Nc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function ja(e){var t=e._currentValue;if(L_!==e)if(e={context:e,memoizedValue:t,next:null},Nc===null){if(mv===null)throw Error(he(308));Nc=e,mv.dependencies={lanes:0,firstContext:e}}else Nc=Nc.next=e;return t}var Jo=null;function z_(e){Jo===null?Jo=[e]:Jo.push(e)}function jM(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,z_(t)):(r.next=a.next,a.next=r),t.interleaved=r,is(e,n)}function is(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rs=!1;function U_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _M(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function io(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ft&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,is(e,r)}return a=n.interleaved,a===null?(t.next=t,z_(n)):(t.next=a.next,a.next=t),n.interleaved=t,is(e,r)}function Bm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,P_(e,r)}}function lP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vv(e,t,r,n){var a=e.updateQueue;Rs=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=a.baseState;s=0,f=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(h=t,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=rr({},d,h);break e;case 2:Rs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);jl|=s,e.lanes=s,e.memoizedState=d}}function cP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(he(191,a));a.call(n)}}}var vp={},ji=So(vp),th=So(vp),rh=So(vp);function el(e){if(e===vp)throw Error(he(174));return e}function V_(e,t){switch(Rt(rh,t),Rt(th,e),Rt(ji,vp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jb(t,e)}zt(ji),Rt(ji,t)}function cu(){zt(ji),zt(th),zt(rh)}function SM(e){el(rh.current);var t=el(ji.current),r=Jb(t,e.type);t!==r&&(Rt(th,e),Rt(ji,r))}function W_(e){th.current===e&&(zt(ji),zt(th))}var Xt=So(0);function gv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var P0=[];function H_(){for(var e=0;e<P0.length;e++)P0[e]._workInProgressVersionPrimary=null;P0.length=0}var zm=ps.ReactCurrentDispatcher,E0=ps.ReactCurrentBatchConfig,wl=0,er=null,Pr=null,Ir=null,yv=!1,Sf=!1,nh=0,w8=0;function Zr(){throw Error(he(321))}function q_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ti(e[r],t[r]))return!1;return!0}function K_(e,t,r,n,a,i){if(wl=i,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zm.current=e===null||e.memoizedState===null?C8:N8,e=r(n,a),Sf){i=0;do{if(Sf=!1,nh=0,25<=i)throw Error(he(301));i+=1,Ir=Pr=null,t.updateQueue=null,zm.current=P8,e=r(n,a)}while(Sf)}if(zm.current=xv,t=Pr!==null&&Pr.next!==null,wl=0,Ir=Pr=er=null,yv=!1,t)throw Error(he(300));return e}function G_(){var e=nh!==0;return nh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?er.memoizedState=Ir=e:Ir=Ir.next=e,Ir}function _a(){if(Pr===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=Pr.next;var t=Ir===null?er.memoizedState:Ir.next;if(t!==null)Ir=t,Pr=e;else{if(e===null)throw Error(he(310));Pr=e,e={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},Ir===null?er.memoizedState=Ir=e:Ir=Ir.next=e}return Ir}function ah(e,t){return typeof t=="function"?t(e):t}function A0(e){var t=_a(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=Pr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var f=u.lane;if((wl&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,s=n):c=c.next=d,er.lanes|=f,jl|=f}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,ti(n,t.memoizedState)||(Rn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,er.lanes|=i,jl|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function k0(e){var t=_a(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);ti(i,t.memoizedState)||(Rn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function CM(){}function NM(e,t){var r=er,n=_a(),a=t(),i=!ti(n.memoizedState,a);if(i&&(n.memoizedState=a,Rn=!0),n=n.queue,Y_(AM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ir!==null&&Ir.memoizedState.tag&1){if(r.flags|=2048,ih(9,EM.bind(null,r,n,a,t),void 0,null),Lr===null)throw Error(he(349));wl&30||PM(r,t,a)}return a}function PM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function EM(e,t,r,n){t.value=r,t.getSnapshot=n,kM(t)&&OM(e)}function AM(e,t,r){return r(function(){kM(t)&&OM(e)})}function kM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ti(e,r)}catch{return!0}}function OM(e){var t=is(e,1);t!==null&&Za(t,e,1,-1)}function uP(e){var t=ci();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:e},t.queue=e,e=e.dispatch=S8.bind(null,er,e),[t.memoizedState,e]}function ih(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function TM(){return _a().memoizedState}function Um(e,t,r,n){var a=ci();er.flags|=e,a.memoizedState=ih(1|t,r,void 0,n===void 0?null:n)}function my(e,t,r,n){var a=_a();n=n===void 0?null:n;var i=void 0;if(Pr!==null){var s=Pr.memoizedState;if(i=s.destroy,n!==null&&q_(n,s.deps)){a.memoizedState=ih(t,r,i,n);return}}er.flags|=e,a.memoizedState=ih(1|t,r,i,n)}function dP(e,t){return Um(8390656,8,e,t)}function Y_(e,t){return my(2048,8,e,t)}function RM(e,t){return my(4,2,e,t)}function MM(e,t){return my(4,4,e,t)}function $M(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IM(e,t,r){return r=r!=null?r.concat([e]):null,my(4,4,$M.bind(null,t,e),r)}function X_(){}function DM(e,t){var r=_a();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function LM(e,t){var r=_a();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function FM(e,t,r){return wl&21?(ti(r,t)||(r=WR(),er.lanes|=r,jl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=r)}function j8(e,t){var r=Ct;Ct=r!==0&&4>r?r:4,e(!0);var n=E0.transition;E0.transition={};try{e(!1),t()}finally{Ct=r,E0.transition=n}}function BM(){return _a().memoizedState}function _8(e,t,r){var n=oo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zM(e))UM(t,r);else if(r=jM(e,t,r,n),r!==null){var a=bn();Za(r,e,n,a),VM(r,t,n)}}function S8(e,t,r){var n=oo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zM(e))UM(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,ti(l,s)){var c=t.interleaved;c===null?(a.next=a,z_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=jM(e,t,a,n),r!==null&&(a=bn(),Za(r,e,n,a),VM(r,t,n))}}function zM(e){var t=e.alternate;return e===er||t!==null&&t===er}function UM(e,t){Sf=yv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function VM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,P_(e,r)}}var xv={readContext:ja,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},C8={readContext:ja,useCallback:function(e,t){return ci().memoizedState=[e,t===void 0?null:t],e},useContext:ja,useEffect:dP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Um(4194308,4,$M.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Um(4194308,4,e,t)},useInsertionEffect:function(e,t){return Um(4,2,e,t)},useMemo:function(e,t){var r=ci();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ci();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_8.bind(null,er,e),[n.memoizedState,e]},useRef:function(e){var t=ci();return e={current:e},t.memoizedState=e},useState:uP,useDebugValue:X_,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=uP(!1),t=e[0];return e=j8.bind(null,e[1]),ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=er,a=ci();if(Ht){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),Lr===null)throw Error(he(349));wl&30||PM(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,dP(AM.bind(null,n,i,e),[e]),n.flags|=2048,ih(9,EM.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ci(),t=Lr.identifierPrefix;if(Ht){var r=Yi,n=Gi;r=(n&~(1<<32-Qa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=w8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},N8={readContext:ja,useCallback:DM,useContext:ja,useEffect:Y_,useImperativeHandle:IM,useInsertionEffect:RM,useLayoutEffect:MM,useMemo:LM,useReducer:A0,useRef:TM,useState:function(){return A0(ah)},useDebugValue:X_,useDeferredValue:function(e){var t=_a();return FM(t,Pr.memoizedState,e)},useTransition:function(){var e=A0(ah)[0],t=_a().memoizedState;return[e,t]},useMutableSource:CM,useSyncExternalStore:NM,useId:BM,unstable_isNewReconciler:!1},P8={readContext:ja,useCallback:DM,useContext:ja,useEffect:Y_,useImperativeHandle:IM,useInsertionEffect:RM,useLayoutEffect:MM,useMemo:LM,useReducer:k0,useRef:TM,useState:function(){return k0(ah)},useDebugValue:X_,useDeferredValue:function(e){var t=_a();return Pr===null?t.memoizedState=e:FM(t,Pr.memoizedState,e)},useTransition:function(){var e=k0(ah)[0],t=_a().memoizedState;return[e,t]},useMutableSource:CM,useSyncExternalStore:NM,useId:BM,unstable_isNewReconciler:!1};function Da(e,t){if(e&&e.defaultProps){t=rr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bw(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vy={isMounted:function(e){return(e=e._reactInternals)?Dl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bn(),a=oo(e),i=Ji(n,a);i.payload=t,r!=null&&(i.callback=r),t=io(e,i,a),t!==null&&(Za(t,e,a,n),Bm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bn(),a=oo(e),i=Ji(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=io(e,i,a),t!==null&&(Za(t,e,a,n),Bm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bn(),n=oo(e),a=Ji(r,n);a.tag=2,t!=null&&(a.callback=t),t=io(e,a,n),t!==null&&(Za(t,e,n,r),Bm(t,e,n))}};function fP(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Qf(r,n)||!Qf(a,i):!0}function WM(e,t,r){var n=!1,a=vo,i=t.contextType;return typeof i=="object"&&i!==null?i=ja(i):(a=Dn(t)?xl:ln.current,n=t.contextTypes,i=(n=n!=null)?su(e,a):vo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function hP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vy.enqueueReplaceState(t,t.state,null)}function ww(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},U_(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ja(i):(i=Dn(t)?xl:ln.current,a.context=su(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bw(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&vy.enqueueReplaceState(a,a.state,null),vv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function uu(e,t){try{var r="",n=t;do r+=tV(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function O0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jw(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var E8=typeof WeakMap=="function"?WeakMap:Map;function HM(e,t,r){r=Ji(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){wv||(wv=!0,Tw=n),jw(e,t)},r}function qM(e,t,r){r=Ji(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){jw(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jw(e,t),typeof n!="function"&&(so===null?so=new Set([this]):so.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function pP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new E8;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=U8.bind(null,e,t,r),t.then(e,e))}function mP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vP(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ji(-1,1),t.tag=2,io(r,t,1))),r.lanes|=1),e)}var A8=ps.ReactCurrentOwner,Rn=!1;function hn(e,t,r,n){t.child=e===null?wM(t,null,r,n):lu(t,e.child,r,n)}function gP(e,t,r,n,a){r=r.render;var i=t.ref;return Bc(t,a),n=K_(e,t,r,n,i,a),r=G_(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ss(e,t,a)):(Ht&&r&&$_(t),t.flags|=1,hn(e,t,n,a),t.child)}function yP(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!aS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,KM(e,t,i,n,a)):(e=qm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Qf,r(s,n)&&e.ref===t.ref)return ss(e,t,a)}return t.flags|=1,e=lo(i,n),e.ref=t.ref,e.return=t,t.child=e}function KM(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Qf(i,n)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,ss(e,t,a)}return _w(e,t,r,n,a)}function GM(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Ec,Kn),Kn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(Ec,Kn),Kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Rt(Ec,Kn),Kn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Rt(Ec,Kn),Kn|=n;return hn(e,t,a,r),t.child}function YM(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _w(e,t,r,n,a){var i=Dn(r)?xl:ln.current;return i=su(t,i),Bc(t,a),r=K_(e,t,r,n,i,a),n=G_(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ss(e,t,a)):(Ht&&n&&$_(t),t.flags|=1,hn(e,t,r,a),t.child)}function xP(e,t,r,n,a){if(Dn(r)){var i=!0;dv(t)}else i=!1;if(Bc(t,a),t.stateNode===null)Vm(e,t),WM(t,r,n),ww(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=ja(u):(u=Dn(r)?xl:ln.current,u=su(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&hP(t,s,n,u),Rs=!1;var h=t.memoizedState;s.state=h,vv(t,n,s,a),c=t.memoizedState,l!==n||h!==c||In.current||Rs?(typeof f=="function"&&(bw(t,r,f,n),c=t.memoizedState),(l=Rs||fP(t,r,l,n,h,c,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,_M(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Da(t.type,l),s.props=u,d=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=ja(c):(c=Dn(r)?xl:ln.current,c=su(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||h!==c)&&hP(t,s,n,c),Rs=!1,h=t.memoizedState,s.state=h,vv(t,n,s,a);var y=t.memoizedState;l!==d||h!==y||In.current||Rs?(typeof p=="function"&&(bw(t,r,p,n),y=t.memoizedState),(u=Rs||fP(t,r,u,n,h,y,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Sw(e,t,r,n,i,a)}function Sw(e,t,r,n,a,i){YM(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&aP(t,r,!1),ss(e,t,i);n=t.stateNode,A8.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=lu(t,e.child,null,i),t.child=lu(t,null,l,i)):hn(e,t,l,i),t.memoizedState=n.state,a&&aP(t,r,!0),t.child}function XM(e){var t=e.stateNode;t.pendingContext?nP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nP(e,t.context,!1),V_(e,t.containerInfo)}function bP(e,t,r,n,a){return ou(),D_(a),t.flags|=256,hn(e,t,r,n),t.child}var Cw={dehydrated:null,treeContext:null,retryLane:0};function Nw(e){return{baseLanes:e,cachePool:null,transitions:null}}function QM(e,t,r){var n=t.pendingProps,a=Xt.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Rt(Xt,a&1),e===null)return yw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=xy(s,n,0,null),e=vl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Nw(r),t.memoizedState=Cw,e):Q_(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return k8(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=lo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=lo(l,i):(i=vl(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Nw(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Cw,n}return i=e.child,e=i.sibling,n=lo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Q_(e,t){return t=xy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jp(e,t,r,n){return n!==null&&D_(n),lu(t,e.child,null,r),e=Q_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k8(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=O0(Error(he(422))),Jp(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=xy({mode:"visible",children:n.children},a,0,null),i=vl(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&lu(t,e.child,null,s),t.child.memoizedState=Nw(s),t.memoizedState=Cw,i);if(!(t.mode&1))return Jp(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(he(419)),n=O0(i,n,void 0),Jp(e,t,s,n)}if(l=(s&e.childLanes)!==0,Rn||l){if(n=Lr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,is(e,a),Za(n,e,a,-1))}return nS(),n=O0(Error(he(421))),Jp(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=V8.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Jn=ao(a.nextSibling),ea=t,Ht=!0,Ka=null,e!==null&&(ma[va++]=Gi,ma[va++]=Yi,ma[va++]=bl,Gi=e.id,Yi=e.overflow,bl=t),t=Q_(t,n.children),t.flags|=4096,t)}function wP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xw(e.return,t,r)}function T0(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function ZM(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(hn(e,t,n.children,r),n=Xt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wP(e,r,t);else if(e.tag===19)wP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rt(Xt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&gv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),T0(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&gv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}T0(t,!0,r,null,i);break;case"together":T0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ss(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=lo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=lo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function O8(e,t,r){switch(t.tag){case 3:XM(t),ou();break;case 5:SM(t);break;case 1:Dn(t.type)&&dv(t);break;case 4:V_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Rt(pv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rt(Xt,Xt.current&1),t.flags|=128,null):r&t.child.childLanes?QM(e,t,r):(Rt(Xt,Xt.current&1),e=ss(e,t,r),e!==null?e.sibling:null);Rt(Xt,Xt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ZM(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Rt(Xt,Xt.current),n)break;return null;case 22:case 23:return t.lanes=0,GM(e,t,r)}return ss(e,t,r)}var JM,Pw,e$,t$;JM=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Pw=function(){};e$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,el(ji.current);var i=null;switch(r){case"input":a=Yb(e,a),n=Yb(e,n),i=[];break;case"select":a=rr({},a,{value:void 0}),n=rr({},n,{value:void 0}),i=[];break;case"textarea":a=Zb(e,a),n=Zb(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=cv)}ew(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&It("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};t$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vd(e,t){if(!Ht)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function T8(e,t,r){var n=t.pendingProps;switch(I_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return Dn(t.type)&&uv(),Jr(t),null;case 3:return n=t.stateNode,cu(),zt(In),zt(ln),H_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ka!==null&&($w(Ka),Ka=null))),Pw(e,t),Jr(t),null;case 5:W_(t);var a=el(rh.current);if(r=t.type,e!==null&&t.stateNode!=null)e$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(he(166));return Jr(t),null}if(e=el(ji.current),Qp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[hi]=t,n[eh]=i,e=(t.mode&1)!==0,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<pf.length;a++)It(pf[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":kN(n,i),It("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},It("invalid",n);break;case"textarea":TN(n,i),It("invalid",n)}ew(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Xp(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Xp(n.textContent,l,e),a=["children",""+l]):Wf.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&It("scroll",n)}switch(r){case"input":Up(n),ON(n,i,!0);break;case"textarea":Up(n),RN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=cv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[hi]=t,e[eh]=n,JM(e,t,!1,!1),t.stateNode=e;e:{switch(s=tw(r,n),r){case"dialog":It("cancel",e),It("close",e),a=n;break;case"iframe":case"object":case"embed":It("load",e),a=n;break;case"video":case"audio":for(a=0;a<pf.length;a++)It(pf[a],e);a=n;break;case"source":It("error",e),a=n;break;case"img":case"image":case"link":It("error",e),It("load",e),a=n;break;case"details":It("toggle",e),a=n;break;case"input":kN(e,n),a=Yb(e,n),It("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=rr({},n,{value:void 0}),It("invalid",e);break;case"textarea":TN(e,n),a=Zb(e,n),It("invalid",e);break;default:a=n}ew(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?TR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Hf(e,c):typeof c=="number"&&Hf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&It("scroll",e):c!=null&&w_(e,i,c,s))}switch(r){case"input":Up(e),ON(e,n,!1);break;case"textarea":Up(e),RN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+mo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ic(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ic(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=cv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)t$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(he(166));if(r=el(rh.current),el(ji.current),Qp(t)){if(n=t.stateNode,r=t.memoizedProps,n[hi]=t,(i=n.nodeValue!==r)&&(e=ea,e!==null))switch(e.tag){case 3:Xp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hi]=t,t.stateNode=n}return Jr(t),null;case 13:if(zt(Xt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ht&&Jn!==null&&t.mode&1&&!(t.flags&128))xM(),ou(),t.flags|=98560,i=!1;else if(i=Qp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[hi]=t}else ou(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),i=!1}else Ka!==null&&($w(Ka),Ka=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xt.current&1?Ar===0&&(Ar=3):nS())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return cu(),Pw(e,t),e===null&&Zf(t.stateNode.containerInfo),Jr(t),null;case 10:return B_(t.type._context),Jr(t),null;case 17:return Dn(t.type)&&uv(),Jr(t),null;case 19:if(zt(Xt),i=t.memoizedState,i===null)return Jr(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Vd(i,!1);else{if(Ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=gv(e),s!==null){for(t.flags|=128,Vd(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rt(Xt,Xt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ur()>du&&(t.flags|=128,n=!0,Vd(i,!1),t.lanes=4194304)}else{if(!n)if(e=gv(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ht)return Jr(t),null}else 2*ur()-i.renderingStartTime>du&&r!==1073741824&&(t.flags|=128,n=!0,Vd(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ur(),t.sibling=null,r=Xt.current,Rt(Xt,n?r&1|2:r&1),t):(Jr(t),null);case 22:case 23:return rS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kn&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function R8(e,t){switch(I_(t),t.tag){case 1:return Dn(t.type)&&uv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cu(),zt(In),zt(ln),H_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return W_(t),null;case 13:if(zt(Xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));ou()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(Xt),null;case 4:return cu(),null;case 10:return B_(t.type._context),null;case 22:case 23:return rS(),null;case 24:return null;default:return null}}var em=!1,rn=!1,M8=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Pc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(e,t,n)}else r.current=null}function Ew(e,t,r){try{r()}catch(n){sr(e,t,n)}}var jP=!1;function $8(e,t){if(dw=sv,e=sM(),M_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(l=s+a),d!==i||n!==0&&d.nodeType!==3||(c=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===a&&(l=s),h===i&&++f===n&&(c=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fw={focusedElem:e,selectionRange:r},sv=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,g=y.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Da(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(_){sr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return y=jP,jP=!1,y}function Cf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ew(t,r,i)}a=a.next}while(a!==n)}}function gy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Aw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function r$(e){var t=e.alternate;t!==null&&(e.alternate=null,r$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hi],delete t[eh],delete t[mw],delete t[g8],delete t[y8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n$(e){return e.tag===5||e.tag===3||e.tag===4}function _P(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=cv));else if(n!==4&&(e=e.child,e!==null))for(kw(e,t,r),e=e.sibling;e!==null;)kw(e,t,r),e=e.sibling}function Ow(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ow(e,t,r),e=e.sibling;e!==null;)Ow(e,t,r),e=e.sibling}var Hr=null,Va=!1;function Cs(e,t,r){for(r=r.child;r!==null;)a$(e,t,r),r=r.sibling}function a$(e,t,r){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(cy,r)}catch{}switch(r.tag){case 5:rn||Pc(r,t);case 6:var n=Hr,a=Va;Hr=null,Cs(e,t,r),Hr=n,Va=a,Hr!==null&&(Va?(e=Hr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Hr.removeChild(r.stateNode));break;case 18:Hr!==null&&(Va?(e=Hr,r=r.stateNode,e.nodeType===8?C0(e.parentNode,r):e.nodeType===1&&C0(e,r),Yf(e)):C0(Hr,r.stateNode));break;case 4:n=Hr,a=Va,Hr=r.stateNode.containerInfo,Va=!0,Cs(e,t,r),Hr=n,Va=a;break;case 0:case 11:case 14:case 15:if(!rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ew(r,t,s),a=a.next}while(a!==n)}Cs(e,t,r);break;case 1:if(!rn&&(Pc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){sr(r,t,l)}Cs(e,t,r);break;case 21:Cs(e,t,r);break;case 22:r.mode&1?(rn=(n=rn)||r.memoizedState!==null,Cs(e,t,r),rn=n):Cs(e,t,r);break;default:Cs(e,t,r)}}function SP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new M8),t.forEach(function(n){var a=W8.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ta(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Hr=l.stateNode,Va=!1;break e;case 3:Hr=l.stateNode.containerInfo,Va=!0;break e;case 4:Hr=l.stateNode.containerInfo,Va=!0;break e}l=l.return}if(Hr===null)throw Error(he(160));a$(i,s,a),Hr=null,Va=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){sr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i$(t,e),t=t.sibling}function i$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ta(t,e),oi(e),n&4){try{Cf(3,e,e.return),gy(3,e)}catch(m){sr(e,e.return,m)}try{Cf(5,e,e.return)}catch(m){sr(e,e.return,m)}}break;case 1:Ta(t,e),oi(e),n&512&&r!==null&&Pc(r,r.return);break;case 5:if(Ta(t,e),oi(e),n&512&&r!==null&&Pc(r,r.return),e.flags&32){var a=e.stateNode;try{Hf(a,"")}catch(m){sr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&PR(a,i),tw(l,s);var u=tw(l,i);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];f==="style"?TR(a,d):f==="dangerouslySetInnerHTML"?kR(a,d):f==="children"?Hf(a,d):w_(a,f,d,u)}switch(l){case"input":Xb(a,i);break;case"textarea":ER(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ic(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ic(a,!!i.multiple,i.defaultValue,!0):Ic(a,!!i.multiple,i.multiple?[]:"",!1))}a[eh]=i}catch(m){sr(e,e.return,m)}}break;case 6:if(Ta(t,e),oi(e),n&4){if(e.stateNode===null)throw Error(he(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){sr(e,e.return,m)}}break;case 3:if(Ta(t,e),oi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yf(t.containerInfo)}catch(m){sr(e,e.return,m)}break;case 4:Ta(t,e),oi(e);break;case 13:Ta(t,e),oi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(eS=ur())),n&4&&SP(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(rn=(u=rn)||f,Ta(t,e),rn=u):Ta(t,e),oi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Pe=e,f=e.child;f!==null;){for(d=Pe=f;Pe!==null;){switch(h=Pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Cf(4,h,h.return);break;case 1:Pc(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){sr(n,r,m)}}break;case 5:Pc(h,h.return);break;case 22:if(h.memoizedState!==null){NP(d);continue}}p!==null?(p.return=h,Pe=p):NP(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=OR("display",s))}catch(m){sr(e,e.return,m)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){sr(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ta(t,e),oi(e),n&4&&SP(e);break;case 21:break;default:Ta(t,e),oi(e)}}function oi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(n$(r)){var n=r;break e}r=r.return}throw Error(he(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Hf(a,""),n.flags&=-33);var i=_P(e);Ow(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=_P(e);kw(e,l,s);break;default:throw Error(he(161))}}catch(c){sr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function I8(e,t,r){Pe=e,s$(e)}function s$(e,t,r){for(var n=(e.mode&1)!==0;Pe!==null;){var a=Pe,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||em;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||rn;l=em;var u=rn;if(em=s,(rn=c)&&!u)for(Pe=a;Pe!==null;)s=Pe,c=s.child,s.tag===22&&s.memoizedState!==null?PP(a):c!==null?(c.return=s,Pe=c):PP(a);for(;i!==null;)Pe=i,s$(i),i=i.sibling;Pe=a,em=l,rn=u}CP(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Pe=i):CP(e)}}function CP(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||gy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Da(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cP(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cP(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Yf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}rn||t.flags&512&&Aw(t)}catch(h){sr(t,t.return,h)}}if(t===e){Pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function NP(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function PP(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gy(4,t)}catch(c){sr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){sr(t,a,c)}}var i=t.return;try{Aw(t)}catch(c){sr(t,i,c)}break;case 5:var s=t.return;try{Aw(t)}catch(c){sr(t,s,c)}}}catch(c){sr(t,t.return,c)}if(t===e){Pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Pe=l;break}Pe=t.return}}var D8=Math.ceil,bv=ps.ReactCurrentDispatcher,Z_=ps.ReactCurrentOwner,ba=ps.ReactCurrentBatchConfig,ft=0,Lr=null,gr=null,Kr=0,Kn=0,Ec=So(0),Ar=0,sh=null,jl=0,yy=0,J_=0,Nf=null,Tn=null,eS=0,du=1/0,Ui=null,wv=!1,Tw=null,so=null,tm=!1,Ks=null,jv=0,Pf=0,Rw=null,Wm=-1,Hm=0;function bn(){return ft&6?ur():Wm!==-1?Wm:Wm=ur()}function oo(e){return e.mode&1?ft&2&&Kr!==0?Kr&-Kr:b8.transition!==null?(Hm===0&&(Hm=WR()),Hm):(e=Ct,e!==0||(e=window.event,e=e===void 0?16:QR(e.type)),e):1}function Za(e,t,r,n){if(50<Pf)throw Pf=0,Rw=null,Error(he(185));hp(e,r,n),(!(ft&2)||e!==Lr)&&(e===Lr&&(!(ft&2)&&(yy|=r),Ar===4&&Ls(e,Kr)),Ln(e,n),r===1&&ft===0&&!(t.mode&1)&&(du=ur()+500,py&&Co()))}function Ln(e,t){var r=e.callbackNode;bV(e,t);var n=iv(e,e===Lr?Kr:0);if(n===0)r!==null&&IN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&IN(r),t===1)e.tag===0?x8(EP.bind(null,e)):vM(EP.bind(null,e)),m8(function(){!(ft&6)&&Co()}),r=null;else{switch(HR(n)){case 1:r=N_;break;case 4:r=UR;break;case 16:r=av;break;case 536870912:r=VR;break;default:r=av}r=p$(r,o$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function o$(e,t){if(Wm=-1,Hm=0,ft&6)throw Error(he(327));var r=e.callbackNode;if(zc()&&e.callbackNode!==r)return null;var n=iv(e,e===Lr?Kr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_v(e,n);else{t=n;var a=ft;ft|=2;var i=c$();(Lr!==e||Kr!==t)&&(Ui=null,du=ur()+500,ml(e,t));do try{B8();break}catch(l){l$(e,l)}while(!0);F_(),bv.current=i,ft=a,gr!==null?t=0:(Lr=null,Kr=0,t=Ar)}if(t!==0){if(t===2&&(a=sw(e),a!==0&&(n=a,t=Mw(e,a))),t===1)throw r=sh,ml(e,0),Ls(e,n),Ln(e,ur()),r;if(t===6)Ls(e,n);else{if(a=e.current.alternate,!(n&30)&&!L8(a)&&(t=_v(e,n),t===2&&(i=sw(e),i!==0&&(n=i,t=Mw(e,i))),t===1))throw r=sh,ml(e,0),Ls(e,n),Ln(e,ur()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(he(345));case 2:Vo(e,Tn,Ui);break;case 3:if(Ls(e,n),(n&130023424)===n&&(t=eS+500-ur(),10<t)){if(iv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){bn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=pw(Vo.bind(null,e,Tn,Ui),t);break}Vo(e,Tn,Ui);break;case 4:if(Ls(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Qa(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=ur()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*D8(n/1960))-n,10<n){e.timeoutHandle=pw(Vo.bind(null,e,Tn,Ui),n);break}Vo(e,Tn,Ui);break;case 5:Vo(e,Tn,Ui);break;default:throw Error(he(329))}}}return Ln(e,ur()),e.callbackNode===r?o$.bind(null,e):null}function Mw(e,t){var r=Nf;return e.current.memoizedState.isDehydrated&&(ml(e,t).flags|=256),e=_v(e,t),e!==2&&(t=Tn,Tn=r,t!==null&&$w(t)),e}function $w(e){Tn===null?Tn=e:Tn.push.apply(Tn,e)}function L8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ti(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ls(e,t){for(t&=~J_,t&=~yy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qa(t),n=1<<r;e[r]=-1,t&=~n}}function EP(e){if(ft&6)throw Error(he(327));zc();var t=iv(e,0);if(!(t&1))return Ln(e,ur()),null;var r=_v(e,t);if(e.tag!==0&&r===2){var n=sw(e);n!==0&&(t=n,r=Mw(e,n))}if(r===1)throw r=sh,ml(e,0),Ls(e,t),Ln(e,ur()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vo(e,Tn,Ui),Ln(e,ur()),null}function tS(e,t){var r=ft;ft|=1;try{return e(t)}finally{ft=r,ft===0&&(du=ur()+500,py&&Co())}}function _l(e){Ks!==null&&Ks.tag===0&&!(ft&6)&&zc();var t=ft;ft|=1;var r=ba.transition,n=Ct;try{if(ba.transition=null,Ct=1,e)return e()}finally{Ct=n,ba.transition=r,ft=t,!(ft&6)&&Co()}}function rS(){Kn=Ec.current,zt(Ec)}function ml(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,p8(r)),gr!==null)for(r=gr.return;r!==null;){var n=r;switch(I_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&uv();break;case 3:cu(),zt(In),zt(ln),H_();break;case 5:W_(n);break;case 4:cu();break;case 13:zt(Xt);break;case 19:zt(Xt);break;case 10:B_(n.type._context);break;case 22:case 23:rS()}r=r.return}if(Lr=e,gr=e=lo(e.current,null),Kr=Kn=t,Ar=0,sh=null,J_=yy=jl=0,Tn=Nf=null,Jo!==null){for(t=0;t<Jo.length;t++)if(r=Jo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Jo=null}return e}function l$(e,t){do{var r=gr;try{if(F_(),zm.current=xv,yv){for(var n=er.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}yv=!1}if(wl=0,Ir=Pr=er=null,Sf=!1,nh=0,Z_.current=null,r===null||r.return===null){Ar=1,sh=t,gr=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=Kr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mP(s);if(p!==null){p.flags&=-257,vP(p,s,l,i,t),p.mode&1&&pP(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){pP(i,u,t),nS();break e}c=Error(he(426))}}else if(Ht&&l.mode&1){var g=mP(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),vP(g,s,l,i,t),D_(uu(c,l));break e}}i=c=uu(c,l),Ar!==4&&(Ar=2),Nf===null?Nf=[i]:Nf.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=HM(i,c,t);lP(i,v);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(so===null||!so.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=qM(i,l,t);lP(i,_);break e}}i=i.return}while(i!==null)}d$(r)}catch(j){t=j,gr===r&&r!==null&&(gr=r=r.return);continue}break}while(!0)}function c$(){var e=bv.current;return bv.current=xv,e===null?xv:e}function nS(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Lr===null||!(jl&268435455)&&!(yy&268435455)||Ls(Lr,Kr)}function _v(e,t){var r=ft;ft|=2;var n=c$();(Lr!==e||Kr!==t)&&(Ui=null,ml(e,t));do try{F8();break}catch(a){l$(e,a)}while(!0);if(F_(),ft=r,bv.current=n,gr!==null)throw Error(he(261));return Lr=null,Kr=0,Ar}function F8(){for(;gr!==null;)u$(gr)}function B8(){for(;gr!==null&&!dV();)u$(gr)}function u$(e){var t=h$(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?d$(e):gr=t,Z_.current=null}function d$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=R8(r,t),r!==null){r.flags&=32767,gr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ar=6,gr=null;return}}else if(r=T8(r,t,Kn),r!==null){gr=r;return}if(t=t.sibling,t!==null){gr=t;return}gr=t=e}while(t!==null);Ar===0&&(Ar=5)}function Vo(e,t,r){var n=Ct,a=ba.transition;try{ba.transition=null,Ct=1,z8(e,t,r,n)}finally{ba.transition=a,Ct=n}return null}function z8(e,t,r,n){do zc();while(Ks!==null);if(ft&6)throw Error(he(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(wV(e,i),e===Lr&&(gr=Lr=null,Kr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tm||(tm=!0,p$(av,function(){return zc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ba.transition,ba.transition=null;var s=Ct;Ct=1;var l=ft;ft|=4,Z_.current=null,$8(e,r),i$(r,e),o8(fw),sv=!!dw,fw=dw=null,e.current=r,I8(r),fV(),ft=l,Ct=s,ba.transition=i}else e.current=r;if(tm&&(tm=!1,Ks=e,jv=a),i=e.pendingLanes,i===0&&(so=null),mV(r.stateNode),Ln(e,ur()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(wv)throw wv=!1,e=Tw,Tw=null,e;return jv&1&&e.tag!==0&&zc(),i=e.pendingLanes,i&1?e===Rw?Pf++:(Pf=0,Rw=e):Pf=0,Co(),null}function zc(){if(Ks!==null){var e=HR(jv),t=ba.transition,r=Ct;try{if(ba.transition=null,Ct=16>e?16:e,Ks===null)var n=!1;else{if(e=Ks,Ks=null,jv=0,ft&6)throw Error(he(331));var a=ft;for(ft|=4,Pe=e.current;Pe!==null;){var i=Pe,s=i.child;if(Pe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Pe=u;Pe!==null;){var f=Pe;switch(f.tag){case 0:case 11:case 15:Cf(8,f,i)}var d=f.child;if(d!==null)d.return=f,Pe=d;else for(;Pe!==null;){f=Pe;var h=f.sibling,p=f.return;if(r$(f),f===u){Pe=null;break}if(h!==null){h.return=p,Pe=h;break}Pe=p}}}var y=i.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Pe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Pe=s;else e:for(;Pe!==null;){if(i=Pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cf(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Pe=v;break e}Pe=i.return}}var x=e.current;for(Pe=x;Pe!==null;){s=Pe;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Pe=b;else e:for(s=x;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gy(9,l)}}catch(j){sr(l,l.return,j)}if(l===s){Pe=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Pe=_;break e}Pe=l.return}}if(ft=a,Co(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(cy,e)}catch{}n=!0}return n}finally{Ct=r,ba.transition=t}}return!1}function AP(e,t,r){t=uu(r,t),t=HM(e,t,1),e=io(e,t,1),t=bn(),e!==null&&(hp(e,1,t),Ln(e,t))}function sr(e,t,r){if(e.tag===3)AP(e,e,r);else for(;t!==null;){if(t.tag===3){AP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(so===null||!so.has(n))){e=uu(r,e),e=qM(t,e,1),t=io(t,e,1),e=bn(),t!==null&&(hp(t,1,e),Ln(t,e));break}}t=t.return}}function U8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&r,Lr===e&&(Kr&r)===r&&(Ar===4||Ar===3&&(Kr&130023424)===Kr&&500>ur()-eS?ml(e,0):J_|=r),Ln(e,t)}function f$(e,t){t===0&&(e.mode&1?(t=Hp,Hp<<=1,!(Hp&130023424)&&(Hp=4194304)):t=1);var r=bn();e=is(e,t),e!==null&&(hp(e,t,r),Ln(e,r))}function V8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),f$(e,r)}function W8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(he(314))}n!==null&&n.delete(t),f$(e,r)}var h$;h$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||In.current)Rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rn=!1,O8(e,t,r);Rn=!!(e.flags&131072)}else Rn=!1,Ht&&t.flags&1048576&&gM(t,hv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vm(e,t),e=t.pendingProps;var a=su(t,ln.current);Bc(t,r),a=K_(null,t,n,e,a,r);var i=G_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(n)?(i=!0,dv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,U_(t),a.updater=vy,t.stateNode=a,a._reactInternals=t,ww(t,n,e,r),t=Sw(null,t,n,!0,i,r)):(t.tag=0,Ht&&i&&$_(t),hn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=q8(n),e=Da(n,e),a){case 0:t=_w(null,t,n,e,r);break e;case 1:t=xP(null,t,n,e,r);break e;case 11:t=gP(null,t,n,e,r);break e;case 14:t=yP(null,t,n,Da(n.type,e),r);break e}throw Error(he(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),_w(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),xP(e,t,n,a,r);case 3:e:{if(XM(t),e===null)throw Error(he(387));n=t.pendingProps,i=t.memoizedState,a=i.element,_M(e,t),vv(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=uu(Error(he(423)),t),t=bP(e,t,n,r,a);break e}else if(n!==a){a=uu(Error(he(424)),t),t=bP(e,t,n,r,a);break e}else for(Jn=ao(t.stateNode.containerInfo.firstChild),ea=t,Ht=!0,Ka=null,r=wM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ou(),n===a){t=ss(e,t,r);break e}hn(e,t,n,r)}t=t.child}return t;case 5:return SM(t),e===null&&yw(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,hw(n,a)?s=null:i!==null&&hw(n,i)&&(t.flags|=32),YM(e,t),hn(e,t,s,r),t.child;case 6:return e===null&&yw(t),null;case 13:return QM(e,t,r);case 4:return V_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lu(t,null,n,r):hn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),gP(e,t,n,a,r);case 7:return hn(e,t,t.pendingProps,r),t.child;case 8:return hn(e,t,t.pendingProps.children,r),t.child;case 12:return hn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Rt(pv,n._currentValue),n._currentValue=s,i!==null)if(ti(i.value,s)){if(i.children===a.children&&!In.current){t=ss(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ji(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),xw(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(he(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),xw(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}hn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Bc(t,r),a=ja(a),n=n(a),t.flags|=1,hn(e,t,n,r),t.child;case 14:return n=t.type,a=Da(n,t.pendingProps),a=Da(n.type,a),yP(e,t,n,a,r);case 15:return KM(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),Vm(e,t),t.tag=1,Dn(n)?(e=!0,dv(t)):e=!1,Bc(t,r),WM(t,n,a),ww(t,n,a,r),Sw(null,t,n,!0,e,r);case 19:return ZM(e,t,r);case 22:return GM(e,t,r)}throw Error(he(156,t.tag))};function p$(e,t){return zR(e,t)}function H8(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(e,t,r,n){return new H8(e,t,r,n)}function aS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q8(e){if(typeof e=="function")return aS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===__)return 11;if(e===S_)return 14}return 2}function lo(e,t){var r=e.alternate;return r===null?(r=ya(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qm(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")aS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case yc:return vl(r.children,a,i,t);case j_:s=8,a|=8;break;case Hb:return e=ya(12,r,t,a|2),e.elementType=Hb,e.lanes=i,e;case qb:return e=ya(13,r,t,a),e.elementType=qb,e.lanes=i,e;case Kb:return e=ya(19,r,t,a),e.elementType=Kb,e.lanes=i,e;case SR:return xy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jR:s=10;break e;case _R:s=9;break e;case __:s=11;break e;case S_:s=14;break e;case Ts:s=16,n=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=ya(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function vl(e,t,r,n){return e=ya(7,e,n,t),e.lanes=r,e}function xy(e,t,r,n){return e=ya(22,e,n,t),e.elementType=SR,e.lanes=r,e.stateNode={isHidden:!1},e}function R0(e,t,r){return e=ya(6,e,null,t),e.lanes=r,e}function M0(e,t,r){return t=ya(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K8(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p0(0),this.expirationTimes=p0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function iS(e,t,r,n,a,i,s,l,c){return e=new K8(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ya(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},U_(i),e}function G8(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function m$(e){if(!e)return vo;e=e._reactInternals;e:{if(Dl(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(Dn(r))return mM(e,r,t)}return t}function v$(e,t,r,n,a,i,s,l,c){return e=iS(r,n,!0,e,a,i,s,l,c),e.context=m$(null),r=e.current,n=bn(),a=oo(r),i=Ji(n,a),i.callback=t??null,io(r,i,a),e.current.lanes=a,hp(e,a,n),Ln(e,n),e}function by(e,t,r,n){var a=t.current,i=bn(),s=oo(a);return r=m$(r),t.context===null?t.context=r:t.pendingContext=r,t=Ji(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=io(a,t,s),e!==null&&(Za(e,a,s,i),Bm(e,a,s)),s}function Sv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sS(e,t){kP(e,t),(e=e.alternate)&&kP(e,t)}function Y8(){return null}var g$=typeof reportError=="function"?reportError:function(e){console.error(e)};function oS(e){this._internalRoot=e}wy.prototype.render=oS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));by(e,t,null,null)};wy.prototype.unmount=oS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_l(function(){by(null,e,null,null)}),t[as]=null}};function wy(e){this._internalRoot=e}wy.prototype.unstable_scheduleHydration=function(e){if(e){var t=GR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ds.length&&t!==0&&t<Ds[r].priority;r++);Ds.splice(r,0,e),r===0&&XR(e)}};function lS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function OP(){}function X8(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Sv(s);i.call(u)}}var s=v$(t,n,e,0,null,!1,!1,"",OP);return e._reactRootContainer=s,e[as]=s.current,Zf(e.nodeType===8?e.parentNode:e),_l(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Sv(c);l.call(u)}}var c=iS(e,0,!1,null,null,!1,!1,"",OP);return e._reactRootContainer=c,e[as]=c.current,Zf(e.nodeType===8?e.parentNode:e),_l(function(){by(t,c,r,n)}),c}function _y(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=Sv(s);l.call(c)}}by(t,s,e,a)}else s=X8(r,t,e,a,n);return Sv(s)}qR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hf(t.pendingLanes);r!==0&&(P_(t,r|1),Ln(t,ur()),!(ft&6)&&(du=ur()+500,Co()))}break;case 13:_l(function(){var n=is(e,1);if(n!==null){var a=bn();Za(n,e,1,a)}}),sS(e,1)}};E_=function(e){if(e.tag===13){var t=is(e,134217728);if(t!==null){var r=bn();Za(t,e,134217728,r)}sS(e,134217728)}};KR=function(e){if(e.tag===13){var t=oo(e),r=is(e,t);if(r!==null){var n=bn();Za(r,e,t,n)}sS(e,t)}};GR=function(){return Ct};YR=function(e,t){var r=Ct;try{return Ct=e,t()}finally{Ct=r}};nw=function(e,t,r){switch(t){case"input":if(Xb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=hy(n);if(!a)throw Error(he(90));NR(n),Xb(n,a)}}}break;case"textarea":ER(e,r);break;case"select":t=r.value,t!=null&&Ic(e,!!r.multiple,t,!1)}};$R=tS;IR=_l;var Q8={usingClientEntryPoint:!1,Events:[mp,jc,hy,RR,MR,tS]},Wd={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z8={bundleType:Wd.bundleType,version:Wd.version,rendererPackageName:Wd.rendererPackageName,rendererConfig:Wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=FR(e),e===null?null:e.stateNode},findFiberByHostInstance:Wd.findFiberByHostInstance||Y8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rm.isDisabled&&rm.supportsFiber)try{cy=rm.inject(Z8),wi=rm}catch{}}sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q8;sa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lS(t))throw Error(he(200));return G8(e,t,null,r)};sa.createRoot=function(e,t){if(!lS(e))throw Error(he(299));var r=!1,n="",a=g$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=iS(e,1,!1,null,null,r,!1,n,a),e[as]=t.current,Zf(e.nodeType===8?e.parentNode:e),new oS(t)};sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=FR(t),e=e===null?null:e.stateNode,e};sa.flushSync=function(e){return _l(e)};sa.hydrate=function(e,t,r){if(!jy(t))throw Error(he(200));return _y(null,e,t,!0,r)};sa.hydrateRoot=function(e,t,r){if(!lS(e))throw Error(he(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=g$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=v$(t,null,e,1,r??null,a,!1,i,s),e[as]=t.current,Zf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new wy(t)};sa.render=function(e,t,r){if(!jy(t))throw Error(he(200));return _y(null,e,t,!1,r)};sa.unmountComponentAtNode=function(e){if(!jy(e))throw Error(he(40));return e._reactRootContainer?(_l(function(){_y(null,null,e,!1,function(){e._reactRootContainer=null,e[as]=null})}),!0):!1};sa.unstable_batchedUpdates=tS;sa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jy(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return _y(e,t,r,!1,n)};sa.version="18.3.1-next-f1338f8080-20240426";function y$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y$)}catch(e){console.error(e)}}y$(),yR.exports=sa;var Ll=yR.exports;const x$=wt(Ll);var b$,TP=Ll;b$=TP.createRoot,TP.hydrateRoot;const J8=1,e6=1e6;let $0=0;function t6(){return $0=($0+1)%Number.MAX_SAFE_INTEGER,$0.toString()}const I0=new Map,RP=e=>{if(I0.has(e))return;const t=setTimeout(()=>{I0.delete(e),Ef({type:"REMOVE_TOAST",toastId:e})},e6);I0.set(e,t)},r6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,J8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?RP(r):e.toasts.forEach(n=>{RP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Km=[];let Gm={toasts:[]};function Ef(e){Gm=r6(Gm,e),Km.forEach(t=>{t(Gm)})}function qr({...e}){const t=t6(),r=a=>Ef({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ef({type:"DISMISS_TOAST",toastId:t});return Ef({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function w$(){const[e,t]=w.useState(Gm);return w.useEffect(()=>(Km.push(t),()=>{const r=Km.indexOf(t);r>-1&&Km.splice(r,1)}),[e]),{...e,toast:qr,dismiss:r=>Ef({type:"DISMISS_TOAST",toastId:r})}}function we(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function MP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function j$(...e){return t=>{let r=!1;const n=e.map(a=>{const i=MP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():MP(e[a],null)}}}}function Xe(...e){return w.useCallback(j$(...e),e)}function n6(e,t){const r=w.createContext(t),n=i=>{const{children:s,...l}=i,c=w.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function a(i){const s=w.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Sn(e,t=[]){let r=[];function n(i,s){const l=w.createContext(s),c=r.length;r=[...r,s];const u=d=>{var v;const{scope:h,children:p,...y}=d,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=w.useMemo(()=>y,Object.values(y));return o.jsx(m.Provider,{value:g,children:p})};u.displayName=i+"Provider";function f(d,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,y=w.useContext(p);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=r.map(s=>w.createContext(s));return function(l){const c=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,a6(a,...t)]}function a6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function Sl(e){const t=i6(e),r=w.forwardRef((n,a)=>{const{children:i,...s}=n,l=w.Children.toArray(i),c=l.find(s6);if(c){const u=c.props.children,f=l.map(d=>d===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:d);return o.jsx(t,{...s,ref:a,children:w.isValidElement(u)?w.cloneElement(u,void 0,f):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var _$=Sl("Slot");function i6(e){const t=w.forwardRef((r,n)=>{const{children:a,...i}=r;if(w.isValidElement(a)){const s=l6(a),l=o6(i,a.props);return a.type!==w.Fragment&&(l.ref=n?j$(n,s):s),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var S$=Symbol("radix.slottable");function C$(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=S$,t}function s6(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===S$}function o6(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function l6(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Sy(e){const t=e+"CollectionProvider",[r,n]=Sn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:g,children:v}=m,x=O.useRef(null),b=O.useRef(new Map).current;return o.jsx(a,{scope:g,itemMap:b,collectionRef:x,children:v})};s.displayName=t;const l=e+"CollectionSlot",c=Sl(l),u=O.forwardRef((m,g)=>{const{scope:v,children:x}=m,b=i(l,v),_=Xe(g,b.collectionRef);return o.jsx(c,{ref:_,children:x})});u.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=Sl(f),p=O.forwardRef((m,g)=>{const{scope:v,children:x,...b}=m,_=O.useRef(null),j=Xe(g,_),S=i(f,v);return O.useEffect(()=>(S.itemMap.set(_,{ref:_,...b}),()=>void S.itemMap.delete(_))),o.jsx(h,{[d]:"",ref:j,children:x})});p.displayName=f;function y(m){const g=i(e+"CollectionConsumer",m);return O.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},y,n]}var c6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Te=c6.reduce((e,t)=>{const r=Sl(`Primitive.${t}`),n=w.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function N$(e,t){e&&Ll.flushSync(()=>e.dispatchEvent(t))}function Er(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function u6(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var d6="DismissableLayer",Iw="dismissableLayer.update",f6="dismissableLayer.pointerDownOutside",h6="dismissableLayer.focusOutside",$P,P$=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nd=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=e,u=w.useContext(P$),[f,d]=w.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),y=Xe(t,C=>d(C)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),x=f?m.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=v,j=m6(C=>{const N=C.target,A=[...u.branches].some(E=>E.contains(N));!_||A||(a==null||a(C),s==null||s(C),C.defaultPrevented||l==null||l())},h),S=v6(C=>{const N=C.target;[...u.branches].some(E=>E.contains(N))||(i==null||i(C),s==null||s(C),C.defaultPrevented||l==null||l())},h);return u6(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),w.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($P=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),IP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=$P)}},[f,h,r,u]),w.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),IP())},[f,u]),w.useEffect(()=>{const C=()=>p({});return document.addEventListener(Iw,C),()=>document.removeEventListener(Iw,C)},[]),o.jsx(Te.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,S.onFocusCapture),onBlurCapture:we(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,j.onPointerDownCapture)})});nd.displayName=d6;var p6="DismissableLayerBranch",E$=w.forwardRef((e,t)=>{const r=w.useContext(P$),n=w.useRef(null),a=Xe(t,n);return w.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Te.div,{...e,ref:a})});E$.displayName=p6;function m6(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){A$(f6,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function v6(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=w.useRef(!1);return w.useEffect(()=>{const a=i=>{i.target&&!n.current&&A$(h6,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function IP(){const e=new CustomEvent(Iw);document.dispatchEvent(e)}function A$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?N$(a,i):a.dispatchEvent(i)}var g6=nd,y6=E$,Fr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},x6="Portal",gp=w.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=w.useState(!1);Fr(()=>i(!0),[]);const s=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?x$.createPortal(o.jsx(Te.div,{...n,ref:t}),s):null});gp.displayName=x6;function b6(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Bn=e=>{const{present:t,children:r}=e,n=w6(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),i=Xe(n.ref,j6(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:i}):null};Bn.displayName="Presence";function w6(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),i=w.useRef("none"),s=e?"mounted":"unmounted",[l,c]=b6(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=nm(n.current);i.current=l==="mounted"?u:"none"},[l]),Fr(()=>{const u=n.current,f=a.current;if(f!==e){const h=i.current,p=nm(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Fr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const m=nm(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(i.current=nm(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function nm(e){return(e==null?void 0:e.animationName)||"none"}function j6(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _6=y_[" useInsertionEffect ".trim().toString()]||Fr;function Fn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=S6({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const f=w.useRef(e!==void 0);w.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=w.useCallback(f=>{var d;if(l){const h=C6(f)?f(e):f;h!==e&&((d=s.current)==null||d.call(s,h))}else i(f)},[l,e,i,s]);return[c,u]}function S6({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),i=w.useRef(t);return _6(()=>{i.current=t},[t]),w.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function C6(e){return typeof e=="function"}var k$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),N6="VisuallyHidden",Cy=w.forwardRef((e,t)=>o.jsx(Te.span,{...e,ref:t,style:{...k$,...e.style}}));Cy.displayName=N6;var P6=Cy,cS="ToastProvider",[uS,E6,A6]=Sy("Toast"),[O$,_Oe]=Sn("Toast",[A6]),[k6,Ny]=O$(cS),T$=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[l,c]=w.useState(null),[u,f]=w.useState(0),d=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cS}\`. Expected non-empty \`string\`.`),o.jsx(uS.Provider,{scope:t,children:o.jsx(k6,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>f(p=>p+1),[]),onToastRemove:w.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:s})})};T$.displayName=cS;var R$="ToastViewport",O6=["F8"],Dw="toast.viewportPause",Lw="toast.viewportResume",M$=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=O6,label:a="Notifications ({hotkey})",...i}=e,s=Ny(R$,r),l=E6(r),c=w.useRef(null),u=w.useRef(null),f=w.useRef(null),d=w.useRef(null),h=Xe(t,d,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=s.toastCount>0;w.useEffect(()=>{const g=v=>{var b;n.length!==0&&n.every(_=>v[_]||v.code===_)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),w.useEffect(()=>{const g=c.current,v=d.current;if(y&&g&&v){const x=()=>{if(!s.isClosePausedRef.current){const S=new CustomEvent(Dw);v.dispatchEvent(S),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const S=new CustomEvent(Lw);v.dispatchEvent(S),s.isClosePausedRef.current=!1}},_=S=>{!g.contains(S.relatedTarget)&&b()},j=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",x),g.addEventListener("focusout",_),g.addEventListener("pointermove",x),g.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",x),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",x),g.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,s.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:g})=>{const x=l().map(b=>{const _=b.ref.current,j=[_,...W6(_)];return g==="forwards"?j:j.reverse()});return(g==="forwards"?x.reverse():x).flat()},[l]);return w.useEffect(()=>{const g=d.current;if(g){const v=x=>{var j,S,C;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const N=document.activeElement,A=x.shiftKey;if(x.target===g&&A){(j=u.current)==null||j.focus();return}const R=m({tabbingDirection:A?"backwards":"forwards"}),T=R.findIndex(P=>P===N);D0(R.slice(T+1))?x.preventDefault():A?(S=u.current)==null||S.focus():(C=f.current)==null||C.focus()}};return g.addEventListener("keydown",v),()=>g.removeEventListener("keydown",v)}},[l,m]),o.jsxs(y6,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(Fw,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});D0(g)}}),o.jsx(uS.Slot,{scope:r,children:o.jsx(Te.ol,{tabIndex:-1,...i,ref:h})}),y&&o.jsx(Fw,{ref:f,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});D0(g)}})]})});M$.displayName=R$;var $$="ToastFocusProxy",Fw=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Ny($$,r);return o.jsx(Cy,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Fw.displayName=$$;var yp="Toast",T6="toast.swipeStart",R6="toast.swipeMove",M6="toast.swipeCancel",$6="toast.swipeEnd",I$=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=e,[l,c]=Fn({prop:n,defaultProp:a??!0,onChange:i,caller:yp});return o.jsx(Bn,{present:r||l,children:o.jsx(L6,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:Er(e.onPause),onResume:Er(e.onResume),onSwipeStart:we(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:we(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});I$.displayName=yp;var[I6,D6]=O$(yp,{onClose(){}}),L6=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...y}=e,m=Ny(yp,r),[g,v]=w.useState(null),x=Xe(t,P=>v(P)),b=w.useRef(null),_=w.useRef(null),j=a||m.duration,S=w.useRef(0),C=w.useRef(j),N=w.useRef(0),{onToastAdd:A,onToastRemove:E}=m,k=Er(()=>{var $;(g==null?void 0:g.contains(document.activeElement))&&(($=m.viewport)==null||$.focus()),s()}),R=w.useCallback(P=>{!P||P===1/0||(window.clearTimeout(N.current),S.current=new Date().getTime(),N.current=window.setTimeout(k,P))},[k]);w.useEffect(()=>{const P=m.viewport;if(P){const $=()=>{R(C.current),u==null||u()},I=()=>{const M=new Date().getTime()-S.current;C.current=C.current-M,window.clearTimeout(N.current),c==null||c()};return P.addEventListener(Dw,I),P.addEventListener(Lw,$),()=>{P.removeEventListener(Dw,I),P.removeEventListener(Lw,$)}}},[m.viewport,j,c,u,R]),w.useEffect(()=>{i&&!m.isClosePausedRef.current&&R(j)},[i,j,m.isClosePausedRef,R]),w.useEffect(()=>(A(),()=>E()),[A,E]);const T=w.useMemo(()=>g?V$(g):null,[g]);return m.viewport?o.jsxs(o.Fragment,{children:[T&&o.jsx(F6,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),o.jsx(I6,{scope:r,onClose:k,children:Ll.createPortal(o.jsx(uS.ItemSlot,{scope:r,children:o.jsx(g6,{asChild:!0,onEscapeKeyDown:we(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||k(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:we(e.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:we(e.onPointerDown,P=>{P.button===0&&(b.current={x:P.clientX,y:P.clientY})}),onPointerMove:we(e.onPointerMove,P=>{if(!b.current)return;const $=P.clientX-b.current.x,I=P.clientY-b.current.y,M=!!_.current,D=["left","right"].includes(m.swipeDirection),L=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,U=D?L(0,$):0,X=D?0:L(0,I),G=P.pointerType==="touch"?10:2,te={x:U,y:X},z={originalEvent:P,delta:te};M?(_.current=te,am(R6,d,z,{discrete:!1})):DP(te,m.swipeDirection,G)?(_.current=te,am(T6,f,z,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs($)>G||Math.abs(I)>G)&&(b.current=null)}),onPointerUp:we(e.onPointerUp,P=>{const $=_.current,I=P.target;if(I.hasPointerCapture(P.pointerId)&&I.releasePointerCapture(P.pointerId),_.current=null,b.current=null,$){const M=P.currentTarget,D={originalEvent:P,delta:$};DP($,m.swipeDirection,m.swipeThreshold)?am($6,p,D,{discrete:!0}):am(M6,h,D,{discrete:!0}),M.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),F6=e=>{const{__scopeToast:t,children:r,...n}=e,a=Ny(yp,t),[i,s]=w.useState(!1),[l,c]=w.useState(!1);return U6(()=>s(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(gp,{asChild:!0,children:o.jsx(Cy,{...n,children:i&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},B6="ToastTitle",D$=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Te.div,{...n,ref:t})});D$.displayName=B6;var z6="ToastDescription",L$=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Te.div,{...n,ref:t})});L$.displayName=z6;var F$="ToastAction",B$=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(U$,{altText:r,asChild:!0,children:o.jsx(dS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${F$}\`. Expected non-empty \`string\`.`),null)});B$.displayName=F$;var z$="ToastClose",dS=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=D6(z$,r);return o.jsx(U$,{asChild:!0,children:o.jsx(Te.button,{type:"button",...n,ref:t,onClick:we(e.onClick,a.onClose)})})});dS.displayName=z$;var U$=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function V$(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),V6(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...V$(n))}}),t}function am(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?N$(a,i):a.dispatchEvent(i)}var DP=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function U6(e=()=>{}){const t=Er(e);Fr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function V6(e){return e.nodeType===e.ELEMENT_NODE}function W6(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function D0(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var H6=T$,W$=M$,H$=I$,q$=D$,K$=L$,G$=B$,Y$=dS;function X$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=X$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ye(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=X$(e))&&(n&&(n+=" "),n+=t);return n}const LP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,FP=Ye,ad=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return FP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const f=r==null?void 0:r[u],d=i==null?void 0:i[u];if(f===null)return null;const h=LP(f)||LP(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(y=>{let[m,g]=y;return Array.isArray(g)?g.includes({...i,...l}[m]):{...i,...l}[m]===g})?[...u,d,h]:u},[]);return FP(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>w.createElement("svg",{ref:c,...K6,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Q$("lucide",a),...l},[...s.map(([u,f])=>w.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t)=>{const r=w.forwardRef(({className:n,...a},i)=>w.createElement(G6,{ref:i,iconNode:t,className:Q$(`lucide-${q6(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=Ne("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=Ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Ne("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Ne("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=Ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=Ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=Ne("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=Ne("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=Ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=Ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=Ne("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=Ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=Ne("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=Ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=Ne("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=Ne("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=Ne("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Ne("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Ne("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Ne("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=Ne("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Ne("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Ne("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Ne("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xS="-",vW=e=>{const t=yW(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const l=s.split(xS);return l[0]===""&&l.length!==1&&l.shift(),uI(l,t)||gW(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},uI=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?uI(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(xS);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},qP=/^\[(.+)\]$/,gW=e=>{if(qP.test(e)){const t=qP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},yW=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return bW(Object.entries(e.classGroups),r).forEach(([i,s])=>{zw(s,n,i,t)}),n},zw=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:KP(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(xW(a)){zw(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{zw(s,KP(t,i),r,n)})})},KP=(e,t)=>{let r=e;return t.split(xS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},xW=e=>e.isThemeGetter,bW=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[r,a]}):e,wW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},dI="!",jW=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,s=l=>{const c=[];let u=0,f=0,d;for(let g=0;g<l.length;g++){let v=l[g];if(u===0){if(v===a&&(n||l.slice(g,g+i)===t)){c.push(l.slice(f,g)),f=g+i;continue}if(v==="/"){d=g;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(dI),y=p?h.substring(1):h,m=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:s}):s},_W=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},SW=e=>({cache:wW(e.cacheSize),parseClassName:jW(e),...vW(e)}),CW=/\s+/,NW=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(CW);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,m=n(y?h.substring(0,p):h);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const g=_W(f).join(":"),v=d?g+dI:g,x=v+m;if(i.includes(x))continue;i.push(x);const b=a(m,y);for(let _=0;_<b.length;++_){const j=b[_];i.push(v+j)}l=u+(l.length>0?" "+l:l)}return l};function PW(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fI(t))&&(n&&(n+=" "),n+=r);return n}const fI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fI(e[n]))&&(r&&(r+=" "),r+=t);return r};function EW(e,...t){let r,n,a,i=s;function s(c){const u=t.reduce((f,d)=>d(f),e());return r=SW(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=NW(c,r);return a(c,f),f}return function(){return i(PW.apply(null,arguments))}}const $t=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},hI=/^\[(?:([a-z-]+):)?(.+)\]$/i,AW=/^\d+\/\d+$/,kW=new Set(["px","full","screen"]),OW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$W=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Li=e=>Uc(e)||kW.has(e)||AW.test(e),Ns=e=>sd(e,"length",VW),Uc=e=>!!e&&!Number.isNaN(Number(e)),L0=e=>sd(e,"number",Uc),Hd=e=>!!e&&Number.isInteger(Number(e)),IW=e=>e.endsWith("%")&&Uc(e.slice(0,-1)),tt=e=>hI.test(e),Ps=e=>OW.test(e),DW=new Set(["length","size","percentage"]),LW=e=>sd(e,DW,pI),FW=e=>sd(e,"position",pI),BW=new Set(["image","url"]),zW=e=>sd(e,BW,HW),UW=e=>sd(e,"",WW),qd=()=>!0,sd=(e,t,r)=>{const n=hI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},VW=e=>TW.test(e)&&!RW.test(e),pI=()=>!1,WW=e=>MW.test(e),HW=e=>$W.test(e),qW=()=>{const e=$t("colors"),t=$t("spacing"),r=$t("blur"),n=$t("brightness"),a=$t("borderColor"),i=$t("borderRadius"),s=$t("borderSpacing"),l=$t("borderWidth"),c=$t("contrast"),u=$t("grayscale"),f=$t("hueRotate"),d=$t("invert"),h=$t("gap"),p=$t("gradientColorStops"),y=$t("gradientColorStopPositions"),m=$t("inset"),g=$t("margin"),v=$t("opacity"),x=$t("padding"),b=$t("saturate"),_=$t("scale"),j=$t("sepia"),S=$t("skew"),C=$t("space"),N=$t("translate"),A=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",tt,t],R=()=>[tt,t],T=()=>["",Li,Ns],P=()=>["auto",Uc,tt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",tt],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Uc,tt];return{cacheSize:500,separator:":",theme:{colors:[qd],spacing:[Li,Ns],blur:["none","",Ps,tt],brightness:X(),borderColor:[e],borderRadius:["none","","full",Ps,tt],borderSpacing:R(),borderWidth:T(),contrast:X(),grayscale:L(),hueRotate:X(),invert:L(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[IW,Ns],inset:k(),margin:k(),opacity:X(),padding:R(),saturate:X(),scale:X(),sepia:L(),skew:X(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Ps]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),tt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hd,tt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Hd,tt]}],"grid-cols":[{"grid-cols":[qd]}],"col-start-end":[{col:["auto",{span:["full",Hd,tt]},tt]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[qd]}],"row-start-end":[{row:["auto",{span:[Hd,tt]},tt]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,t]}],"min-w":[{"min-w":[tt,t,"min","max","fit"]}],"max-w":[{"max-w":[tt,t,"none","full","min","max","fit","prose",{screen:[Ps]},Ps]}],h:[{h:[tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ps,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",L0]}],"font-family":[{font:[qd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",Uc,L0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Li,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Li,Ns]}],"underline-offset":[{"underline-offset":["auto",Li,tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),FW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zW]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Li,tt]}],"outline-w":[{outline:[Li,Ns]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Li,Ns]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ps,UW]}],"shadow-color":[{shadow:[qd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ps,tt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Hd,tt]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Li,Ns,L0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KW=EW(qW);function re(...e){return KW(Ye(e))}const GW=H6,mI=w.forwardRef(({className:e,...t},r)=>o.jsx(W$,{ref:r,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));mI.displayName=W$.displayName;const YW=ad("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vI=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(H$,{ref:n,className:re(YW({variant:t}),e),...r}));vI.displayName=H$.displayName;const XW=w.forwardRef(({className:e,...t},r)=>o.jsx(G$,{ref:r,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));XW.displayName=G$.displayName;const gI=w.forwardRef(({className:e,...t},r)=>o.jsx(Y$,{ref:r,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Ai,{className:"h-4 w-4"})}));gI.displayName=Y$.displayName;const yI=w.forwardRef(({className:e,...t},r)=>o.jsx(q$,{ref:r,className:re("text-sm font-semibold",e),...t}));yI.displayName=q$.displayName;const xI=w.forwardRef(({className:e,...t},r)=>o.jsx(K$,{ref:r,className:re("text-sm opacity-90",e),...t}));xI.displayName=K$.displayName;function QW(){const{toasts:e}=w$();return o.jsxs(GW,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return o.jsxs(vI,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(yI,{children:r}),n&&o.jsx(xI,{children:n})]}),a,o.jsx(gI,{})]},t)}),o.jsx(mI,{})]})}var GP=["light","dark"],ZW="(prefers-color-scheme: dark)",JW=w.createContext(void 0),eH={setTheme:e=>{},themes:[]},tH=()=>{var e;return(e=w.useContext(JW))!=null?e:eH};w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,attrs:l,nonce:c})=>{let u=i==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=a?GP.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,m=!1,g=!0)=>{let v=s?s[y]:y,x=m?y+"|| ''":`'${v}'`,b="";return a&&g&&!m&&GP.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?m||v?b+=`c.add(${x})`:b+="null":v&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${f}${h(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${ZW}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var rH=e=>{switch(e){case"success":return iH;case"info":return oH;case"warning":return sH;case"error":return lH;default:return null}},nH=Array(12).fill(0),aH=({visible:e,className:t})=>O.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},O.createElement("div",{className:"sonner-spinner"},nH.map((r,n)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),iH=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sH=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),oH=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lH=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cH=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uH=()=>{let[e,t]=O.useState(document.hidden);return O.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Uw=1,dH=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Uw++,i=this.toasts.find(l=>l.id===a),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:s,title:r}):l):this.addToast({title:r,...n,dismissible:s,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,s=n.then(async c=>{if(i=["resolve",c],O.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(hH(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>s.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Uw++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},On=new dH,fH=(e,t)=>{let r=(t==null?void 0:t.id)||Uw++;return On.addToast({title:e,...t,id:r}),r},hH=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",pH=fH,mH=()=>On.toasts,vH=()=>On.getActiveToasts(),Ce=Object.assign(pH,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:mH,getToasts:vH});function gH(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}gH(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function im(e){return e.label!==void 0}var yH=3,xH="32px",bH="16px",YP=4e3,wH=356,jH=14,_H=20,SH=200;function Ra(...e){return e.filter(Boolean).join(" ")}function CH(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var NH=e=>{var t,r,n,a,i,s,l,c,u,f,d;let{invert:h,toast:p,unstyled:y,interacting:m,setHeights:g,visibleToasts:v,heights:x,index:b,toasts:_,expanded:j,removeToast:S,defaultRichColors:C,closeButton:N,style:A,cancelButtonStyle:E,actionButtonStyle:k,className:R="",descriptionClassName:T="",duration:P,position:$,gap:I,loadingIcon:M,expandByDefault:D,classNames:L,icons:U,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:G}=e,[te,z]=O.useState(null),[B,V]=O.useState(null),[H,ce]=O.useState(!1),[Q,Z]=O.useState(!1),[W,q]=O.useState(!1),[de,ye]=O.useState(!1),[Ae,Ie]=O.useState(!1),[Ge,pt]=O.useState(0),[Gt,F]=O.useState(0),K=O.useRef(p.duration||P||YP),ee=O.useRef(null),ve=O.useRef(null),ae=b===0,ue=b+1<=v,ge=p.type,Be=p.dismissible!==!1,qe=p.className||"",Yt=p.descriptionClassName||"",Cn=O.useMemo(()=>x.findIndex(Ke=>Ke.toastId===p.id)||0,[x,p.id]),jr=O.useMemo(()=>{var Ke;return(Ke=p.closeButton)!=null?Ke:N},[p.closeButton,N]),se=O.useMemo(()=>p.duration||P||YP,[p.duration,P]),Le=O.useRef(0),xt=O.useRef(0),lr=O.useRef(0),dt=O.useRef(null),[at,Nn]=$.split("-"),dn=O.useMemo(()=>x.reduce((Ke,jt,At)=>At>=Cn?Ke:Ke+jt.height,0),[x,Cn]),Ip=uH(),Dp=p.invert||h,Id=ge==="loading";xt.current=O.useMemo(()=>Cn*I+dn,[Cn,dn]),O.useEffect(()=>{K.current=se},[se]),O.useEffect(()=>{ce(!0)},[]),O.useEffect(()=>{let Ke=ve.current;if(Ke){let jt=Ke.getBoundingClientRect().height;return F(jt),g(At=>[{toastId:p.id,height:jt,position:p.position},...At]),()=>g(At=>At.filter(Pn=>Pn.toastId!==p.id))}},[g,p.id]),O.useLayoutEffect(()=>{if(!H)return;let Ke=ve.current,jt=Ke.style.height;Ke.style.height="auto";let At=Ke.getBoundingClientRect().height;Ke.style.height=jt,F(At),g(Pn=>Pn.find(Un=>Un.toastId===p.id)?Pn.map(Un=>Un.toastId===p.id?{...Un,height:At}:Un):[{toastId:p.id,height:At,position:p.position},...Pn])},[H,p.title,p.description,g,p.id]);let si=O.useCallback(()=>{Z(!0),pt(xt.current),g(Ke=>Ke.filter(jt=>jt.toastId!==p.id)),setTimeout(()=>{S(p)},SH)},[p,S,g,xt]);O.useEffect(()=>{if(p.promise&&ge==="loading"||p.duration===1/0||p.type==="loading")return;let Ke;return j||m||G&&Ip?(()=>{if(lr.current<Le.current){let jt=new Date().getTime()-Le.current;K.current=K.current-jt}lr.current=new Date().getTime()})():K.current!==1/0&&(Le.current=new Date().getTime(),Ke=setTimeout(()=>{var jt;(jt=p.onAutoClose)==null||jt.call(p,p),si()},K.current)),()=>clearTimeout(Ke)},[j,m,p,ge,G,Ip,si]),O.useEffect(()=>{p.delete&&si()},[si,p.delete]);function o0(){var Ke,jt,At;return U!=null&&U.loading?O.createElement("div",{className:Ra(L==null?void 0:L.loader,(Ke=p==null?void 0:p.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":ge==="loading"},U.loading):M?O.createElement("div",{className:Ra(L==null?void 0:L.loader,(jt=p==null?void 0:p.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":ge==="loading"},M):O.createElement(aH,{className:Ra(L==null?void 0:L.loader,(At=p==null?void 0:p.classNames)==null?void 0:At.loader),visible:ge==="loading"})}return O.createElement("li",{tabIndex:0,ref:ve,className:Ra(R,qe,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[ge],(r=p==null?void 0:p.classNames)==null?void 0:r[ge]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":H,"data-promise":!!p.promise,"data-swiped":Ae,"data-removed":Q,"data-visible":ue,"data-y-position":at,"data-x-position":Nn,"data-index":b,"data-front":ae,"data-swiping":W,"data-dismissible":Be,"data-type":ge,"data-invert":Dp,"data-swipe-out":de,"data-swipe-direction":B,"data-expanded":!!(j||D&&H),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${Q?Ge:xt.current}px`,"--initial-height":D?"auto":`${Gt}px`,...A,...p.style},onDragEnd:()=>{q(!1),z(null),dt.current=null},onPointerDown:Ke=>{Id||!Be||(ee.current=new Date,pt(xt.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(q(!0),dt.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,jt,At,Pn;if(de||!Be)return;dt.current=null;let Un=Number(((Ke=ve.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),En=Number(((jt=ve.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Io=new Date().getTime()-((At=ee.current)==null?void 0:At.getTime()),Oa=te==="x"?Un:En,Ss=Math.abs(Oa)/Io;if(Math.abs(Oa)>=_H||Ss>.11){pt(xt.current),(Pn=p.onDismiss)==null||Pn.call(p,p),V(te==="x"?Un>0?"right":"left":En>0?"down":"up"),si(),ye(!0),Ie(!1);return}q(!1),z(null)},onPointerMove:Ke=>{var jt,At,Pn,Un;if(!dt.current||!Be||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let En=Ke.clientY-dt.current.y,Io=Ke.clientX-dt.current.x,Oa=(At=e.swipeDirections)!=null?At:CH($);!te&&(Math.abs(Io)>1||Math.abs(En)>1)&&z(Math.abs(Io)>Math.abs(En)?"x":"y");let Ss={x:0,y:0};te==="y"?(Oa.includes("top")||Oa.includes("bottom"))&&(Oa.includes("top")&&En<0||Oa.includes("bottom")&&En>0)&&(Ss.y=En):te==="x"&&(Oa.includes("left")||Oa.includes("right"))&&(Oa.includes("left")&&Io<0||Oa.includes("right")&&Io>0)&&(Ss.x=Io),(Math.abs(Ss.x)>0||Math.abs(Ss.y)>0)&&Ie(!0),(Pn=ve.current)==null||Pn.style.setProperty("--swipe-amount-x",`${Ss.x}px`),(Un=ve.current)==null||Un.style.setProperty("--swipe-amount-y",`${Ss.y}px`)}},jr&&!p.jsx?O.createElement("button",{"aria-label":X,"data-disabled":Id,"data-close-button":!0,onClick:Id||!Be?()=>{}:()=>{var Ke;si(),(Ke=p.onDismiss)==null||Ke.call(p,p)},className:Ra(L==null?void 0:L.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=U==null?void 0:U.close)!=null?i:cH):null,p.jsx||w.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:O.createElement(O.Fragment,null,ge||p.icon||p.promise?O.createElement("div",{"data-icon":"",className:Ra(L==null?void 0:L.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||o0():null,p.type!=="loading"?p.icon||(U==null?void 0:U[ge])||rH(ge):null):null,O.createElement("div",{"data-content":"",className:Ra(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},O.createElement("div",{"data-title":"",className:Ra(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?O.createElement("div",{"data-description":"",className:Ra(T,Yt,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),w.isValidElement(p.cancel)?p.cancel:p.cancel&&im(p.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:Ke=>{var jt,At;im(p.cancel)&&Be&&((At=(jt=p.cancel).onClick)==null||At.call(jt,Ke),si())},className:Ra(L==null?void 0:L.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,w.isValidElement(p.action)?p.action:p.action&&im(p.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:Ke=>{var jt,At;im(p.action)&&((At=(jt=p.action).onClick)==null||At.call(jt,Ke),!Ke.defaultPrevented&&si())},className:Ra(L==null?void 0:L.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function XP(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function PH(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,s=i?"--mobile-offset":"--offset",l=i?bH:xH;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${s}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var EH=w.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:h,style:p,visibleToasts:y=yH,toastOptions:m,dir:g=XP(),gap:v=jH,loadingIcon:x,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,C]=O.useState([]),N=O.useMemo(()=>Array.from(new Set([n].concat(S.filter(G=>G.position).map(G=>G.position)))),[S,n]),[A,E]=O.useState([]),[k,R]=O.useState(!1),[T,P]=O.useState(!1),[$,I]=O.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=O.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=O.useRef(null),U=O.useRef(!1),X=O.useCallback(G=>{C(te=>{var z;return(z=te.find(B=>B.id===G.id))!=null&&z.delete||On.dismiss(G.id),te.filter(({id:B})=>B!==G.id)})},[]);return O.useEffect(()=>On.subscribe(G=>{if(G.dismiss){C(te=>te.map(z=>z.id===G.id?{...z,delete:!0}:z));return}setTimeout(()=>{x$.flushSync(()=>{C(te=>{let z=te.findIndex(B=>B.id===G.id);return z!==-1?[...te.slice(0,z),{...te[z],...G},...te.slice(z+1)]:[G,...te]})})})}),[]),O.useEffect(()=>{if(f!=="system"){I(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:te})=>{I(te?"dark":"light")})}catch{G.addListener(({matches:z})=>{try{I(z?"dark":"light")}catch(B){console.error(B)}})}},[f]),O.useEffect(()=>{S.length<=1&&R(!1)},[S]),O.useEffect(()=>{let G=te=>{var z,B;a.every(V=>te[V]||te.code===V)&&(R(!0),(z=M.current)==null||z.focus()),te.code==="Escape"&&(document.activeElement===M.current||(B=M.current)!=null&&B.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),O.useEffect(()=>{if(M.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,U.current=!1)}},[M.current]),O.createElement("section",{ref:t,"aria-label":`${_} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((G,te)=>{var z;let[B,V]=G.split("-");return S.length?O.createElement("ol",{key:G,dir:g==="auto"?XP():g,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":B,"data-lifted":k&&S.length>1&&!i,"data-x-position":V,style:{"--front-toast-height":`${((z=A[0])==null?void 0:z.height)||0}px`,"--width":`${wH}px`,"--gap":`${v}px`,...p,...PH(c,u)},onBlur:H=>{U.current&&!H.currentTarget.contains(H.relatedTarget)&&(U.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||U.current||(U.current=!0,L.current=H.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{T||R(!1)},onDragEnd:()=>R(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},S.filter(H=>!H.position&&te===0||H.position===G).map((H,ce)=>{var Q,Z;return O.createElement(NH,{key:H.id,icons:b,index:ce,toast:H,defaultRichColors:d,duration:(Q=m==null?void 0:m.duration)!=null?Q:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Z=m==null?void 0:m.closeButton)!=null?Z:s,interacting:T,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:X,toasts:S.filter(W=>W.position==H.position),heights:A.filter(W=>W.position==H.position),setHeights:E,expandByDefault:i,gap:v,loadingIcon:x,expanded:k,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const AH=({...e})=>{const{theme:t="system"}=tH();return o.jsx(EH,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var kH=y_[" useId ".trim().toString()]||(()=>{}),OH=0;function Si(e){const[t,r]=w.useState(kH());return Fr(()=>{e||r(n=>n??String(OH++))},[e]),e||(t?`radix-${t}`:"")}const TH=["top","right","bottom","left"],go=Math.min,Xn=Math.max,Pv=Math.round,sm=Math.floor,Ci=e=>({x:e,y:e}),RH={left:"right",right:"left",bottom:"top",top:"bottom"},MH={start:"end",end:"start"};function Vw(e,t,r){return Xn(e,go(t,r))}function os(e,t){return typeof e=="function"?e(t):e}function ls(e){return e.split("-")[0]}function od(e){return e.split("-")[1]}function bS(e){return e==="x"?"y":"x"}function wS(e){return e==="y"?"height":"width"}const $H=new Set(["top","bottom"]);function gi(e){return $H.has(ls(e))?"y":"x"}function jS(e){return bS(gi(e))}function IH(e,t,r){r===void 0&&(r=!1);const n=od(e),a=jS(e),i=wS(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ev(s)),[s,Ev(s)]}function DH(e){const t=Ev(e);return[Ww(e),t,Ww(t)]}function Ww(e){return e.replace(/start|end/g,t=>MH[t])}const QP=["left","right"],ZP=["right","left"],LH=["top","bottom"],FH=["bottom","top"];function BH(e,t,r){switch(e){case"top":case"bottom":return r?t?ZP:QP:t?QP:ZP;case"left":case"right":return t?LH:FH;default:return[]}}function zH(e,t,r,n){const a=od(e);let i=BH(ls(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(Ww)))),i}function Ev(e){return e.replace(/left|right|bottom|top/g,t=>RH[t])}function UH(e){return{top:0,right:0,bottom:0,left:0,...e}}function bI(e){return typeof e!="number"?UH(e):{top:e,right:e,bottom:e,left:e}}function Av(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function JP(e,t,r){let{reference:n,floating:a}=e;const i=gi(t),s=jS(t),l=wS(s),c=ls(t),u=i==="y",f=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-a.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-a.width,y:d};break;default:p={x:n.x,y:n.y}}switch(od(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const VH=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=JP(u,n,c),h=n,p={},y=0;for(let m=0;m<l.length;m++){const{name:g,fn:v}=l[m],{x,y:b,data:_,reset:j}=await v({x:f,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});f=x??f,d=b??d,p={...p,[g]:{...p[g],..._}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:f,y:d}=JP(u,h,c)),m=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:p}};async function uh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=os(t,e),y=bI(p),g=l[h?d==="floating"?"reference":"floating":d],v=Av(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),x=d==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Av(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-j.top+y.top)/_.y,bottom:(j.bottom-v.bottom+y.bottom)/_.y,left:(v.left-j.left+y.left)/_.x,right:(j.right-v.right+y.right)/_.x}}const WH=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=os(e,t)||{};if(u==null)return{};const d=bI(f),h={x:r,y:n},p=jS(a),y=wS(p),m=await s.getDimensions(u),g=p==="y",v=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[p]-h[p]-i.floating[y],j=h[p]-i.reference[p],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(s.isElement==null?void 0:s.isElement(S)))&&(C=l.floating[b]||i.floating[y]);const N=_/2-j/2,A=C/2-m[y]/2-1,E=go(d[v],A),k=go(d[x],A),R=E,T=C-m[y]-k,P=C/2-m[y]/2+N,$=Vw(R,P,T),I=!c.arrow&&od(a)!=null&&P!==$&&i.reference[y]/2-(P<R?E:k)-m[y]/2<0,M=I?P<R?P-R:P-T:0;return{[p]:h[p]+M,data:{[p]:$,centerOffset:P-$-M,...I&&{alignmentOffset:M}},reset:I}}}),HH=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...g}=os(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=ls(a),x=gi(l),b=ls(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!m?[Ev(l)]:DH(l)),S=y!=="none";!h&&S&&j.push(...zH(l,m,y,_));const C=[l,...j],N=await uh(t,g),A=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&A.push(N[v]),d){const P=IH(a,s,_);A.push(N[P[0]],N[P[1]])}if(E=[...E,{placement:a,overflows:A}],!A.every(P=>P<=0)){var k,R;const P=(((k=i.flip)==null?void 0:k.index)||0)+1,$=C[P];if($&&(!(d==="alignment"?x!==gi($):!1)||E.every(D=>D.overflows[0]>0&&gi(D.placement)===x)))return{data:{index:P,overflows:E},reset:{placement:$}};let I=(R=E.filter(M=>M.overflows[0]<=0).sort((M,D)=>M.overflows[1]-D.overflows[1])[0])==null?void 0:R.placement;if(!I)switch(p){case"bestFit":{var T;const M=(T=E.filter(D=>{if(S){const L=gi(D.placement);return L===x||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,U)=>L+U,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:T[0];M&&(I=M);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function eE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tE(e){return TH.some(t=>e[t]>=0)}const qH=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=os(e,t);switch(n){case"referenceHidden":{const i=await uh(t,{...a,elementContext:"reference"}),s=eE(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:tE(s)}}}case"escaped":{const i=await uh(t,{...a,altBoundary:!0}),s=eE(i,r.floating);return{data:{escapedOffsets:s,escaped:tE(s)}}}default:return{}}}}},wI=new Set(["left","top"]);async function KH(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=ls(r),l=od(r),c=gi(r)==="y",u=wI.has(s)?-1:1,f=i&&c?-1:1,d=os(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const GH=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=t,c=await KH(t,e);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},YH=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...c}=os(e,t),u={x:r,y:n},f=await uh(t,c),d=gi(ls(a)),h=bS(d);let p=u[h],y=u[d];if(i){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+f[g],b=p-f[v];p=Vw(x,p,b)}if(s){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=y+f[g],b=y-f[v];y=Vw(x,y,b)}const m=l.fn({...t,[h]:p,[d]:y});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[d]:s}}}}}},XH=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=os(e,t),f={x:r,y:n},d=gi(a),h=bS(d);let p=f[h],y=f[d];const m=os(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+g.mainAxis,j=i.reference[h]+i.reference[b]-g.mainAxis;p<_?p=_:p>j&&(p=j)}if(u){var v,x;const b=h==="y"?"width":"height",_=wI.has(ls(a)),j=i.reference[d]-i.floating[b]+(_&&((v=s.offset)==null?void 0:v[d])||0)+(_?0:g.crossAxis),S=i.reference[d]+i.reference[b]+(_?0:((x=s.offset)==null?void 0:x[d])||0)-(_?g.crossAxis:0);y<j?y=j:y>S&&(y=S)}return{[h]:p,[d]:y}}}},QH=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:l}=t,{apply:c=()=>{},...u}=os(e,t),f=await uh(t,u),d=ls(a),h=od(a),p=gi(a)==="y",{width:y,height:m}=i.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(v=d,g=h==="end"?"top":"bottom");const x=m-f.top-f.bottom,b=y-f.left-f.right,_=go(m-f[g],x),j=go(y-f[v],b),S=!t.middlewareData.shift;let C=_,N=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),S&&!h){const E=Xn(f.left,0),k=Xn(f.right,0),R=Xn(f.top,0),T=Xn(f.bottom,0);p?N=y-2*(E!==0||k!==0?E+k:Xn(f.left,f.right)):C=m-2*(R!==0||T!==0?R+T:Xn(f.top,f.bottom))}await c({...t,availableWidth:N,availableHeight:C});const A=await s.getDimensions(l.floating);return y!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function Ay(){return typeof window<"u"}function ld(e){return jI(e)?(e.nodeName||"").toLowerCase():"#document"}function ta(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ri(e){var t;return(t=(jI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jI(e){return Ay()?e instanceof Node||e instanceof ta(e).Node:!1}function ri(e){return Ay()?e instanceof Element||e instanceof ta(e).Element:!1}function ki(e){return Ay()?e instanceof HTMLElement||e instanceof ta(e).HTMLElement:!1}function rE(e){return!Ay()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ta(e).ShadowRoot}const ZH=new Set(["inline","contents"]);function bp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ni(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ZH.has(a)}const JH=new Set(["table","td","th"]);function eq(e){return JH.has(ld(e))}const tq=[":popover-open",":modal"];function ky(e){return tq.some(t=>{try{return e.matches(t)}catch{return!1}})}const rq=["transform","translate","scale","rotate","perspective"],nq=["transform","translate","scale","rotate","perspective","filter"],aq=["paint","layout","strict","content"];function _S(e){const t=SS(),r=ri(e)?ni(e):e;return rq.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||nq.some(n=>(r.willChange||"").includes(n))||aq.some(n=>(r.contain||"").includes(n))}function iq(e){let t=yo(e);for(;ki(t)&&!mu(t);){if(_S(t))return t;if(ky(t))return null;t=yo(t)}return null}function SS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sq=new Set(["html","body","#document"]);function mu(e){return sq.has(ld(e))}function ni(e){return ta(e).getComputedStyle(e)}function Oy(e){return ri(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yo(e){if(ld(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rE(e)&&e.host||Ri(e);return rE(t)?t.host:t}function _I(e){const t=yo(e);return mu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ki(t)&&bp(t)?t:_I(t)}function dh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=_I(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=ta(a);if(i){const l=Hw(s);return t.concat(s,s.visualViewport||[],bp(a)?a:[],l&&r?dh(l):[])}return t.concat(a,dh(a,[],r))}function Hw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SI(e){const t=ni(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ki(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,l=Pv(r)!==i||Pv(n)!==s;return l&&(r=i,n=s),{width:r,height:n,$:l}}function CS(e){return ri(e)?e:e.contextElement}function Vc(e){const t=CS(e);if(!ki(t))return Ci(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=SI(t);let s=(i?Pv(r.width):r.width)/n,l=(i?Pv(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const oq=Ci(0);function CI(e){const t=ta(e);return!SS()||!t.visualViewport?oq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ta(e)?!1:t}function Nl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=CS(e);let s=Ci(1);t&&(n?ri(n)&&(s=Vc(n)):s=Vc(e));const l=lq(i,r,n)?CI(i):Ci(0);let c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,f=a.width/s.x,d=a.height/s.y;if(i){const h=ta(i),p=n&&ri(n)?ta(n):n;let y=h,m=Hw(y);for(;m&&n&&p!==y;){const g=Vc(m),v=m.getBoundingClientRect(),x=ni(m),b=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*g.x,_=v.top+(m.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,f*=g.x,d*=g.y,c+=b,u+=_,y=ta(m),m=Hw(y)}}return Av({width:f,height:d,x:c,y:u})}function NS(e,t){const r=Oy(e).scrollLeft;return t?t.left+r:Nl(Ri(e)).left+r}function NI(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:NS(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function cq(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=Ri(n),l=t?ky(t.floating):!1;if(n===s||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ci(1);const f=Ci(0),d=ki(n);if((d||!d&&!i)&&((ld(n)!=="body"||bp(s))&&(c=Oy(n)),ki(n))){const p=Nl(n);u=Vc(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const h=s&&!d&&!i?NI(s,c,!0):Ci(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-c.scrollTop*u.y+f.y+h.y}}function uq(e){return Array.from(e.getClientRects())}function dq(e){const t=Ri(e),r=Oy(e),n=e.ownerDocument.body,a=Xn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Xn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+NS(e);const l=-r.scrollTop;return ni(n).direction==="rtl"&&(s+=Xn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:l}}function fq(e,t){const r=ta(e),n=Ri(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,l=0,c=0;if(a){i=a.width,s=a.height;const u=SS();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:s,x:l,y:c}}const hq=new Set(["absolute","fixed"]);function pq(e,t){const r=Nl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ki(e)?Vc(e):Ci(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:l,x:c,y:u}}function nE(e,t,r){let n;if(t==="viewport")n=fq(e,r);else if(t==="document")n=dq(Ri(e));else if(ri(t))n=pq(t,r);else{const a=CI(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Av(n)}function PI(e,t){const r=yo(e);return r===t||!ri(r)||mu(r)?!1:ni(r).position==="fixed"||PI(r,t)}function mq(e,t){const r=t.get(e);if(r)return r;let n=dh(e,[],!1).filter(l=>ri(l)&&ld(l)!=="body"),a=null;const i=ni(e).position==="fixed";let s=i?yo(e):e;for(;ri(s)&&!mu(s);){const l=ni(s),c=_S(s);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&hq.has(a.position)||bp(s)&&!c&&PI(e,s))?n=n.filter(f=>f!==s):a=l,s=yo(s)}return t.set(e,n),n}function vq(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?ky(t)?[]:mq(t,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,f)=>{const d=nE(t,f,a);return u.top=Xn(d.top,u.top),u.right=go(d.right,u.right),u.bottom=go(d.bottom,u.bottom),u.left=Xn(d.left,u.left),u},nE(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gq(e){const{width:t,height:r}=SI(e);return{width:t,height:r}}function yq(e,t,r){const n=ki(t),a=Ri(t),i=r==="fixed",s=Nl(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ci(0);function u(){c.x=NS(a)}if(n||!n&&!i)if((ld(t)!=="body"||bp(a))&&(l=Oy(t)),n){const p=Nl(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const f=a&&!n&&!i?NI(a,l):Ci(0),d=s.left+l.scrollLeft-c.x-f.x,h=s.top+l.scrollTop-c.y-f.y;return{x:d,y:h,width:s.width,height:s.height}}function F0(e){return ni(e).position==="static"}function aE(e,t){if(!ki(e)||ni(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ri(e)===r&&(r=r.ownerDocument.body),r}function EI(e,t){const r=ta(e);if(ky(e))return r;if(!ki(e)){let a=yo(e);for(;a&&!mu(a);){if(ri(a)&&!F0(a))return a;a=yo(a)}return r}let n=aE(e,t);for(;n&&eq(n)&&F0(n);)n=aE(n,t);return n&&mu(n)&&F0(n)&&!_S(n)?r:n||iq(e)||r}const xq=async function(e){const t=this.getOffsetParent||EI,r=this.getDimensions,n=await r(e.floating);return{reference:yq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bq(e){return ni(e).direction==="rtl"}const wq={convertOffsetParentRelativeRectToViewportRelativeRect:cq,getDocumentElement:Ri,getClippingRect:vq,getOffsetParent:EI,getElementRects:xq,getClientRects:uq,getDimensions:gq,getScale:Vc,isElement:ri,isRTL:bq};function AI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jq(e,t){let r=null,n;const a=Ri(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=sm(d),m=sm(a.clientWidth-(f+h)),g=sm(a.clientHeight-(d+p)),v=sm(f),b={rootMargin:-y+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Xn(0,go(1,c))||1};let _=!0;function j(S){const C=S[0].intersectionRatio;if(C!==c){if(!_)return s();C?s(!1,C):n=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!AI(u,e.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return s(!0),i}function _q(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=CS(e),f=a||i?[...u?dh(u):[],...dh(t)]:[];f.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const d=u&&l?jq(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,m=c?Nl(e):null;c&&g();function g(){const v=Nl(e);m&&!AI(m,v)&&r(),m=v,y=requestAnimationFrame(g)}return r(),()=>{var v;f.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Sq=GH,Cq=YH,Nq=HH,Pq=QH,Eq=qH,iE=WH,Aq=XH,kq=(e,t,r)=>{const n=new Map,a={platform:wq,...r},i={...a.platform,_c:n};return VH(e,t,{...a,platform:i})};var Oq=typeof document<"u",Tq=function(){},Xm=Oq?w.useLayoutEffect:Tq;function kv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!kv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!kv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function kI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sE(e,t){const r=kI(e);return Math.round(t*r)/r}function B0(e){const t=w.useRef(e);return Xm(()=>{t.current=e}),t}function Rq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=w.useState(n);kv(h,n)||p(n);const[y,m]=w.useState(null),[g,v]=w.useState(null),x=w.useCallback(D=>{D!==S.current&&(S.current=D,m(D))},[]),b=w.useCallback(D=>{D!==C.current&&(C.current=D,v(D))},[]),_=i||y,j=s||g,S=w.useRef(null),C=w.useRef(null),N=w.useRef(f),A=c!=null,E=B0(c),k=B0(a),R=B0(u),T=w.useCallback(()=>{if(!S.current||!C.current)return;const D={placement:t,strategy:r,middleware:h};k.current&&(D.platform=k.current),kq(S.current,C.current,D).then(L=>{const U={...L,isPositioned:R.current!==!1};P.current&&!kv(N.current,U)&&(N.current=U,Ll.flushSync(()=>{d(U)}))})},[h,t,r,k,R]);Xm(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[u]);const P=w.useRef(!1);Xm(()=>(P.current=!0,()=>{P.current=!1}),[]),Xm(()=>{if(_&&(S.current=_),j&&(C.current=j),_&&j){if(E.current)return E.current(_,j,T);T()}},[_,j,T,E,A]);const $=w.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:b}),[x,b]),I=w.useMemo(()=>({reference:_,floating:j}),[_,j]),M=w.useMemo(()=>{const D={position:r,left:0,top:0};if(!I.floating)return D;const L=sE(I.floating,f.x),U=sE(I.floating,f.y);return l?{...D,transform:"translate("+L+"px, "+U+"px)",...kI(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:U}},[r,l,I.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:T,refs:$,elements:I,floatingStyles:M}),[f,T,$,I,M])}const Mq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?iE({element:n.current,padding:a}).fn(r):{}:n?iE({element:n,padding:a}).fn(r):{}}}},$q=(e,t)=>({...Sq(e),options:[e,t]}),Iq=(e,t)=>({...Cq(e),options:[e,t]}),Dq=(e,t)=>({...Aq(e),options:[e,t]}),Lq=(e,t)=>({...Nq(e),options:[e,t]}),Fq=(e,t)=>({...Pq(e),options:[e,t]}),Bq=(e,t)=>({...Eq(e),options:[e,t]}),zq=(e,t)=>({...Mq(e),options:[e,t]});var Uq="Arrow",OI=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return o.jsx(Te.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});OI.displayName=Uq;var Vq=OI;function Ty(e){const[t,r]=w.useState(void 0);return Fr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;r({width:s,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var PS="Popper",[TI,cd]=Sn(PS),[Wq,RI]=TI(PS),MI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return o.jsx(Wq,{scope:t,anchor:n,onAnchorChange:a,children:r})};MI.displayName=PS;var $I="PopperAnchor",II=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=RI($I,r),s=w.useRef(null),l=Xe(t,s);return w.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:o.jsx(Te.div,{...a,ref:l})});II.displayName=$I;var ES="PopperContent",[Hq,qq]=TI(ES),DI=w.forwardRef((e,t)=>{var H,ce,Q,Z,W,q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=e,g=RI(ES,r),[v,x]=w.useState(null),b=Xe(t,de=>x(de)),[_,j]=w.useState(null),S=Ty(_),C=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,A=n+(i!=="center"?"-"+i:""),E=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},k=Array.isArray(u)?u:[u],R=k.length>0,T={padding:E,boundary:k.filter(Gq),altBoundary:R},{refs:P,floatingStyles:$,placement:I,isPositioned:M,middlewareData:D}=Rq({strategy:"fixed",placement:A,whileElementsMounted:(...de)=>_q(...de,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[$q({mainAxis:a+N,alignmentAxis:s}),c&&Iq({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Dq():void 0,...T}),c&&Lq({...T}),Fq({...T,apply:({elements:de,rects:ye,availableWidth:Ae,availableHeight:Ie})=>{const{width:Ge,height:pt}=ye.reference,Gt=de.floating.style;Gt.setProperty("--radix-popper-available-width",`${Ae}px`),Gt.setProperty("--radix-popper-available-height",`${Ie}px`),Gt.setProperty("--radix-popper-anchor-width",`${Ge}px`),Gt.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),_&&zq({element:_,padding:l}),Yq({arrowWidth:C,arrowHeight:N}),h&&Bq({strategy:"referenceHidden",...T})]}),[L,U]=BI(I),X=Er(y);Fr(()=>{M&&(X==null||X())},[M,X]);const G=(H=D.arrow)==null?void 0:H.x,te=(ce=D.arrow)==null?void 0:ce.y,z=((Q=D.arrow)==null?void 0:Q.centerOffset)!==0,[B,V]=w.useState();return Fr(()=>{v&&V(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:M?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(Z=D.transformOrigin)==null?void 0:Z.x,(W=D.transformOrigin)==null?void 0:W.y].join(" "),...((q=D.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Hq,{scope:r,placedSide:L,onArrowChange:j,arrowX:G,arrowY:te,shouldHideArrow:z,children:o.jsx(Te.div,{"data-side":L,"data-align":U,...m,ref:b,style:{...m.style,animation:M?void 0:"none"}})})})});DI.displayName=ES;var LI="PopperArrow",Kq={top:"bottom",right:"left",bottom:"top",left:"right"},FI=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=qq(LI,n),s=Kq[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(Vq,{...a,ref:r,style:{...a.style,display:"block"}})})});FI.displayName=LI;function Gq(e){return e!==null}var Yq=e=>({name:"transformOrigin",options:e,fn(t){var g,v,x;const{placement:r,rects:n,middlewareData:a}=t,s=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,f]=BI(r),d={start:"0%",center:"50%",end:"100%"}[f],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=s?d:`${h}px`,m=`${-c}px`):u==="top"?(y=s?d:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=s?d:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,m=s?d:`${p}px`),{data:{x:y,y:m}}}});function BI(e){const[t,r="center"]=e.split("-");return[t,r]}var AS=MI,Ry=II,kS=DI,OS=FI,[My,SOe]=Sn("Tooltip",[cd]),$y=cd(),zI="TooltipProvider",Xq=700,qw="tooltip.open",[Qq,TS]=My(zI),UI=e=>{const{__scopeTooltip:t,delayDuration:r=Xq,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,s=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(Qq,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};UI.displayName=zI;var fh="Tooltip",[Zq,Iy]=My(fh),VI=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:s,delayDuration:l}=e,c=TS(fh,e.__scopeTooltip),u=$y(t),[f,d]=w.useState(null),h=Si(),p=w.useRef(0),y=s??c.disableHoverableContent,m=l??c.delayDuration,g=w.useRef(!1),[v,x]=Fn({prop:n,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(qw))):c.onClose(),i==null||i(C)},caller:fh}),b=w.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),_=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,x(!0)},[x]),j=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),S=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,x(!0),p.current=0},m)},[m,x]);return w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(AS,{...u,children:o.jsx(Zq,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:f,onTriggerChange:d,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?S():_()},[c.isOpenDelayedRef,S,_]),onTriggerLeave:w.useCallback(()=>{y?j():(window.clearTimeout(p.current),p.current=0)},[j,y]),onOpen:_,onClose:j,disableHoverableContent:y,children:r})})};VI.displayName=fh;var Kw="TooltipTrigger",WI=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Iy(Kw,r),i=TS(Kw,r),s=$y(r),l=w.useRef(null),c=Xe(t,l,a.onTriggerChange),u=w.useRef(!1),f=w.useRef(!1),d=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(Ry,{asChild:!0,...s,children:o.jsx(Te.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:we(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:we(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:we(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:we(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:we(e.onBlur,a.onClose),onClick:we(e.onClick,a.onClose)})})});WI.displayName=Kw;var Jq="TooltipPortal",[COe,e9]=My(Jq,{forceMount:void 0}),vu="TooltipContent",HI=w.forwardRef((e,t)=>{const r=e9(vu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,s=Iy(vu,e.__scopeTooltip);return o.jsx(Bn,{present:n||s.open,children:s.disableHoverableContent?o.jsx(qI,{side:a,...i,ref:t}):o.jsx(t9,{side:a,...i,ref:t})})}),t9=w.forwardRef((e,t)=>{const r=Iy(vu,e.__scopeTooltip),n=TS(vu,e.__scopeTooltip),a=w.useRef(null),i=Xe(t,a),[s,l]=w.useState(null),{trigger:c,onClose:u}=r,f=a.current,{onPointerInTransitChange:d}=n,h=w.useCallback(()=>{l(null),d(!1)},[d]),p=w.useCallback((y,m)=>{const g=y.currentTarget,v={x:y.clientX,y:y.clientY},x=s9(v,g.getBoundingClientRect()),b=o9(v,x),_=l9(m.getBoundingClientRect()),j=u9([...b,..._]);l(j),d(!0)},[d]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&f){const y=g=>p(g,f),m=g=>p(g,c);return c.addEventListener("pointerleave",y),f.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",m)}}},[c,f,p,h]),w.useEffect(()=>{if(s){const y=m=>{const g=m.target,v={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(g))||(f==null?void 0:f.contains(g)),b=!c9(v,s);x?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,f,s,u,h]),o.jsx(qI,{...e,ref:i})}),[r9,n9]=My(fh,{isInside:!1}),a9=C$("TooltipContent"),qI=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...l}=e,c=Iy(vu,r),u=$y(r),{onClose:f}=c;return w.useEffect(()=>(document.addEventListener(qw,f),()=>document.removeEventListener(qw,f)),[f]),w.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),o.jsx(nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:o.jsxs(kS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(a9,{children:n}),o.jsx(r9,{scope:r,isInside:!0,children:o.jsx(P6,{id:c.contentId,role:"tooltip",children:a||n})})]})})});HI.displayName=vu;var KI="TooltipArrow",i9=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=$y(r);return n9(KI,r).isInside?null:o.jsx(OS,{...a,...n,ref:t})});i9.displayName=KI;function s9(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function o9(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function l9(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function c9(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i],c=t[s],u=l.x,f=l.y,d=c.x,h=c.y;f>n!=h>n&&r<(d-u)*(n-f)/(h-f)+u&&(a=!a)}return a}function u9(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),d9(t)}function d9(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var f9=UI,h9=VI,p9=WI,GI=HI;const m9=f9,v9=h9,g9=p9,YI=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(GI,{ref:n,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));YI.displayName=GI.displayName;var Dy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ly=typeof window>"u"||"Deno"in globalThis;function La(){}function y9(e,t){return typeof e=="function"?e(t):e}function x9(e){return typeof e=="number"&&e>=0&&e!==1/0}function b9(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gw(e,t){return typeof e=="function"?e(t):e}function w9(e,t){return typeof e=="function"?e(t):e}function oE(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==RS(s,t.options))return!1}else if(!ph(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function lE(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(hh(t.options.mutationKey)!==hh(i))return!1}else if(!ph(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function RS(e,t){return((t==null?void 0:t.queryKeyHashFn)||hh)(e)}function hh(e){return JSON.stringify(e,(t,r)=>Yw(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function ph(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ph(e[r],t[r])):!1}function XI(e,t){if(e===t)return e;const r=cE(e)&&cE(t);if(r||Yw(e)&&Yw(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),s=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<s;f++){const d=r?f:i[f];(!r&&c.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,u++):(l[d]=XI(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return a===s&&u===a?e:l}return t}function cE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Yw(e){if(!uE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!uE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function uE(e){return Object.prototype.toString.call(e)==="[object Object]"}function j9(e){return new Promise(t=>{setTimeout(t,e)})}function _9(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?XI(e,t):t}function S9(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function C9(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var MS=Symbol();function QI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===MS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var cl,zs,Qc,J2,N9=(J2=class extends Dy{constructor(){super();mt(this,cl);mt(this,zs);mt(this,Qc);Je(this,Qc,t=>{if(!Ly&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){oe(this,zs)||this.setEventListener(oe(this,Qc))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,zs))==null||t.call(this),Je(this,zs,void 0))}setEventListener(t){var r;Je(this,Qc,t),(r=oe(this,zs))==null||r.call(this),Je(this,zs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){oe(this,cl)!==t&&(Je(this,cl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof oe(this,cl)=="boolean"?oe(this,cl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},cl=new WeakMap,zs=new WeakMap,Qc=new WeakMap,J2),ZI=new N9,Zc,Us,Jc,eR,P9=(eR=class extends Dy{constructor(){super();mt(this,Zc,!0);mt(this,Us);mt(this,Jc);Je(this,Jc,t=>{if(!Ly&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){oe(this,Us)||this.setEventListener(oe(this,Jc))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,Us))==null||t.call(this),Je(this,Us,void 0))}setEventListener(t){var r;Je(this,Jc,t),(r=oe(this,Us))==null||r.call(this),Je(this,Us,t(this.setOnline.bind(this)))}setOnline(t){oe(this,Zc)!==t&&(Je(this,Zc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return oe(this,Zc)}},Zc=new WeakMap,Us=new WeakMap,Jc=new WeakMap,eR),Ov=new P9;function E9(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function A9(e){return Math.min(1e3*2**e,3e4)}function JI(e){return(e??"online")==="online"?Ov.isOnline():!0}var eD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function z0(e){return e instanceof eD}function tD(e){let t=!1,r=0,n=!1,a;const i=E9(),s=m=>{var g;n||(h(new eD(m)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>ZI.isFocused()&&(e.networkMode==="always"||Ov.isOnline())&&e.canRun(),f=()=>JI(e.networkMode)&&e.canRun(),d=m=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,m),a==null||a(),i.resolve(m))},h=m=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var g;a=v=>{(n||u())&&m(v)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(d).catch(v=>{var S;if(n)return;const x=e.retry??(Ly?0:3),b=e.retryDelay??A9,_=typeof b=="function"?b(r,v):b,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,v);if(t||!j){h(v);return}r++,(S=e.onFail)==null||S.call(e,r,v),j9(_).then(()=>u()?void 0:p()).then(()=>{t?h(v):y()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?y():p().then(y),i)}}var k9=e=>setTimeout(e,0);function O9(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=k9;const i=l=>{t?e.push(l):a(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var mn=O9(),ul,tR,rD=(tR=class{constructor(){mt(this,ul)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),x9(this.gcTime)&&Je(this,ul,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ly?1/0:5*60*1e3))}clearGcTimeout(){oe(this,ul)&&(clearTimeout(oe(this,ul)),Je(this,ul,void 0))}},ul=new WeakMap,tR),eu,dl,pa,fl,en,up,hl,za,zi,rR,T9=(rR=class extends rD{constructor(t){super();mt(this,za);mt(this,eu);mt(this,dl);mt(this,pa);mt(this,fl);mt(this,en);mt(this,up);mt(this,hl);Je(this,hl,!1),Je(this,up,t.defaultOptions),this.setOptions(t.options),this.observers=[],Je(this,fl,t.client),Je(this,pa,oe(this,fl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Je(this,eu,M9(this.options)),this.state=t.state??oe(this,eu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=oe(this,en))==null?void 0:t.promise}setOptions(t){this.options={...oe(this,up),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,pa).remove(this)}setData(t,r){const n=_9(this.state.data,t,this.options);return Qr(this,za,zi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Qr(this,za,zi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=oe(this,en))==null?void 0:n.promise;return(a=oe(this,en))==null||a.cancel(t),r?r.then(La).catch(La):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,eu))}isActive(){return this.observers.some(t=>w9(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===MS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gw(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!b9(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=oe(this,en))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=oe(this,en))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),oe(this,pa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(oe(this,en)&&(oe(this,hl)?oe(this,en).cancel({revert:!0}):oe(this,en).cancelRetry()),this.scheduleGc()),oe(this,pa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qr(this,za,zi).call(this,{type:"invalidate"})}fetch(t,r){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(oe(this,en))return oe(this,en).continueRetry(),oe(this,en).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Je(this,hl,!0),n.signal)})},i=()=>{const h=QI(this.options,r),y=(()=>{const m={client:oe(this,fl),queryKey:this.queryKey,meta:this.meta};return a(m),m})();return Je(this,hl,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:oe(this,fl),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),Je(this,dl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Qr(this,za,zi).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=h=>{var p,y,m,g;z0(h)&&h.silent||Qr(this,za,zi).call(this,{type:"error",error:h}),z0(h)||((y=(p=oe(this,pa).config).onError)==null||y.call(p,h,this),(g=(m=oe(this,pa).config).onSettled)==null||g.call(m,this.state.data,h,this)),this.scheduleGc()};return Je(this,en,tD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,y,m,g;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(y=(p=oe(this,pa).config).onSuccess)==null||y.call(p,h,this),(g=(m=oe(this,pa).config).onSettled)==null||g.call(m,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Qr(this,za,zi).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Qr(this,za,zi).call(this,{type:"pause"})},onContinue:()=>{Qr(this,za,zi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),oe(this,en).start()}},eu=new WeakMap,dl=new WeakMap,pa=new WeakMap,fl=new WeakMap,en=new WeakMap,up=new WeakMap,hl=new WeakMap,za=new WeakSet,zi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...R9(n.data,this.options),fetchMeta:t.meta??null};case"success":return Je(this,dl,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return z0(a)&&a.revert&&oe(this,dl)?{...oe(this,dl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),mn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),oe(this,pa).notify({query:this,type:"updated",action:t})})},rR);function R9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function M9(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ui,nR,$9=(nR=class extends Dy{constructor(t={}){super();mt(this,ui);this.config=t,Je(this,ui,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??RS(a,r);let s=this.get(i);return s||(s=new T9({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){oe(this,ui).has(t.queryHash)||(oe(this,ui).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=oe(this,ui).get(t.queryHash);r&&(t.destroy(),r===t&&oe(this,ui).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return oe(this,ui).get(t)}getAll(){return[...oe(this,ui).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>oE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>oE(t,n)):r}notify(t){mn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ui=new WeakMap,nR),di,fn,pl,fi,As,aR,I9=(aR=class extends rD{constructor(t){super();mt(this,fi);mt(this,di);mt(this,fn);mt(this,pl);this.mutationId=t.mutationId,Je(this,fn,t.mutationCache),Je(this,di,[]),this.state=t.state||D9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){oe(this,di).includes(t)||(oe(this,di).push(t),this.clearGcTimeout(),oe(this,fn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Je(this,di,oe(this,di).filter(r=>r!==t)),this.scheduleGc(),oe(this,fn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){oe(this,di).length||(this.state.status==="pending"?this.scheduleGc():oe(this,fn).remove(this))}continue(){var t;return((t=oe(this,pl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,l,c,u,f,d,h,p,y,m,g,v,x,b,_,j,S,C,N;const r=()=>{Qr(this,fi,As).call(this,{type:"continue"})};Je(this,pl,tD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,E)=>{Qr(this,fi,As).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{Qr(this,fi,As).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,fn).canRun(this)}));const n=this.state.status==="pending",a=!oe(this,pl).canStart();try{if(n)r();else{Qr(this,fi,As).call(this,{type:"pending",variables:t,isPaused:a}),await((s=(i=oe(this,fn).config).onMutate)==null?void 0:s.call(i,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&Qr(this,fi,As).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const A=await oe(this,pl).start();return await((f=(u=oe(this,fn).config).onSuccess)==null?void 0:f.call(u,A,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,A,t,this.state.context)),await((y=(p=oe(this,fn).config).onSettled)==null?void 0:y.call(p,A,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,A,null,t,this.state.context)),Qr(this,fi,As).call(this,{type:"success",data:A}),A}catch(A){try{throw await((x=(v=oe(this,fn).config).onError)==null?void 0:x.call(v,A,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,A,t,this.state.context)),await((S=(j=oe(this,fn).config).onSettled)==null?void 0:S.call(j,void 0,A,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,A,t,this.state.context)),A}finally{Qr(this,fi,As).call(this,{type:"error",error:A})}}finally{oe(this,fn).runNext(this)}}},di=new WeakMap,fn=new WeakMap,pl=new WeakMap,fi=new WeakSet,As=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),mn.batch(()=>{oe(this,di).forEach(n=>{n.onMutationUpdate(t)}),oe(this,fn).notify({mutation:this,type:"updated",action:t})})},aR);function D9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qi,Ua,dp,iR,L9=(iR=class extends Dy{constructor(t={}){super();mt(this,qi);mt(this,Ua);mt(this,dp);this.config=t,Je(this,qi,new Set),Je(this,Ua,new Map),Je(this,dp,0)}build(t,r,n){const a=new I9({mutationCache:this,mutationId:++Lp(this,dp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){oe(this,qi).add(t);const r=om(t);if(typeof r=="string"){const n=oe(this,Ua).get(r);n?n.push(t):oe(this,Ua).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(oe(this,qi).delete(t)){const r=om(t);if(typeof r=="string"){const n=oe(this,Ua).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&oe(this,Ua).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=om(t);if(typeof r=="string"){const n=oe(this,Ua).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=om(t);if(typeof r=="string"){const a=(n=oe(this,Ua).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mn.batch(()=>{oe(this,qi).forEach(t=>{this.notify({type:"removed",mutation:t})}),oe(this,qi).clear(),oe(this,Ua).clear()})}getAll(){return Array.from(oe(this,qi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>lE(r,n))}findAll(t={}){return this.getAll().filter(r=>lE(t,r))}notify(t){mn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return mn.batch(()=>Promise.all(t.map(r=>r.continue().catch(La))))}},qi=new WeakMap,Ua=new WeakMap,dp=new WeakMap,iR);function om(e){var t;return(t=e.options.scope)==null?void 0:t.id}function dE(e){return{onFetch:(t,r)=>{var f,d,h,p,y;const n=t.options,a=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=QI(t.options,t.fetchOptions),x=async(b,_,j)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return g(k),k})(),N=await v(C),{maxPages:A}=t.options,E=j?C9:S9;return{pages:E(b.pages,N,A),pageParams:E(b.pageParams,_,A)}};if(a&&i.length){const b=a==="backward",_=b?F9:fE,j={pages:i,pageParams:s},S=_(n,j);l=await x(j,S,b)}else{const b=e??i.length;do{const _=c===0?s[0]??n.initialPageParam:fE(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function fE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function F9(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var nr,Vs,Ws,tu,ru,Hs,nu,au,sR,B9=(sR=class{constructor(e={}){mt(this,nr);mt(this,Vs);mt(this,Ws);mt(this,tu);mt(this,ru);mt(this,Hs);mt(this,nu);mt(this,au);Je(this,nr,e.queryCache||new $9),Je(this,Vs,e.mutationCache||new L9),Je(this,Ws,e.defaultOptions||{}),Je(this,tu,new Map),Je(this,ru,new Map),Je(this,Hs,0)}mount(){Lp(this,Hs)._++,oe(this,Hs)===1&&(Je(this,nu,ZI.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,nr).onFocus())})),Je(this,au,Ov.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,nr).onOnline())})))}unmount(){var e,t;Lp(this,Hs)._--,oe(this,Hs)===0&&((e=oe(this,nu))==null||e.call(this),Je(this,nu,void 0),(t=oe(this,au))==null||t.call(this),Je(this,au,void 0))}isFetching(e){return oe(this,nr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return oe(this,Vs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=oe(this,nr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=oe(this,nr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Gw(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return oe(this,nr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=oe(this,nr).get(n.queryHash),i=a==null?void 0:a.state.data,s=y9(t,i);if(s!==void 0)return oe(this,nr).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return mn.batch(()=>oe(this,nr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=oe(this,nr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=oe(this,nr);mn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=oe(this,nr);return mn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=mn.batch(()=>oe(this,nr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(La).catch(La)}invalidateQueries(e,t={}){return mn.batch(()=>(oe(this,nr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=mn.batch(()=>oe(this,nr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(La)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(La)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=oe(this,nr).build(this,t);return r.isStaleByTime(Gw(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(La).catch(La)}fetchInfiniteQuery(e){return e.behavior=dE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(La).catch(La)}ensureInfiniteQueryData(e){return e.behavior=dE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ov.isOnline()?oe(this,Vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,nr)}getMutationCache(){return oe(this,Vs)}getDefaultOptions(){return oe(this,Ws)}setDefaultOptions(e){Je(this,Ws,e)}setQueryDefaults(e,t){oe(this,tu).set(hh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...oe(this,tu).values()],r={};return t.forEach(n=>{ph(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){oe(this,ru).set(hh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...oe(this,ru).values()],r={};return t.forEach(n=>{ph(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...oe(this,Ws).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=RS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===MS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...oe(this,Ws).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){oe(this,nr).clear(),oe(this,Vs).clear()}},nr=new WeakMap,Vs=new WeakMap,Ws=new WeakMap,tu=new WeakMap,ru=new WeakMap,Hs=new WeakMap,nu=new WeakMap,au=new WeakMap,sR),z9=w.createContext(void 0),U9=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(z9.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(this,arguments)}var Gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gs||(Gs={}));const hE="popstate";function V9(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return Xw("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Tv(a)}return H9(t,r,null,e)}function tr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W9(){return Math.random().toString(36).substr(2,8)}function pE(e,t){return{usr:e.state,key:e.key,idx:t}}function Xw(e,t,r,n){return r===void 0&&(r=null),mh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ud(t):t,{state:r,key:t&&t.key||n||W9()})}function Tv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ud(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function H9(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l=Gs.Pop,c=null,u=f();u==null&&(u=0,s.replaceState(mh({},s.state,{idx:u}),""));function f(){return(s.state||{idx:null}).idx}function d(){l=Gs.Pop;let g=f(),v=g==null?null:g-u;u=g,c&&c({action:l,location:m.location,delta:v})}function h(g,v){l=Gs.Push;let x=Xw(m.location,g,v);u=f()+1;let b=pE(x,u),_=m.createHref(x);try{s.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:l,location:m.location,delta:1})}function p(g,v){l=Gs.Replace;let x=Xw(m.location,g,v);u=f();let b=pE(x,u),_=m.createHref(x);s.replaceState(b,"",_),i&&c&&c({action:l,location:m.location,delta:0})}function y(g){let v=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof g=="string"?g:Tv(g);return x=x.replace(/ $/,"%20"),tr(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return l},get location(){return e(a,s)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(hE,d),c=g,()=>{a.removeEventListener(hE,d),c=null}},createHref(g){return t(a,g)},createURL:y,encodeLocation(g){let v=y(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(g){return s.go(g)}};return m}var mE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mE||(mE={}));function q9(e,t,r){return r===void 0&&(r="/"),K9(e,t,r,!1)}function K9(e,t,r,n){let a=typeof t=="string"?ud(t):t,i=gu(a.pathname||"/",r);if(i==null)return null;let s=aD(e);G9(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=i7(i);l=n7(s[c],u,n)}return l}function aD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(tr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=co([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(tr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aD(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:t7(u,i.index),routesMeta:f})};return e.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,s);else for(let c of iD(i.path))a(i,s,c)}),t}function iD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=iD(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function G9(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:r7(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Y9=/^:[\w-]+$/,X9=3,Q9=2,Z9=1,J9=10,e7=-2,vE=e=>e==="*";function t7(e,t){let r=e.split("/"),n=r.length;return r.some(vE)&&(n+=e7),t&&(n+=Q9),r.filter(a=>!vE(a)).reduce((a,i)=>a+(Y9.test(i)?X9:i===""?Z9:J9),n)}function r7(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function n7(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Rv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Rv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:co([i,d.pathname]),pathnameBase:c7(co([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=co([i,d.pathnameBase]))}return s}function Rv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=a7(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let m=l[d]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const y=l[d];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function a7(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),nD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function i7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function s7(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ud(e):e;return{pathname:r?r.startsWith("/")?r:o7(r,t):t,search:u7(n),hash:d7(a)}}function o7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function U0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l7(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $S(e,t){let r=l7(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function IS(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ud(e):(a=mh({},e),tr(!a.pathname||!a.pathname.includes("?"),U0("?","pathname","search",a)),tr(!a.pathname||!a.pathname.includes("#"),U0("#","pathname","hash",a)),tr(!a.search||!a.search.includes("#"),U0("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=s7(a,l),u=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const co=e=>e.join("/").replace(/\/\/+/g,"/"),c7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sD=["post","put","patch","delete"];new Set(sD);const h7=["get",...sD];new Set(h7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(this,arguments)}const Fy=w.createContext(null),oD=w.createContext(null),ms=w.createContext(null),By=w.createContext(null),No=w.createContext({outlet:null,matches:[],isDataRoute:!1}),lD=w.createContext(null);function p7(e,t){let{relative:r}=t===void 0?{}:t;dd()||tr(!1);let{basename:n,navigator:a}=w.useContext(ms),{hash:i,pathname:s,search:l}=zy(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:co([n,s])),a.createHref({pathname:c,search:l,hash:i})}function dd(){return w.useContext(By)!=null}function Bl(){return dd()||tr(!1),w.useContext(By).location}function cD(e){w.useContext(ms).static||w.useLayoutEffect(e)}function fd(){let{isDataRoute:e}=w.useContext(No);return e?P7():m7()}function m7(){dd()||tr(!1);let e=w.useContext(Fy),{basename:t,future:r,navigator:n}=w.useContext(ms),{matches:a}=w.useContext(No),{pathname:i}=Bl(),s=JSON.stringify($S(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return cD(()=>{l.current=!0}),w.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=IS(u,JSON.parse(s),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:co([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,s,i,e])}function zy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(ms),{matches:a}=w.useContext(No),{pathname:i}=Bl(),s=JSON.stringify($S(a,n.v7_relativeSplatPath));return w.useMemo(()=>IS(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function v7(e,t){return g7(e,t)}function g7(e,t,r,n){dd()||tr(!1);let{navigator:a}=w.useContext(ms),{matches:i}=w.useContext(No),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Bl(),f;if(t){var d;let g=typeof t=="string"?ud(t):t;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||tr(!1),f=g}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=q9(e,{pathname:p}),m=j7(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:co([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:co([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&m?w.createElement(By.Provider,{value:{location:vh({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Gs.Pop}},m):m}function y7(){let e=N7(),t=f7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const x7=w.createElement(y7,null);class b7 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(No.Provider,{value:this.props.routeContext},w.createElement(lD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w7(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(Fy);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(No.Provider,{value:t},n)}function j7(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=s.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||tr(!1),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||y){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,d,h)=>{let p,y=!1,m=null,g=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,m=d.route.errorElement||x7,c&&(u<0&&h===0?(y=!0,g=null):u===h&&(y=!0,g=d.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),x=()=>{let b;return p?b=m:y?b=g:d.route.Component?b=w.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,w.createElement(w7,{match:d,routeContext:{outlet:f,matches:v,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(b7,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var uD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uD||{}),Mv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mv||{});function _7(e){let t=w.useContext(Fy);return t||tr(!1),t}function S7(e){let t=w.useContext(oD);return t||tr(!1),t}function C7(e){let t=w.useContext(No);return t||tr(!1),t}function dD(e){let t=C7(),r=t.matches[t.matches.length-1];return r.route.id||tr(!1),r.route.id}function N7(){var e;let t=w.useContext(lD),r=S7(Mv.UseRouteError),n=dD(Mv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function P7(){let{router:e}=_7(uD.UseNavigateStable),t=dD(Mv.UseNavigateStable),r=w.useRef(!1);return cD(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,vh({fromRouteId:t},i)))},[e,t])}function E7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gE(e){let{to:t,replace:r,state:n,relative:a}=e;dd()||tr(!1);let{future:i,static:s}=w.useContext(ms),{matches:l}=w.useContext(No),{pathname:c}=Bl(),u=fd(),f=IS(t,$S(l,i.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(f);return w.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function Ur(e){tr(!1)}function A7(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Gs.Pop,navigator:i,static:s=!1,future:l}=e;dd()&&tr(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:i,static:s,future:vh({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof n=="string"&&(n=ud(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:y="default"}=n,m=w.useMemo(()=>{let g=gu(f,c);return g==null?null:{location:{pathname:g,search:d,hash:h,state:p,key:y},navigationType:a}},[c,f,d,h,p,y,a]);return m==null?null:w.createElement(ms.Provider,{value:u},w.createElement(By.Provider,{children:r,value:m}))}function k7(e){let{children:t,location:r}=e;return v7(Qw(t),r)}new Promise(()=>{});function Qw(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let i=[...t,a];if(n.type===w.Fragment){r.push.apply(r,Qw(n.props.children,i));return}n.type!==Ur&&tr(!1),!n.props.index||!n.props.children||tr(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Qw(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(this,arguments)}function fD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function O7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T7(e,t){return e.button===0&&(!t||t==="_self")&&!O7(e)}const R7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$7="6";try{window.__reactRouterVersion=$7}catch{}const I7=w.createContext({isTransitioning:!1}),D7="startTransition",yE=y_[D7];function L7(e){let{basename:t,children:r,future:n,window:a}=e,i=w.useRef();i.current==null&&(i.current=V9({window:a,v5Compat:!0}));let s=i.current,[l,c]=w.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},f=w.useCallback(d=>{u&&yE?yE(()=>c(d)):c(d)},[c,u]);return w.useLayoutEffect(()=>s.listen(f),[s,f]),w.useEffect(()=>E7(n),[n]),w.createElement(A7,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const F7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z7=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=fD(t,R7),{basename:p}=w.useContext(ms),y,m=!1;if(typeof u=="string"&&B7.test(u)&&(y=u,F7))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=gu(_.pathname,p);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:m=!0}catch{}let g=p7(u,{relative:a}),v=V7(u,{replace:s,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:d});function x(b){n&&n(b),b.defaultPrevented||v(b)}return w.createElement("a",$v({},h,{href:y||g,onClick:m||i?n:x,ref:r,target:c}))}),Af=w.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:u,children:f}=t,d=fD(t,M7),h=zy(c,{relative:d.relative}),p=Bl(),y=w.useContext(oD),{navigator:m,basename:g}=w.useContext(ms),v=y!=null&&W7(h)&&u===!0,x=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&g&&(_=gu(_,g)||_);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=b===x||!s&&b.startsWith(x)&&b.charAt(j)==="/",C=_!=null&&(_===x||!s&&_.startsWith(x)&&_.charAt(x.length)==="/"),N={isActive:S,isPending:C,isTransitioning:v},A=S?n:void 0,E;typeof i=="function"?E=i(N):E=[i,S?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(N):l;return w.createElement(z7,$v({},d,{"aria-current":A,className:E,ref:r,style:k,to:c,viewTransition:u}),typeof f=="function"?f(N):f)});var Zw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zw||(Zw={}));var xE;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xE||(xE={}));function U7(e){let t=w.useContext(Fy);return t||tr(!1),t}function V7(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:l}=t===void 0?{}:t,c=fd(),u=Bl(),f=zy(e,{relative:s});return w.useCallback(d=>{if(T7(d,r)){d.preventDefault();let h=n!==void 0?n:Tv(u)===Tv(f);c(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,c,f,n,a,r,e,i,s,l])}function W7(e,t){t===void 0&&(t={});let r=w.useContext(I7);r==null&&tr(!1);let{basename:n}=U7(Zw.useViewTransitionState),a=zy(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=gu(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=gu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Rv(a.pathname,s)!=null||Rv(a.pathname,i)!=null}const H7=[{id:"ccd-evo",name:"CCD EVO",category:"B2C",launchYear:2025,devCost:15e4,devAmortizationYears:5,unitCost:380,priceTTC_B2C:1490,priceHT:1241.67,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{2025:150,2026:300,2027:500,2028:700,2029:900,2030:1100},volumesByChannel:{B2C:{2025:50,2026:80,2027:100,2028:120,2029:140,2030:160},B2B:{2025:80,2026:150,2027:250,2028:350,2029:450,2030:550},OEM:{2025:20,2026:70,2027:150,2028:230,2029:310,2030:390}}},{id:"roues-aero",name:"Roues Aro Elite",category:"B2C",launchYear:2026,devCost:25e4,devAmortizationYears:5,unitCost:650,priceTTC_B2C:2490,priceHT:2075,vatRate:.2,coef_shop:1.7,coef_dist:1.35,coef_oem:1.4,volumesByYear:{2026:100,2027:200,2028:350,2029:500,2030:650},volumesByChannel:{B2C:{2026:30,2027:50,2028:80,2029:110,2030:140},B2B:{2026:50,2027:100,2028:180,2029:260,2030:340},OEM:{2026:20,2027:50,2028:90,2029:130,2030:170}}},{id:"guidons",name:"Guidons Intgrs",category:"B2C",launchYear:2026,devCost:8e4,devAmortizationYears:5,unitCost:180,priceTTC_B2C:890,priceHT:741.67,vatRate:.2,coef_shop:1.6,coef_dist:1.3,coef_oem:1.35,volumesByYear:{2026:150,2027:280,2028:430,2029:580,2030:730},volumesByChannel:{B2C:{2026:50,2027:80,2028:120,2029:160,2030:200},B2B:{2026:70,2027:140,2028:220,2029:300,2030:380},OEM:{2026:30,2027:60,2028:90,2029:120,2030:150}}},{id:"transmission",name:"Transmission Aro",category:"B2C",launchYear:2027,devCost:18e4,devAmortizationYears:5,unitCost:420,priceTTC_B2C:1590,priceHT:1325,vatRate:.2,coef_shop:1.75,coef_dist:1.35,coef_oem:1.45,volumesByYear:{2027:80,2028:180,2029:300,2030:440},volumesByChannel:{B2C:{2027:20,2028:40,2029:60,2030:90},B2B:{2027:40,2028:100,2029:170,2030:250},OEM:{2027:20,2028:40,2029:70,2030:100}}}],q7=[{id:"ceo",title:"Directeur Gnral",department:"Admin",startYear:2024,annualCostLoaded:85e3},{id:"daf",title:"Directeur Financier",department:"Admin",startYear:2024,annualCostLoaded:65e3},{id:"cto",title:"Directeur Technique",department:"R&D",startYear:2024,annualCostLoaded:75e3},{id:"ing-rd-1",title:"Ingnieur Mcanique",department:"R&D",startYear:2024,annualCostLoaded:55e3},{id:"ing-rd-2",title:"Ingnieur Composite",department:"R&D",startYear:2026,annualCostLoaded:52e3},{id:"ing-rd-3",title:"Ingnieur Simulation",department:"R&D",startYear:2027,annualCostLoaded:55e3},{id:"resp-prod",title:"Responsable Production",department:"Production",startYear:2024,annualCostLoaded:6e4},{id:"tech-1",title:"Technicien Process",department:"Production",startYear:2024,annualCostLoaded:42e3},{id:"tech-2",title:"Technicien Qualit",department:"Production",startYear:2026,annualCostLoaded:4e4},{id:"supply",title:"Resp. Supply Chain",department:"Production",startYear:2028,annualCostLoaded:58e3},{id:"dir-com",title:"Directeur Commercial",department:"Sales",startYear:2024,annualCostLoaded:7e4},{id:"com-export",title:"Commercial Export",department:"Sales",startYear:2026,annualCostLoaded:48e3},{id:"am",title:"Account Manager",department:"Sales",startYear:2027,annualCostLoaded:5e4},{id:"resp-mkt",title:"Responsable Marketing",department:"Support",startYear:2024,annualCostLoaded:55e3},{id:"digital",title:"Digital Manager",department:"Support",startYear:2027,annualCostLoaded:45e3},{id:"rh",title:"Responsable RH",department:"Support",startYear:2024,annualCostLoaded:5e4},{id:"compta",title:"Comptable",department:"Support",startYear:2028,annualCostLoaded:42e3}],K7=[{id:"rd-proto",name:"Prototypage & Essais",category:"R&D",startYear:2025,baseAnnualCost:4e4,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Matriaux de prototypage, tests en soufflerie, essais terrain"},{id:"rd-licences",name:"Licences logiciels CAO/CFD",category:"R&D",startYear:2025,baseAnnualCost:25e3,evolutionType:"fixed",description:"SolidWorks, ANSYS, licences annuelles"},{id:"prod-outillage",name:"Outillage & Moules",category:"Production",startYear:2025,baseAnnualCost:5e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:8e4},{year:2027,newAnnualCost:6e4},{year:2028,newAnnualCost:4e4}],description:"Investissements outillage pour nouveaux produits"},{id:"prod-maintenance",name:"Maintenance quipements",category:"Production",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.05,description:"Contrats de maintenance machines CNC et quipements"},{id:"mkt-digital",name:"Marketing Digital",category:"Sales & Marketing",startYear:2025,baseAnnualCost:6e4,evolutionType:"linked_to_revenue",revenueRatio:.05,description:"SEO, SEA, rseaux sociaux, content marketing"},{id:"mkt-events",name:"Salons & vnements",category:"Sales & Marketing",startYear:2025,baseAnnualCost:4e4,evolutionType:"step",steps:[{year:2026,newAnnualCost:6e4},{year:2027,newAnnualCost:8e4}],description:"Eurobike, Sea Otter, salons rgionaux"},{id:"sales-commissions",name:"Commissions commerciales",category:"Sales & Marketing",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_revenue",revenueRatio:.03,description:"Commissions agents et commerciaux terrain"},{id:"ga-loyer",name:"Loyer & Charges locatives",category:"G&A",startYear:2025,baseAnnualCost:48e3,evolutionType:"step",steps:[{year:2027,newAnnualCost:72e3}],description:"Locaux R&D et bureaux, extension 2027"},{id:"ga-assurances",name:"Assurances",category:"G&A",startYear:2025,baseAnnualCost:2e4,evolutionType:"linked_to_revenue",revenueRatio:.015,description:"RC Pro, assurance produit, multirisque"},{id:"ga-compta",name:"Comptabilit & Juridique",category:"G&A",startYear:2025,baseAnnualCost:25e3,evolutionType:"growth_rate",growthRate:.03,description:"Expert-comptable, avocat, commissaire aux comptes"},{id:"log-transport",name:"Transport & Expdition",category:"Logistics",startYear:2025,baseAnnualCost:0,evolutionType:"linked_to_volume",volumeRatio:12,description:"Cot moyen par unit expdie"},{id:"log-stockage",name:"Stockage & Entreposage",category:"Logistics",startYear:2025,baseAnnualCost:18e3,evolutionType:"growth_rate",growthRate:.15,description:"Surface de stockage croissante avec les volumes"},{id:"it-infra",name:"Infrastructure IT",category:"IT & Tools",startYear:2025,baseAnnualCost:12e3,evolutionType:"step",steps:[{year:2026,newAnnualCost:18e3},{year:2028,newAnnualCost:24e3}],description:"Cloud, serveurs, scurit"},{id:"it-erp",name:"ERP & Outils mtier",category:"IT & Tools",startYear:2025,baseAnnualCost:15e3,evolutionType:"growth_rate",growthRate:.1,description:"Licences ERP, CRM, gestion stock"}],G7=[{id:"seed",name:"Seed",amount:15e5,preMoneyValuation:4e6,year:2025,quarter:"Q1"}];function Y7(e,t){return e.reduce((r,n)=>{const a=n.devAmortizationYears||5,i=n.launchYear,s=i+a;return t>=i&&t<s?r+n.devCost/a:r},0)}function X7(e,t,r){let n=0,a=0;return e.forEach(i=>{const s=i.volumesByChannel;if(s){const l=i.priceHT||i.priceTTC_B2C/(1+(i.vatRate||.2)),c=i.coef_shop||1.6,u=i.coef_dist||1.3,f=i.coef_oem||1.4,d=l/c/u,h=i.unitCost*f,p=Math.round((s.B2C[t]||0)*(1+r.volumeAdjustment));n+=p*l*(1+r.priceAdjustment),a+=p*i.unitCost;const y=Math.round((s.B2B[t]||0)*(1+r.volumeAdjustment));n+=y*d*(1+r.priceAdjustment),a+=y*i.unitCost;const m=Math.round((s.OEM[t]||0)*(1+r.volumeAdjustment));n+=m*h*(1+r.priceAdjustment),a+=m*i.unitCost}else if(i.volumesByYear[t]){const l=Math.round(i.volumesByYear[t]*(1+r.volumeAdjustment));n+=l*i.priceHT*(1+r.priceAdjustment),a+=l*i.unitCost}}),{revenue:n,cogs:a}}function Q7(e,t){let r=0,n=0;return e.forEach(a=>{a.startYear<=t&&(r+=a.annualCostLoaded,n+=1)}),{payroll:r,headcount:n}}function Z7(e,t,r,n,a,i,s="detailed",l){if(s==="simple"&&l){const u=t-r;return l.baseAmount*Math.pow(1+l.growthRate,u)*(1+i.opexAdjustment)}let c=0;return e.forEach(u=>{var h;if(u.startYear>t)return;let f=u.baseAnnualCost;const d=t-u.startYear;switch(u.evolutionType){case"fixed":break;case"growth_rate":f=u.baseAnnualCost*Math.pow(1+(u.growthRate||0),d);break;case"linked_to_revenue":f=n*(u.revenueRatio||0);break;case"linked_to_volume":f=a*(u.volumeRatio||0);break;case"step":const p=(h=u.steps)==null?void 0:h.filter(y=>y.year<=t).pop();p&&(f=p.newAnnualCost);break}f=f*(1+i.opexAdjustment),c+=f}),c}function J7(e,t){return e.reduce((r,n)=>n.launchYear===t?r+n.devCost:r,0)}function eK(e,t){let r=0;const n={};return e.forEach(a=>{const i=a.devAmortizationYears||5,s=a.launchYear,l=s+i;if(t>=s&&t<l){const c=a.devCost/i;r+=c,n[a.id]=c}else n[a.id]=0}),{total:r,byProduct:n}}function tK(e,t,r){return e.reduce((n,a)=>{if(a.volumesByChannel){const i=Math.round((a.volumesByChannel.B2C[t]||0)*(1+r.volumeAdjustment)),s=Math.round((a.volumesByChannel.B2B[t]||0)*(1+r.volumeAdjustment)),l=Math.round((a.volumesByChannel.OEM[t]||0)*(1+r.volumeAdjustment));return n+i+s+l}return n+Math.round((a.volumesByYear[t]||0)*(1+r.volumeAdjustment))},0)}function rK(e){return e.map(t=>{const r=t.devAmortizationYears||5;return{productId:t.id,productName:t.name,devCost:t.devCost,launchYear:t.launchYear,amortizationYears:r,yearlyAmortization:t.devCost/r}})}function nK(e,t,r,n,a,i,s,l,c="detailed",u){const f=[];let d=a,h=a,p=a,y=0,m=null,g=0,v=0,x=0;const b=rK(e);for(let C=0;C<s;C++){const N=i+C,A=d,{revenue:E,cogs:k}=X7(e,N,l),{payroll:R,headcount:T}=Q7(t,N),P=tK(e,N,l),$=Z7(r,N,i,E,P,l,c,u),I=J7(e,N),{total:M,byProduct:D}=eK(e,N);v+=I,x+=M;const L=E-k,U=E>0?L/E:0,X=L-R-$,G=E>0?X/E:0,te=X-M,z=k+R+$+I,B=E-z,V=n.filter(Ae=>Ae.year===N),H=V.reduce((Ae,Ie)=>Ae+Ie.amount,0);g+=H;const ce=B/4,Q={Q1:0,Q2:0,Q3:0,Q4:0};let Z=A,W=A;["Q1","Q2","Q3","Q4"].forEach(Ae=>{const Ge=V.filter(pt=>pt.quarter===Ae).reduce((pt,Gt)=>pt+Gt.amount,0);W+=ce+Ge,Q[Ae]=W,W<Z&&(Z=W)});const de=A+B+H;d=de,Z<h&&(h=Z);const ye=a+f.reduce((Ae,Ie)=>Ae+Ie.cashFlow,0)+B;ye<p&&(p=ye),B<0&&Math.abs(B)>y&&(y=Math.abs(B)),m===null&&B>0&&(m=N),f.push({year:N,revenue:E,fundingInjection:H,cogs:k,payroll:R,opex:$,capex:I,grossMargin:L,grossMarginRate:U,ebitda:X,ebitdaMargin:G,depreciation:M,depreciationByProduct:D,operatingResult:te,totalCosts:z,cashFlow:B,treasuryStart:A,treasuryEnd:de,quarterlyTreasury:Q,minTreasuryInYear:Z,headcount:T})}const _=Math.max(0,-p),j=y/12,S=j>0?Math.floor(a/j):999;return{years:f,initialCash:a,totalFundingRaised:g,fundingNeed:_,minTreasury:h,breakEvenYear:m,maxBurn:y,runway:S,productAmortizations:b,totalCapex:v,totalDepreciation:x}}const aK=["Q1","Q2","Q3","Q4"],tl=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];function bE(){return{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}}function iK(){return{revenueSeasonality:bE(),cogsSeasonality:bE(),variableCharges:[],loans:[],capexPayments:[],otherInflows:{},otherOutflows:{}}}function wE(e){const t=Object.values(e).map(n=>1+n),r=t.reduce((n,a)=>n+a,0);return r===0?Array(12).fill(1):t.map(n=>n/r*12)}function sK(e,t,r){const n=[],a=t+r;if(e.manualPayments&&Object.keys(e.manualPayments).length>0)return Object.entries(e.manualPayments).forEach(([l,c])=>{const u=cK(l);if(!u)return;const{year:f,month:d}=u;f>=t&&f<a&&n.push({loanId:e.id,loanName:e.name,year:f,month:d,principal:c,interest:0,total:c,isManuallyModified:!0})}),n.sort((l,c)=>l.year!==c.year?l.year-c.year:l.month-c.month),n;const i=e.startDate.year*12+e.startDate.month,s=e.endDate.year*12+e.endDate.month;if(e.inputMode==="fixed"){const l=e.fixedPaymentAmount||0;if(l<=0)return n;if(e.frequency==="monthly")for(let c=i;c<s;c++){const u=Math.floor(c/12),f=c%12;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:f,principal:l,interest:0,total:l,isManuallyModified:!1})}else if(e.frequency==="quarterly")for(let c=i;c<s;c++){const u=Math.floor(c/12),f=c%12;u<t||u>=a||(c-i)%3===0&&n.push({loanId:e.id,loanName:e.name,year:u,month:f,principal:l,interest:0,total:l,isManuallyModified:!1})}else for(let c=0;c<Math.max(1,Math.round((s-i)/12));c++){const u=e.startDate.year+c;u<t||u>=a||n.push({loanId:e.id,loanName:e.name,year:u,month:e.startDate.month,principal:l,interest:0,total:l,isManuallyModified:!1})}return n}if(s<=i)return n;if(e.frequency==="monthly"){const l=s-i;if(l<=0)return n;const c=e.interestRate/12;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let f=e.principalAmount;for(let d=0;d<l;d++){const h=i+d,p=Math.floor(h/12),y=h%12;if(p<t||p>=a)continue;const m=f*c,g=u-m;f-=g,n.push({loanId:e.id,loanName:e.name,year:p,month:y,principal:Math.max(0,g),interest:m,total:u,isManuallyModified:!1})}}else if(e.frequency==="quarterly"){const l=Math.max(1,Math.round((s-i)/3)),c=e.interestRate/4;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let f=e.principalAmount;for(let d=0;d<l;d++){const h=i+d*3,p=Math.floor(h/12),y=h%12;if(p<t||p>=a)continue;const m=f*c,g=u-m;f-=g,n.push({loanId:e.id,loanName:e.name,year:p,month:y,principal:Math.max(0,g),interest:m,total:u,isManuallyModified:!1})}}else{const l=Math.max(1,Math.round((s-i)/12)),c=e.interestRate;let u;c===0?u=e.principalAmount/l:u=e.principalAmount*c*Math.pow(1+c,l)/(Math.pow(1+c,l)-1);let f=e.principalAmount;for(let d=0;d<l;d++){const h=e.startDate.year+d,p=e.startDate.month;if(h<t||h>=a)continue;const y=f*c,m=u-y;f-=m,n.push({loanId:e.id,loanName:e.name,year:h,month:p,principal:Math.max(0,m),interest:y,total:u,isManuallyModified:!1})}}return n}function oK(e){return e<=2?"Q1":e<=5?"Q2":e<=8?"Q3":"Q4"}function lK(e,t,r,n,a,i,s=!1){var _,j;const l=[];let c=n,u=n,f=null,d=null,h=0,p=0,y=0,m=0;const g=wE(e.revenueSeasonality),v=wE(e.cogsSeasonality),x=[];e.loans.forEach(S=>{x.push(...sK(S,a,i))});const b=e.capexPayments||[];for(let S=0;S<i;S++){const C=a+S,N=t.annualRevenue[C]||0,A=t.annualCogs[C]||0,E=t.annualPayroll[C]||0,k=t.annualOpex[C]||0,R=N/12,T=A/12,P=E/12,$=k/12;for(let I=0;I<12;I++){const M=I,D=c,L=R*g[I];let U=0;if(!s){const Ae=oK(M);I%3===0&&r.forEach(Ge=>{Ge.year===C&&Ge.quarter===Ae&&(U+=Ge.amount,h+=Ge.amount)})}const X=`${C}-${M.toString().padStart(2,"0")}`,G=((_=e.otherInflows[X])==null?void 0:_.amount)||0,te=L+U+G,z=T*v[I];let B=0;const V=[];e.variableCharges.forEach(Ae=>{const Ie=L*Ae.rateOfRevenue;B+=Ie,V.push({name:Ae.name,amount:Ie})}),p+=B;const H=x.filter(Ae=>Ae.year===C&&Ae.month===M),ce=H.reduce((Ae,Ie)=>Ae+Ie.total,0);y+=ce;const Q=b.filter(Ae=>Ae.year===C&&Ae.month===M),Z=Q.reduce((Ae,Ie)=>Ae+Ie.amount,0);m+=Z;const W=((j=e.otherOutflows[X])==null?void 0:j.amount)||0,q=z+P+$+B+ce+Z+W,de=te-q,ye=D+de;ye<u&&(u=ye,f={year:C,month:M}),d===null&&de>0&&l.length>0&&l.slice(-3).some(Ie=>Ie.netCashFlow<0)&&(d={year:C,month:M}),l.push({year:C,month:M,monthName:tl[I],revenue:L,fundingInjection:U,otherInflows:G,totalInflows:te,cogs:z,payroll:P,opex:$,variableCharges:B,loanPayments:ce,capexPayments:Z,otherOutflows:W,totalOutflows:q,treasuryStart:D,netCashFlow:de,treasuryEnd:ye,loanPaymentDetails:H,variableChargeDetails:V,capexPaymentDetails:Q}),c=ye}}return{months:l,initialCash:n,totalFundingRaised:h,minTreasury:u,minTreasuryMonth:f,breakEvenMonth:d,totalVariableCharges:p,totalLoanPayments:y,totalCapexPayments:m}}function cK(e){const t=e.match(/^(\d{4})-(\d{2})$/);return t?{year:parseInt(t[1],10),month:parseInt(t[2],10)}:null}function hd(e){const t=new Map;return e.forEach((r,n)=>{let a=t.get(r.year);a||(a={year:r.year,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:r.treasuryStart,treasuryEnd:0,ebitda:0}),a.revenue+=r.revenue,a.cogs+=r.cogs,a.payroll+=r.payroll,a.opex+=r.opex,a.variableCharges+=r.variableCharges,a.loanPayments+=r.loanPayments,a.fundingInjection+=r.fundingInjection,a.netCashFlow+=r.netCashFlow,a.treasuryEnd=r.treasuryEnd,t.set(r.year,a)}),t.forEach((r,n)=>{r.grossMargin=r.revenue-r.cogs,r.ebitda=r.grossMargin-r.payroll-r.opex-r.variableCharges}),t}const Zt=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Zt.displayName="Card";const cn=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:re("flex flex-col space-y-1.5 p-6",e),...t}));cn.displayName="CardHeader";const un=w.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));un.displayName="CardTitle";const gh=w.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:re("text-sm text-muted-foreground",e),...t}));gh.displayName="CardDescription";const Jt=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:re("p-6 pt-0",e),...t}));Jt.displayName="CardContent";const uK=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:re("flex items-center p-6 pt-0",e),...t}));uK.displayName="CardFooter";function ot({label:e,value:t,subValue:r,trend:n,className:a}){return o.jsx(Zt,{className:re("",a),children:o.jsxs(Jt,{className:"pt-4 pb-3",children:[o.jsx("div",{className:"kpi-label mb-1",children:e}),o.jsxs("div",{className:"kpi-value flex items-center gap-2",children:[t,n==="up"&&o.jsx(Fl,{className:"h-4 w-4 text-[hsl(var(--positive))]"}),n==="down"&&o.jsx(yS,{className:"h-4 w-4 text-[hsl(var(--negative))]"})]}),r&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r})]})})}function Ue({title:e,children:t,id:r,className:n,action:a}){return o.jsxs(Zt,{className:re("",n),id:r,children:[o.jsxs(cn,{className:"pb-3 flex flex-row items-center justify-between",children:[o.jsx(un,{className:"text-lg",children:e}),a]}),o.jsx(Jt,{children:t})]})}const _e=w.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));_e.displayName="Input";function yh(e,[t,r]){return Math.min(r,Math.max(t,e))}var dK=w.createContext(void 0);function pd(e){const t=w.useContext(dK);return e||t||"ltr"}function Uy(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var hD=["PageUp","PageDown"],pD=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mD={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},md="Slider",[Jw,fK,hK]=Sy(md),[vD,NOe]=Sn(md,[hK]),[pK,Vy]=vD(md),gD=w.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:f,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:y,...m}=e,g=w.useRef(new Set),v=w.useRef(0),b=s==="horizontal"?mK:vK,[_=[],j]=Fn({prop:f,defaultProp:u,onChange:k=>{var T;(T=[...g.current][v.current])==null||T.focus(),d(k)}}),S=w.useRef(_);function C(k){const R=wK(_,k);E(k,R)}function N(k){E(k,v.current)}function A(){const k=S.current[v.current];_[v.current]!==k&&h(_)}function E(k,R,{commit:T}={commit:!1}){const P=CK(i),$=NK(Math.round((k-n)/i)*i+n,P),I=yh($,[n,a]);j((M=[])=>{const D=xK(M,I,R);if(SK(D,c*i)){v.current=D.indexOf(I);const L=String(D)!==String(M);return L&&T&&h(D),L?D:M}else return M})}return o.jsx(pK,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:v,thumbs:g.current,values:_,orientation:s,form:y,children:o.jsx(Jw.Provider,{scope:e.__scopeSlider,children:o.jsx(Jw.Slot,{scope:e.__scopeSlider,children:o.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:we(m.onPointerDown,()=>{l||(S.current=_)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:C,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&E(n,0,{commit:!0}),onEndKeyDown:()=>!l&&E(a,_.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:R})=>{if(!l){const $=hD.includes(k.key)||k.shiftKey&&pD.includes(k.key)?10:1,I=v.current,M=_[I],D=i*$*R;E(M+D,I,{commit:!0})}}})})})})});gD.displayName=md;var[yD,xD]=vD(md,{startEdge:"left",endEdge:"right",size:"width",direction:1}),mK=w.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...f}=e,[d,h]=w.useState(null),p=Xe(t,b=>h(b)),y=w.useRef(void 0),m=pd(a),g=m==="ltr",v=g&&!i||!g&&i;function x(b){const _=y.current||d.getBoundingClientRect(),j=[0,_.width],C=DS(j,v?[r,n]:[n,r]);return y.current=_,C(b-_.left)}return o.jsx(yD,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:o.jsx(bD,{dir:m,"data-orientation":"horizontal",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const _=x(b.clientX);s==null||s(_)},onSlideMove:b=>{const _=x(b.clientX);l==null||l(_)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:b=>{const j=mD[v?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:j?-1:1})}})})}),vK=w.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=e,f=w.useRef(null),d=Xe(t,f),h=w.useRef(void 0),p=!a;function y(m){const g=h.current||f.current.getBoundingClientRect(),v=[0,g.height],b=DS(v,p?[n,r]:[r,n]);return h.current=g,b(m-g.top)}return o.jsx(yD,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(bD,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=y(m.clientY);i==null||i(g)},onSlideMove:m=>{const g=y(m.clientY);s==null||s(g)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const v=mD[p?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:v?-1:1})}})})}),bD=w.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:s,onEndKeyDown:l,onStepKeyDown:c,...u}=e,f=Vy(md,r);return o.jsx(Te.span,{...u,ref:t,onKeyDown:we(e.onKeyDown,d=>{d.key==="Home"?(s(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):hD.concat(pD).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:we(e.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),f.thumbs.has(h)?h.focus():n(d)}),onPointerMove:we(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&a(d)}),onPointerUp:we(e.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),i(d))})})}),wD="SliderTrack",jD=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Vy(wD,r);return o.jsx(Te.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});jD.displayName=wD;var e1="SliderRange",_D=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Vy(e1,r),i=xD(e1,r),s=w.useRef(null),l=Xe(t,s),c=a.values.length,u=a.values.map(h=>ND(h,a.min,a.max)),f=c>1?Math.min(...u):0,d=100-Math.max(...u);return o.jsx(Te.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:f+"%",[i.endEdge]:d+"%"}})});_D.displayName=e1;var t1="SliderThumb",SD=w.forwardRef((e,t)=>{const r=fK(e.__scopeSlider),[n,a]=w.useState(null),i=Xe(t,l=>a(l)),s=w.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(gK,{...e,ref:i,index:s})}),gK=w.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,s=Vy(t1,r),l=xD(t1,r),[c,u]=w.useState(null),f=Xe(t,x=>u(x)),d=c?s.form||!!c.closest("form"):!0,h=Ty(c),p=s.values[n],y=p===void 0?0:ND(p,s.min,s.max),m=bK(n,s.values.length),g=h==null?void 0:h[l.size],v=g?jK(g,y,l.direction):0;return w.useEffect(()=>{if(c)return s.thumbs.add(c),()=>{s.thumbs.delete(c)}},[c,s.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[o.jsx(Jw.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(Te.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":s.min,"aria-valuenow":p,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...i,ref:f,style:p===void 0?{display:"none"}:e.style,onFocus:we(e.onFocus,()=>{s.valueIndexToChangeRef.current=n})})}),d&&o.jsx(CD,{name:a??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:p},n)]})});SD.displayName=t1;var yK="RadioBubbleInput",CD=w.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=w.useRef(null),i=Xe(a,n),s=Uy(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&f){const d=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[s,t]),o.jsx(Te.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});CD.displayName=yK;function xK(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function ND(e,t,r){const i=100/(r-t)*(e-t);return yh(i,[0,100])}function bK(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function wK(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function jK(e,t,r){const n=e/2,i=DS([0,50],[0,n]);return(n-i(t)*r)*r}function _K(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function SK(e,t){if(t>0){const r=_K(e);return Math.min(...r)>=t}return!0}function DS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function CK(e){return(String(e).split(".")[1]||"").length}function NK(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var PD=gD,PK=jD,EK=_D,AK=SD;const vn=w.forwardRef(({className:e,...t},r)=>o.jsxs(PD,{ref:r,className:re("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(PK,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(EK,{className:"absolute h-full bg-primary"})}),o.jsx(AK,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));vn.displayName=PD.displayName;const LS=ad("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const s=n?_$:"button";return o.jsx(s,{className:re(LS({variant:t,size:r,className:e})),ref:i,...a})});ie.displayName="Button";function J(e,t){return t&&Math.abs(e)>=1e6?`${(e/1e6).toFixed(1)}M`:t&&Math.abs(e)>=1e3?`${(e/1e3).toFixed(0)}k`:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)}function kr(e){return`${(e*100).toFixed(1)}%`}const Iv={b2c:{},b2b:{},oem:{},marginRates:{b2c:.6,b2b:.45,oem:.3},growthRates:{b2c:.15,b2b:.2,oem:.25}};function xh(e,t){return(e.b2c[t]||0)+(e.b2b[t]||0)+(e.oem[t]||0)}function r1(e,t){const r=e.marginRates||Iv.marginRates;return(e.b2c[t]||0)*r.b2c+(e.b2b[t]||0)*r.b2b+(e.oem[t]||0)*r.oem}function kK(e,t){return xh(e,t)-r1(e,t)}const V0=[{key:"b2c",label:"B2C"},{key:"b2b",label:"B2B"},{key:"oem",label:"OEM"}];function OK({config:e,onChange:t,years:r}){const n=e.marginRates||Iv.marginRates,a=e.growthRates||Iv.growthRates,i=(p,y,m)=>{t({...e,[p]:{...e[p],[y]:m}})},s=(p,y)=>{t({...e,marginRates:{...n,[p]:y}})},l=(p,y)=>{t({...e,growthRates:{...a,[p]:y}})},c=p=>{const y=r[0],m=e[p][y]||0;if(m<=0)return;const g=a[p],v={...e[p]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(m*Math.pow(1+g,b)))}),t({...e,[p]:v})},u=()=>{let p={...e};V0.forEach(({key:y})=>{const m=e[y][r[0]]||0;if(m<=0)return;const g=a[y],v={...e[y]};r.forEach((x,b)=>{b!==0&&(v[x]=Math.round(m*Math.pow(1+g,b)))}),p={...p,[y]:v}}),t(p)},f=r.reduce((p,y)=>p+xh(e,y),0),d=r.reduce((p,y)=>p+r1(e,y),0),h=f>0?d/f:0;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Ue,{title:"Paramtres par Canal",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:V0.map(p=>o.jsxs("div",{className:"space-y-3 p-3 rounded-lg border bg-muted/20",children:[o.jsx("div",{className:"font-medium text-sm",children:p.label}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"Taux de croissance"}),o.jsxs("span",{className:"font-mono",children:[(a[p.key]*100).toFixed(0),"%"]})]}),o.jsx(vn,{value:[a[p.key]*100],onValueChange:([y])=>l(p.key,y/100),min:0,max:100,step:1})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"Taux de marge"}),o.jsxs("span",{className:"font-mono",children:[(n[p.key]*100).toFixed(0),"%"]})]}),o.jsx(vn,{value:[n[p.key]*100],onValueChange:([y])=>s(p.key,y/100),min:0,max:100,step:1})]}),o.jsxs(ie,{variant:"outline",size:"sm",className:"w-full",onClick:()=>c(p.key),children:[o.jsx(HP,{className:"h-3 w-3 mr-1"}),"Appliquer croissance"]})]},p.key))}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(ie,{variant:"default",size:"sm",onClick:u,children:[o.jsx(HP,{className:"h-4 w-4 mr-1"}),"Appliquer croissance  tous les canaux"]})})]}),o.jsx(Ue,{title:"CA Global par Canal",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-3",children:"Canal"}),r.map(p=>o.jsx("th",{className:"text-center py-2 px-3",children:p},p)),o.jsx("th",{className:"text-right py-2 px-3",children:"Total"})]})}),o.jsxs("tbody",{children:[V0.map(p=>o.jsxs("tr",{className:"border-b",children:[o.jsxs("td",{className:"py-2 px-3 font-medium",children:[p.label,o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(marge ",(n[p.key]*100).toFixed(0),"%)"]})]}),r.map(y=>o.jsx("td",{className:"py-2 px-3 text-center",children:o.jsx(_e,{type:"number",value:e[p.key][y]||0,onChange:m=>i(p.key,y,Number(m.target.value)),className:"h-8 w-24 mx-auto text-right"})},y)),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:J(r.reduce((y,m)=>y+(e[p.key][m]||0),0),!0)})]},p.key)),o.jsxs("tr",{className:"font-semibold border-t",children:[o.jsx("td",{className:"py-2 px-3",children:"Total CA"}),r.map(p=>o.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:J(xh(e,p),!0)},p)),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:J(f,!0)})]}),o.jsxs("tr",{className:"text-emerald-700 dark:text-emerald-400",children:[o.jsxs("td",{className:"py-2 px-3 font-medium",children:["Marge Brute",o.jsxs("span",{className:"text-xs ml-1",children:["(",(h*100).toFixed(0),"%)"]})]}),r.map(p=>o.jsx("td",{className:"py-2 px-3 text-center font-mono-numbers",children:J(r1(e,p),!0)},p)),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers font-medium",children:J(d,!0)})]})]})]})})})]})}var TK="Label",ED=w.forwardRef((e,t)=>o.jsx(Te.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ED.displayName=TK;var AD=ED;const RK=ad("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),je=w.forwardRef(({className:e,...t},r)=>o.jsx(AD,{ref:r,className:re(RK(),e),...t}));je.displayName=AD.displayName;const MK={totalRaise:15e5,ebitdaMultiple:6,ocRatio:0,referenceEBITDA:5e5};function $K({config:e,onChange:t}){const r=Math.max(2e5,e.referenceEBITDA*e.ebitdaMultiple),n=e.totalRaise*e.ocRatio,a=e.totalRaise*(1-e.ocRatio),i=r+a,s=i>0?a/i:0;return o.jsx(Ue,{title:"Simulation de Dilution",id:"valuation-dilution",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs(je,{children:["Multiple EBITDA: ",e.ebitdaMultiple.toFixed(1),"x"]}),o.jsx(vn,{value:[e.ebitdaMultiple],onValueChange:([l])=>t({...e,ebitdaMultiple:l}),min:2,max:15,step:.5})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(je,{children:["Part OC: ",(e.ocRatio*100).toFixed(0),"%  Equity: ",((1-e.ocRatio)*100).toFixed(0),"%"]}),o.jsx(vn,{value:[e.ocRatio*100],onValueChange:([l])=>t({...e,ocRatio:l/100}),min:0,max:99,step:1})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Pre-Money"}),o.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:J(r,!0)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Part OC"}),o.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:J(n,!0)}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[(e.ocRatio*100).toFixed(0),"% de la leve"]})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Part Equity"}),o.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:J(a,!0)}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[((1-e.ocRatio)*100).toFixed(0),"% de la leve"]})]})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Post-Money"}),o.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:J(i,!0)})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Dilution (equity uniquement)"}),o.jsx("div",{className:"text-xl font-bold font-mono-numbers",children:kr(s)})]})]})]})})}var pi=function(){return pi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pi.apply(this,arguments)};function vd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function IK(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(f){try{u(n.next(f))}catch(d){s(d)}}function c(f){try{u(n.throw(f))}catch(d){s(d)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function DK(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const LK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class FS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class FK extends FS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jE extends FS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _E extends FS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var n1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(n1||(n1={}));class BK{constructor(t,{headers:r={},customFetch:n,region:a=n1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=LK(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return IK(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:l,method:c,body:u,signal:f,timeout:d}=n;let h={},{region:p}=n;p||(p=this.region);const y=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,y.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let g=f;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),f?(g=s.signal,f.addEventListener("abort",()=>s.abort())):g=s.signal);const v=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:g}).catch(j=>{throw new FK(j)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new jE(v);if(!v.ok)throw new _E(v);let b=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield v.json():b==="application/octet-stream"||b==="application/pdf"?_=yield v.blob():b==="text/event-stream"?_=v:b==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof _E||l instanceof jE?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var zK=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},UK=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,l=null,c=null,u=i.status,f=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var p;const v=await i.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const m=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),g=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&g&&g.length>1&&(c=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const m=await i.text();try{s=JSON.parse(m),Array.isArray(s)&&i.status===404&&(l=[],s=null,u=200,f="OK")}catch{i.status===404&&m===""?(u=204,f="No Content"):s={message:m}}if(s&&r.isMaybeSingle&&(!(s==null||(y=s.details)===null||y===void 0)&&y.includes("0 rows"))&&(s=null,u=200,f="OK"),s&&r.shouldThrowOnError)throw new zK(s)}return{error:s,data:l,count:c,status:u,statusText:f}});return this.shouldThrowOnError||(a=a.catch(i=>{var s;let l="";const c=i==null?void 0:i.cause;if(c){var u,f,d,h;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(f=c==null?void 0:c.code)!==null&&f!==void 0?f:"";l=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${y}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},VK=class extends UK{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const SE=new RegExp("[,()]");var cc=class extends VK{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&SE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&SE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},WK=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new cc({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new cc({method:a,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(u.length>0){const f=[...new Set(u)].map(d=>`"${d}"`);l.searchParams.set("columns",f.join(","))}}return new cc({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new cc({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new cc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},HK=class kD{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new WK(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const f=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(f)),d=n&&Object.values(r).some(f);d?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{c.searchParams.append(p,y)})):(l="POST",u=r);const h=new Headers(this.headers);return d?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new cc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class qK{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const KK="2.93.3",GK=`realtime-js/${KK}`,YK="1.0.0",OD="2.0.0",CE=OD,a1=1e4,XK=1e3,QK=100;var Ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ms||(Ms={}));var Cr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Cr||(Cr={}));var Wa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wa||(Wa={}));var i1;(function(e){e.websocket="websocket"})(i1||(i1={}));var Yo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yo||(Yo={}));class ZK{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(f).length===0?"":JSON.stringify(f);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,c.length),y.setUint8(m++,l.length),y.setUint8(m++,s.length),y.setUint8(m++,u.length),y.setUint8(m++,d.length),y.setUint8(m++,r),Array.from(c,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(l,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(s,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(u,v=>y.setUint8(m++,v.charCodeAt(0))),Array.from(d,v=>y.setUint8(m++,v.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,l,c]=n;return r({join_ref:a,ref:i,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:f,payload:p};return s>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class TD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kt||(kt={}));const NE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=JK(s,e,t,a),i),{}):{}},JK=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?RD(i,s):s1(s)},RD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return nG(t,r)}switch(e){case kt.bool:return eG(t);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return tG(t);case kt.json:case kt.jsonb:return rG(t);case kt.timestamp:return aG(t);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return s1(t);default:return s1(t)}},s1=e=>e,eG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},nG=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>RD(t,l))}return e},aG=e=>typeof e=="string"?e.replace(" ","T"):e,MD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class W0{constructor(t,r,n={},a=a1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var PE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(PE||(PE={}));class kf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kf.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=kf.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=kf.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{s[u]||(c[u]=f)}),this.map(s,(u,f)=>{const d=i[u];if(d){const h=f.map(g=>g.presence_ref),p=d.map(g=>g.presence_ref),y=f.filter(g=>p.indexOf(g.presence_ref)<0),m=d.filter(g=>h.indexOf(g.presence_ref)<0);y.length>0&&(l[u]=y),m.length>0&&(c[u]=m)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var EE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(EE||(EE={}));var Of;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Of||(Of={}));var Vi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vi||(Vi={}));class Ac{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Cr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new W0(this,Wa.join,this.params,this.timeout),this.rejoinTimer=new TD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Cr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wa.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new kf(this),this.broadcastEndpointURL=MD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Cr.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[Of.PRESENCE]&&this.bindings[Of.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Vi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Vi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Vi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,v=[];for(let x=0;x<g;x++){const b=m[x],{filter:{event:_,schema:j,table:S,filter:C}}=b,N=p&&p[x];if(N&&N.event===_&&Ac.isFilterValueEqual(N.schema,j)&&Ac.isFilterValueEqual(N.table,S)&&Ac.isFilterValueEqual(N.filter,C))v.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=Cr.errored,t==null||t(Vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Vi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Cr.errored,t==null||t(Vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Cr.joined&&t===Of.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new W0(this,Wa.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new W0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QK){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Wa;if(n&&[l,c,u,f].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,m,g;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var y,m,g,v,x,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,j=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:g,commit_timestamp:v,type:x,errors:b}=y;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===Cr.closed}_isJoined(){return this.state===Cr.joined}_isJoining(){return this.state===Cr.joining}_isLeaving(){return this.state===Cr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ac.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wa.close,{},t)}_onError(t){this._on(Wa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=NE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=NE(t.columns,t.old_record)),r}}const H0=()=>{},lm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iG=[1e3,2e3,5e3,1e4],sG=1e4,oG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lG{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=a1,this.transport=null,this.heartbeatIntervalMs=lm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=H0,this.ref=0,this.reconnectTimer=null,this.vsn=CE,this.logger=H0,this.conn=null,this.sendBuffer=[],this.serializer=new ZK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${i1.websocket}`,this.httpEndpoint=MD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qK.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return Yo.Connecting;case Ms.open:return Yo.Open;case Ms.closing:return Yo.Closing;default:return Yo.Closed}}isConnected(){return this.connectionState()===Yo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Ac(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(XK,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lm.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ms.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ms.open||this.conn.readyState===Ms.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([oG],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:GK};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Wa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new TD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,l,c,u,f,d,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:a1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:lm.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:H0,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:CE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>iG[y-1]||sG,this.vsn){case YK:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(y,m)=>m(JSON.stringify(y)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(y,m)=>m(JSON.parse(y));break;case OD:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var bh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cG(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function uG(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function dG(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const l=cG(e.baseUrl,n,a),c=await uG(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...s},body:i?JSON.stringify(i):void 0}),f=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&f?JSON.parse(f):f;if(!u.ok){const p=d?h:void 0,y=p==null?void 0:p.error;throw new bh((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function cm(e){return e.join("")}var fG=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:cm(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cm(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cm(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cm(e.namespace)}`}),!0}catch(t){if(t instanceof bh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof bh&&r.status===409)return;throw r}}};function ql(e){return e.join("")}var hG=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof bh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof bh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},pG=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=dG({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new fG(this.client,t),this.tableOps=new hG(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Wy=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Hy(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var um=class extends Wy{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$D=class extends Wy{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const mG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},o1=e=>{if(Array.isArray(e))return e.map(r=>o1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=o1(n)}),t},gG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function yG(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xG(e){var t=yG(e,"string");return wh(t)=="symbol"?t:t+""}function bG(e,t,r){return(t=xG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){bG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const kE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},wG=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new um(kE(s),i,l,n))}).catch(()=>{if(n==="vectors"){const s=i+"";t(new um(a.statusText||`HTTP ${i} error`,i,s,n))}else{const s=i+"";t(new um(a.statusText||`HTTP ${i} error`,i,s,n))}});else{const s=i+"";t(new um(a.statusText||`HTTP ${i} error`,i,s,n))}}else t(new $D(kE(e),e,n))},jG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?He(He({},a),r):(vG(n)?(a.headers=He({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),He(He({},a),r))};async function Kd(e,t,r,n,a,i,s){return new Promise((l,c)=>{e(r,jG(t,n,a,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(s==="vectors"){const f=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!f||!f.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>wG(u,c,n,s))})}function ID(e="storage"){return{get:async(t,r,n,a)=>Kd(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,i)=>Kd(t,"POST",r,a,i,n,e),put:async(t,r,n,a,i)=>Kd(t,"PUT",r,a,i,n,e),head:async(t,r,n,a)=>Kd(t,"HEAD",r,He(He({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,i)=>Kd(t,"DELETE",r,a,i,n,e)}}const _G=ID("storage"),{get:jh,post:Fa,put:l1,head:SG,remove:BS}=_G,Qn=ID("vectors");var gd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=mG(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Hy(r))return{data:null,error:r};throw r}}},CG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Hy(t))return{data:null,error:t};throw t}}};let DD;DD=Symbol.toStringTag;var NG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[DD]="BlobDownloadBuilder",this.promise=null}asStream(){return new CG(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Hy(t))return{data:null,error:t};throw t}}};const PG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var EG=class extends gd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let i;const s=He(He({},OE),n);let l=He(He({},a.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=He(He({},l),n.headers));const u=a._removeEmptyFolders(t),f=a._getFinalPath(u),d=await(e=="PUT"?l1:Fa)(a.fetch,`${a.url}/object/${f}`,i,He({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),s=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",t),a.handleOperation(async()=>{let c;const u=He({upsert:OE.upsert},n),f=He(He({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType),{path:i,fullPath:(await l1(a.fetch,l.toString(),c,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=He({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Fa(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(r.url+i.url),l=s.searchParams.get("token");if(!l)throw new Wy("No token returned by API");return{signedUrl:s.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Fa(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Fa(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),i=await Fa(n.fetch,`${n.url}/object/sign/${a}`,He({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Fa(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(s=>He(He({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),s=()=>jh(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new NG(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>o1(await jh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await SG(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hy(n)&&n instanceof $D){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await BS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=He(He(He({},PG),t),{},{prefix:e||""});return await Fa(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=He({},e);return await Fa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const AG="2.93.3",wp={"X-Client-Info":`storage-js/${AG}`};var kG=class extends gd{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),s=He(He({},wp),t);super(i,s,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await jh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await jh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Fa(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await l1(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Fa(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await BS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},OG=class extends gd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=He(He({},wp),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Fa(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await jh(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await BS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!gG(e))throw new Wy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new pG({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const s=a[i];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},TG=class extends gd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=He(He({},wp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Qn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},RG=class extends gd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=He(He({},wp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},MG=class extends gd{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=He(He({},wp),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Qn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},$G=class extends MG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new IG(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},IG=class extends TG{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new DG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},DG=class extends RG{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,He(He({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},LG=class extends kG{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new EG(this.url,this.headers,e,this.fetch)}get vectors(){return new $G(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new OG(this.url+"/iceberg",this.headers,this.fetch)}};const LD="2.93.3",uc=30*1e3,c1=3,q0=c1*uc,FG="http://localhost:9999",BG="supabase.auth.token",zG={"X-Client-Info":`gotrue-js/${LD}`},u1="X-Supabase-Api-Version",FD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VG=10*60*1e3;class _h extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class WG extends _h{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function HG(e){return Me(e)&&e.name==="AuthApiError"}class Xo extends _h{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vs extends _h{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Wn extends vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function K0(e){return Me(e)&&e.name==="AuthSessionMissingError"}class Kl extends vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dm extends vs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fm extends vs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qG(e){return Me(e)&&e.name==="AuthImplicitGrantRedirectError"}class TE extends vs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class KG extends vs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class d1 extends vs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function G0(e){return Me(e)&&e.name==="AuthRetryableFetchError"}class RE extends vs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class f1 extends vs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ME=` 	
\r=`.split(""),GG=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ME.length;t+=1)e[ME[t].charCodeAt(0)]=-2;for(let t=0;t<Dv.length;t+=1)e[Dv[t].charCodeAt(0)]=t;return e})();function $E(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Dv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Dv[n]),t.queuedBits-=6}}function BD(e,t,r){const n=GG[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function IE(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{QG(s,n,r)};for(let s=0;s<e.length;s+=1)BD(e.charCodeAt(s),a,i);return t.join("")}function YG(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XG(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}YG(n,t)}}function QG(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Wc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)BD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function ZG(e){const t=[];return XG(e,r=>t.push(r)),new Uint8Array(t)}function rl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>$E(a,r,n)),$E(null,r,n),t.join("")}function JG(e){return Math.round(Date.now()/1e3)+e}function eY(){return Symbol("auth-callback")}const Vr=()=>typeof window<"u"&&typeof document<"u",Do={tested:!1,writable:!1},zD=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Do.tested)return Do.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Do.tested=!0,Do.writable=!0}catch{Do.tested=!0,Do.writable=!1}return Do.writable};function tY(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const UD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rY=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",dc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Lo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zr=async(e,t)=>{await e.removeItem(t)};class qy{constructor(){this.promise=new qy.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qy.promiseConstructor=Promise;function hm(e){const t=e.split(".");if(t.length!==3)throw new f1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!UG.test(t[n]))throw new f1("JWT not in base64url format");return{header:JSON.parse(IE(t[0])),payload:JSON.parse(IE(t[1])),signature:Wc(t[2]),raw:{header:t[0],payload:t[1]}}}async function nY(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function aY(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function iY(e){return("0"+e.toString(16)).substr(-2)}function sY(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,iY).join("")}async function oY(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function lY(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await oY(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gl(e,t,r=!1){const n=sY();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await dc(e,`${t}-code-verifier`,a);const i=await lY(n);return[i,n===i?"plain":"s256"]}const cY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uY(e){const t=e.headers.get(u1);if(!t||!t.match(cY))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dY(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fY(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yl(e){if(!hY.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Y0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pY(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function DE(e){return JSON.parse(JSON.stringify(e))}const Wo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mY=[502,503,504];async function LE(e){var t;if(!rY(e))throw new d1(Wo(e),0);if(mY.includes(e.status))throw new d1(Wo(e),e.status);let r;try{r=await e.json()}catch(i){throw new Xo(Wo(i),i)}let n;const a=uY(e);if(a&&a.getTime()>=FD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new RE(Wo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Wn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new RE(Wo(r),e.status,r.weak_password.reasons);throw new WG(Wo(r),e.status||500,n)}const vY=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function We(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[u1]||(i[u1]=FD["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await gY(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function gY(e,t,r,n,a,i){const s=vY(t,n,a,i);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new d1(Wo(c),0)}if(l.ok||await LE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await LE(c)}}function $a(e){var t;let r=null;bY(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=JG(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function FE(e){const t=$a(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yY(e){return{data:e,error:null}}function xY(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=vd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function BE(e){return e}function bY(e){return e.access_token&&e.refresh_token&&e.expires_in}const X0=["global","local","others"];class wY{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=UD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=X0[0]){if(X0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${X0.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fs})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=vd(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:xY,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fs})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:BE});if(f.error)throw f.error;const d=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Yl(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fs})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yl(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fs})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yl(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fs})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yl(t.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yl(t.userId),Yl(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:BE});if(f.error)throw f.error;const d=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Me(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await We(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function zE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xl={debug:!!(globalThis&&zD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class VD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jY extends VD{}async function _Y(e,t,r){Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Xl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jY(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function SY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function WD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function CY(e){return parseInt(e,16)}function NY(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function PY(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:f,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=WD(e.address),y=f?`${f}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${p}

${m}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(v+=`
Expiration Time: ${a.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}v+=x}return`${g}
${v}`}class vr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Lv extends vr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function EY({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new vr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new vr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new vr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new vr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new vr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new vr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new vr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(HD(s)){if(i.rp.id!==s)return new vr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new vr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new vr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function AY({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new vr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(HD(n)){if(r.rpId!==n)return new vr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new vr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kY{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const OY=new kY;function TY(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=vd(e,["challenge","user","excludeCredentials"]),i=Wc(t).buffer,s=Object.assign(Object.assign({},r),{id:Wc(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Wc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function RY(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=vd(e,["challenge","allowCredentials"]),a=Wc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Wc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function MY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:rl(new Uint8Array(e.response.attestationObject)),clientDataJSON:rl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $Y(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:rl(new Uint8Array(a.authenticatorData)),clientDataJSON:rl(new Uint8Array(a.clientDataJSON)),signature:rl(new Uint8Array(a.signature)),userHandle:a.userHandle?rl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function HD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function UE(){var e,t;return!!(Vr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function IY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lv("Browser returned unexpected credential type",t)}:{data:null,error:new Lv("Empty credential response",t)}}catch(t){return{data:null,error:EY({error:t,options:e})}}}async function DY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lv("Browser returned unexpected credential type",t)}:{data:null,error:new Lv("Empty credential response",t)}}catch(t){return{data:null,error:AY({error:t,options:e})}}}const LY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},FY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const l=n[i];t(l)?n[i]=Fv(l,s):n[i]=Fv(s)}else n[i]=s}return n}function BY(e,t){return Fv(LY,e,t||{})}function zY(e,t){return Fv(FY,e,t||{})}class UY{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){var s;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=a??OY.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;if(!f.name){const d=n;if(d)f.name=`${f.id}:${d}`;else{const p=(await this.client.getUser()).data.user,y=((s=p==null?void 0:p.user_metadata)===null||s===void 0?void 0:s.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";f.name=`${f.id}:${y}`}}f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=BY(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await IY({publicKey:f,signal:u});return d?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const f=zY(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await DY(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:u}));return d?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new Xo("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new _h("rpId is required for WebAuthn authentication")};try{if(!UE())return{data:null,error:new Xo("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return Me(s)?{data:null,error:s}:{data:null,error:new Xo("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new _h("rpId is required for WebAuthn registration")};try{if(!UE())return{data:null,error:new Xo("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return Me(s)?{data:null,error:s}:{data:null,error:new Xo("Unexpected error in register",s)}}}}SY();const VY={url:FG,storageKey:BG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function VE(e,t,r){return await r()}const Ql={};class Sh{get jwks(){var t,r;return(r=(t=Ql[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ql[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ql[this.storageKey]=Object.assign(Object.assign({},Ql[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},VY),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Sh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Sh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Vr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new wY({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=UD(i.fetch),this.lock=i.lock||VE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Vr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_Y:this.lock=VE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new UY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:zD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=zE(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${LD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Vr()&&(r=tY(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Vr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qG(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?this._returnResult({error:r}):this._returnResult({error:new Xo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:$a}),{data:s,error:l}=i;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Gl(this.storage,this.storageKey)),i=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:$a})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$a})}else throw new dm("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return await zr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await zr(this.storage,`${this.storageKey}-code-verifier`),Me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:FE})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:FE})}else throw new dm("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Kl;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,l,c,u,f,d,h;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:m,wallet:g,statement:v,options:x}=t;let b;if(Vr())if(typeof g=="object")b=g;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")b=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=WD(j[0]);let C=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const A=await b.request({method:"eth_chainId"});C=CY(A)}const N={domain:_.host,address:S,statement:v,uri:_.href,version:"1",chainId:C,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=x==null?void 0:x.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=PY(N),y=await b.request({method:"personal_sign",params:[NY(p),S]})}try{const{data:m,error:g}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:$a});if(g)throw g;if(!m||!m.session||!m.user){const v=new Kl;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:g})}catch(m){if(Me(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,s,l,c,u,f,d,h,p;let y,m;if("message"in t)y=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:x,options:b}=t;let _;if(Vr())if(typeof v=="object")_=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),m=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:g,error:v}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:rl(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$a});if(v)throw v;if(!g||!g.session||!g.user){const x=new Kl;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Me(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await Lo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new KG;const{data:i,error:s}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:$a});if(await zr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const l=new Kl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await zr(this.storage,`${this.storageKey}-code-verifier`),Me(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,l=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$a}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const f=new Kl;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Gl(this.storage,this.storageKey));const{error:d}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new dm("You must provide either an email or phone number.")}catch(l){if(await zr(this.storage,`${this.storageKey}-code-verifier`),Me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$a});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Gl(this.storage,this.storageKey));const u=await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:yY});return!((i=u.data)===null||i===void 0)&&i.url&&Vr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await zr(this.storage,`${this.storageKey}-code-verifier`),Me(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Wn;const{error:a}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:l}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new dm("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Lo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<q0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Lo(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Y0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=pY(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fs}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wn}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Fs})})}catch(r){if(Me(r))return K0(r)&&(await this._removeSession(),await zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Wn;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gl(this.storage,this.storageKey));const{data:u,error:f}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Fs});if(f)throw f;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await zr(this.storage,`${this.storageKey}-code-verifier`),Me(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=hm(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Wn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Vr())throw new fm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new TE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new TE("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!s||!u)throw new fm("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=uc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const y=h-d;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,f);const{data:m,error:g}=await this._getUser(i);if(g)throw g;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:d,expires_at:h,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(Me(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Lo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i&&!K0(i))return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(HG(l)&&(l.status===404||l.status===401||l.status===403)||K0(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=eY(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Gl(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await zr(this.storage,`${this.storageKey}-code-verifier`),Me(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,f;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return Vr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Me(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:l,token:c,access_token:u,nonce:f}=t,d=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$a}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Kl}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await zr(this.storage,`${this.storageKey}-code-verifier`),Me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await aY(async a=>(a>0&&await nY(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$a})),(a,i)=>{const s=200*Math.pow(2,a);return i&&G0(i)&&Date.now()+s-n<uc})}catch(n){if(this._debug(r,"error",n),Me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Lo(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Lo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await dc(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Y0()}else if(a&&!a.user&&!a.user){const s=await Lo(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await zr(this.storage,this.storageKey+"-user"),await dc(this.storage,this.storageKey,a)):a.user=Y0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<q0;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${q0}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),G0(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new qy;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Wn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Me(i)){const s={data:null,error:i};return G0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await zr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await dc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=DE(a);await dc(this.storage,this.storageKey,i)}else{const a=DE(r);await dc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zr(this.storage,this.storageKey),await zr(this.storage,this.storageKey+"-code-verifier"),await zr(this.storage,this.storageKey+"-user"),this.userStorage&&await zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),uc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/uc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${uc}ms, refresh threshold is ${c1} ticks`),a<=c1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof VD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Gl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await We(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MY(t.webauthn.credential_response):$Y(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:TY(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:RY(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,i;if(t)try{const{payload:p}=hm(t);let y=null;p.aal&&(y=p.aal);let m=y;const{data:{user:g},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const b=p.amr||[];return{data:{currentLevel:y,nextLevel:m,currentAuthenticationMethods:b},error:null}}catch(p){if(Me(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=hm(s.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await We(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Wn})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Wn});const s=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Vr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Wn});const s=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Vr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await We(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Wn})})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await We(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wn})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+VG>a)return n;const{data:i,error:s}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=hm(n);r!=null&&r.allowExpired||dY(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const f=fY(a.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,s,ZG(`${l}.${c}`)))throw new f1("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}}Sh.nextInstanceID={};const WY=Sh,HY="2.93.3";let mf="";typeof Deno<"u"?mf="deno":typeof document<"u"?mf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mf="react-native":mf="node";const qY={"X-Client-Info":`supabase-js-${mf}/${HY}`},KY={headers:qY},GY={schema:"public"},YY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XY={};function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function QY(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZY(e){var t=QY(e,"string");return Ch(t)=="symbol"?t:t+""}function JY(e,t,r){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(n){JY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const eX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tX=()=>Headers,rX=(e,t,r)=>{const n=eX(r),a=tX();return async(i,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,ar(ar({},s),{},{headers:u}))}};function nX(e){return e.endsWith("/")?e:e+"/"}function aX(e,t){var r,n;const{db:a,auth:i,realtime:s,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:ar(ar({},c),a),auth:ar(ar({},u),i),realtime:ar(ar({},f),s),storage:{},global:ar(ar(ar({},d),l),{},{headers:ar(ar({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function iX(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sX=class extends WY{constructor(e){super(e)}},oX=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=iX(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:GY,realtime:XY,auth:ar(ar({},YY),{},{storageKey:s}),global:KY},c=aX(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=rX(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ar({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new HK(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new LG(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new BK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:s,lock:l,debug:c,throwOnError:u},f,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sX({url:this.authUrl.href,headers:ar(ar({},h),f),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:s,lock:l,debug:c,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lG(this.realtimeUrl.href,ar(ar({},e),{},{params:ar(ar({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const lX=(e,t,r)=>new oX(e,t,r);function cX(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}cX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uX="https://twkcoxagbajvopzzinor.supabase.co",dX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3a2NveGFnYmFqdm9wenppbm9yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0ODUzNzUsImV4cCI6MjA4NjA2MTM3NX0.BWO81YHxXK0YXAzkm8jILlv4x6pEpy9A3op-tCp445k",pe=lX(uX,dX,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),qD=w.createContext(void 0);function fX({children:e}){const[t,r]=w.useState(null),[n,a]=w.useState(!0),[i,s]=w.useState("lecteur"),[l,c]=w.useState({});w.useEffect(()=>{const{data:{subscription:g}}=pe.auth.onAuthStateChange((v,x)=>{r((x==null?void 0:x.user)??null),a(!1),x!=null&&x.user&&(setTimeout(()=>u(x.user.id),0),setTimeout(()=>f(),0))});return pe.auth.getSession().then(({data:{session:v}})=>{r((v==null?void 0:v.user)??null),a(!1),v!=null&&v.user&&(u(v.user.id),f())}),()=>g.unsubscribe()},[]);const u=async g=>{try{const{data:v}=await pe.from("user_roles").select("role").eq("user_id",g).single();v&&s(v.role)}catch{s("lecteur")}},f=async()=>{try{const{data:g}=await pe.from("tab_permissions").select("*");if(g){const v={};g.forEach(x=>{v[x.role]||(v[x.role]={}),v[x.role][x.tab_key]=x.permission}),c(v)}}catch{}},d=async(g,v)=>{const{error:x}=await pe.auth.signInWithPassword({email:g,password:v});return{error:x}},h=async(g,v,x)=>{const{error:b}=await pe.auth.signUp({email:g,password:v,options:{data:{display_name:x},emailRedirectTo:`${window.location.origin}/`}});return{error:b}},p=async()=>{await pe.auth.signOut(),r(null)},y=i==="admin",m=g=>{if(y)return"write";const v=l[i];return v&&v[g]||"write"};return o.jsx(qD.Provider,{value:{user:t,loading:n,isAdmin:y,userRole:i,signIn:d,signUp:h,signOut:p,getTabPermission:m},children:e})}function la(){const e=w.useContext(qD);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const zS={selectedMethods:["revenue_multiple","ebitda_multiple"],valuationBasis:"projected",historicalYear:2024,projectedYear:2028,mixWeight:.5,averageYears:[],valuationParams:{revenue_multiple:{multiple:4},ebitda_multiple:{multiple:8},ebit_multiple:{multiple:10},dcf:{discountRate:.25,terminalGrowthRate:.03},scorecard:{baseValuation:3e6,team:.15,market:.2,product:.1,competition:-.1,marketing:0,fundingNeed:0},berkus:{soundIdea:4e5,prototype:35e4,qualityManagement:3e5,strategicRelationships:2e5,productRollout:25e4},risk_factor:{baseValuation:3e6,managementRisk:1,businessStage:0,legislation:0,manufacturing:-1,salesMarketing:1,fundingCapital:0,competition:-1,technology:1,litigation:0,international:0,reputation:1,potentialExit:1}},dilutionConfig:{...MK},exitScenarios:{conservative:{year:2030,exitMultiple:4,probability:.25},base:{year:2029,exitMultiple:6,probability:.5},ambitious:{year:2028,exitMultiple:10,probability:.25}}},h1="novaride_financial_state_v5";function hX(){try{const e=localStorage.getItem(h1);if(e){const t=JSON.parse(e);return t.valuationConfig||(t.valuationConfig={...zS}),t}}catch{}return pX()}function pX(){return{products:H7,roles:q7,expenses:K7,fundingRounds:G7,scenarioSettings:{startYear:2025,durationYears:6,initialCash:5e4},scenarioConfigs:{conservative:{volumeAdjustment:-.2,priceAdjustment:0,opexAdjustment:-.1},base:{volumeAdjustment:0,priceAdjustment:0,opexAdjustment:0},ambitious:{volumeAdjustment:.3,priceAdjustment:.05,opexAdjustment:.1}},activeScenarioId:"base",revenueMode:"by-product",globalRevenueConfig:Iv,opexMode:"detailed",simpleOpexConfig:{baseAmount:2e5,growthRate:.05},hasUnsavedChanges:!1,lastSaved:null,historicalData:[{year:2023,revenue:2e5,grossMargin:.65,payroll:15e4,externalCosts:8e4,depreciation:2e4},{year:2024,revenue:45e4,grossMargin:.68,payroll:28e4,externalCosts:12e4,depreciation:35e3}],excludeFundingFromTreasury:!1,monthlyTreasuryConfig:iK(),valuationConfig:{...zS}}}const KD=w.createContext(void 0);function mX({children:e}){const{user:t}=la(),[r,n]=w.useState(hX),[a,i]=w.useState(!1);w.useRef(null),w.useEffect(()=>{!t||a||(async()=>{try{const{data:T}=await pe.from("financial_scenarios").select("state_data").eq("user_id",t.id).maybeSingle();if(T!=null&&T.state_data){const P=T.state_data;P.valuationConfig||(P.valuationConfig={...zS}),n({...P,hasUnsavedChanges:!1}),localStorage.setItem(h1,JSON.stringify(P))}}catch(T){console.warn("Failed to load from cloud:",T)}finally{i(!0)}})()},[t,a]),w.useCallback(()=>{n(T=>({...T,hasUnsavedChanges:!0}))},[]);const s=w.useCallback(T=>{n(P=>({...P,products:T,hasUnsavedChanges:!0}))},[]),l=w.useCallback(T=>{n(P=>({...P,products:[...P.products,T],hasUnsavedChanges:!0}))},[]),c=w.useCallback(T=>{n(P=>({...P,products:P.products.filter($=>$.id!==T),hasUnsavedChanges:!0}))},[]),u=w.useCallback(T=>{n(P=>({...P,roles:T,hasUnsavedChanges:!0}))},[]),f=w.useCallback(T=>{n(P=>({...P,roles:[...P.roles,T],hasUnsavedChanges:!0}))},[]),d=w.useCallback(T=>{n(P=>({...P,roles:P.roles.filter($=>$.id!==T),hasUnsavedChanges:!0}))},[]),h=w.useCallback(T=>{n(P=>({...P,expenses:T,hasUnsavedChanges:!0}))},[]),p=w.useCallback(T=>{n(P=>({...P,expenses:[...P.expenses,T],hasUnsavedChanges:!0}))},[]),y=w.useCallback(T=>{n(P=>({...P,expenses:P.expenses.filter($=>$.id!==T),hasUnsavedChanges:!0}))},[]),m=w.useCallback(T=>{n(P=>({...P,fundingRounds:T,hasUnsavedChanges:!0}))},[]),g=w.useCallback(T=>{n(P=>({...P,scenarioSettings:{...P.scenarioSettings,...T},hasUnsavedChanges:!0}))},[]),v=w.useCallback(T=>{n(P=>({...P,activeScenarioId:T}))},[]),x=w.useCallback((T,P)=>{n($=>({...$,scenarioConfigs:{...$.scenarioConfigs,[T]:{...$.scenarioConfigs[T],...P}},hasUnsavedChanges:!0}))},[]),b=w.useCallback(T=>{n(P=>({...P,revenueMode:T,hasUnsavedChanges:!0}))},[]),_=w.useCallback(T=>{n(P=>({...P,globalRevenueConfig:T,hasUnsavedChanges:!0}))},[]),j=w.useCallback(T=>{n(P=>({...P,opexMode:T,hasUnsavedChanges:!0}))},[]),S=w.useCallback(T=>{n(P=>({...P,simpleOpexConfig:{...P.simpleOpexConfig,...T},hasUnsavedChanges:!0}))},[]),C=w.useCallback(T=>{n(P=>({...P,excludeFundingFromTreasury:T,hasUnsavedChanges:!0}))},[]),N=w.useCallback(T=>{n(P=>({...P,historicalData:T,hasUnsavedChanges:!0}))},[]),A=w.useCallback(T=>{n(P=>({...P,monthlyTreasuryConfig:T,hasUnsavedChanges:!0}))},[]),E=w.useCallback(T=>{n(P=>({...P,valuationConfig:{...P.valuationConfig,...T},hasUnsavedChanges:!0}))},[]),k=w.useCallback(async()=>{try{const T={...r,hasUnsavedChanges:!1,lastSaved:new Date().toISOString()};if(localStorage.setItem(h1,JSON.stringify(T)),n(T),t){const{hasUnsavedChanges:P,...$}=T;await pe.from("financial_scenarios").upsert({user_id:t.id,state_data:$},{onConflict:"user_id"})}qr({title:"Donnes sauvegardes",description:t?"Sauvegard en local et dans le cloud.":"Sauvegard en local."})}catch{qr({title:"Erreur de sauvegarde",variant:"destructive"})}},[r,t]),R=w.useMemo(()=>{const{products:T,roles:P,expenses:$,fundingRounds:I,scenarioSettings:M,scenarioConfigs:D,activeScenarioId:L,opexMode:U,simpleOpexConfig:X,excludeFundingFromTreasury:G,monthlyTreasuryConfig:te}=r,{startYear:z,durationYears:B,initialCash:V}=M,H=D[L],ce=Array.from({length:B},(ae,ue)=>z+ue),Q=T.reduce((ae,ue)=>ae+ue.devCost,0),Z=ce.map(ae=>{if(r.revenueMode==="by-channel-global"){const Be=xh(r.globalRevenueConfig,ae),qe=kK(r.globalRevenueConfig,ae);return{year:ae,revenue:Be,cogs:qe}}let ue=0,ge=0;return T.forEach(Be=>{const qe=Math.round((Be.volumesByYear[ae]||0)*(1+H.volumeAdjustment));ue+=qe*Be.priceHT*(1+H.priceAdjustment),ge+=qe*Be.unitCost}),{year:ae,revenue:ue,cogs:ge}}),W=ce.map(ae=>{const ue=P.filter(ge=>ge.startYear<=ae);return{year:ae,payroll:ue.reduce((ge,Be)=>ge+Be.annualCostLoaded,0),headcount:ue.length}}),q=ce.map((ae,ue)=>{let ge=0;const Be={};return U==="simple"?ge=X.baseAmount*Math.pow(1+X.growthRate,ue):$.forEach(qe=>{var jr,se;if(qe.startYear>ae)return;let Yt=qe.baseAnnualCost;const Cn=ae-qe.startYear;if(qe.evolutionType==="growth_rate")Yt*=Math.pow(1+(qe.growthRate||0),Cn);else if(qe.evolutionType==="linked_to_revenue")Yt=(((jr=Z[ue])==null?void 0:jr.revenue)||0)*(qe.revenueRatio||0);else if(qe.evolutionType==="step"){const Le=(se=qe.steps)==null?void 0:se.filter(xt=>xt.year<=ae).pop();Le&&(Yt=Le.newAnnualCost)}Yt*=1+H.opexAdjustment,ge+=Yt,Be[qe.category]=(Be[qe.category]||0)+Yt}),{year:ae,opex:ge,byCategory:Be}}),de=ce.map(ae=>({year:ae,capex:T.filter(ue=>ue.launchYear===ae).reduce((ue,ge)=>ue+ge.devCost,0),depreciation:Y7(T,ae)})),ye=z,Ae=P.filter(ae=>ae.startYear<=ye).length,Ie=P.filter(ae=>ae.startYear<=ye).reduce((ae,ue)=>ae+ue.annualCostLoaded,0),Ge=I.map(ae=>({...ae,quarter:ae.quarter||"Q1"})),pt=nK(T,P,$,Ge,V,z,B,H,U,X),Gt={},F={},K={},ee={};Z.forEach(ae=>{Gt[ae.year]=ae.revenue,F[ae.year]=ae.cogs}),W.forEach(ae=>{K[ae.year]=ae.payroll}),q.forEach(ae=>{ee[ae.year]=ae.opex});const ve=lK(te,{annualRevenue:Gt,annualCogs:F,annualPayroll:K,annualOpex:ee},I,V,z,B,G);return{totalDevCost:Q,revenueByYear:Z,payrollByYear:W,opexByYear:q,capexByYear:de,totalHeadcount:Ae,currentPayroll:Ie,treasuryProjection:pt,monthlyTreasuryProjection:ve}},[r]);return o.jsx(KD.Provider,{value:{state:r,computed:R,updateProducts:s,addProduct:l,removeProduct:c,updateRoles:u,addRole:f,removeRole:d,updateExpenses:h,addExpense:p,removeExpense:y,updateFundingRounds:m,updateScenarioSettings:g,setActiveScenario:v,updateScenarioConfig:x,setRevenueMode:b,updateGlobalRevenueConfig:_,setOpexMode:j,updateSimpleOpexConfig:S,setExcludeFundingFromTreasury:C,updateHistoricalData:N,updateMonthlyTreasuryConfig:A,updateValuationConfig:E,saveAll:k},children:e})}function Mi(){const e=w.useContext(KD);if(!e)throw new Error("useFinancial must be used within FinancialProvider");return e}function Bv({variant:e="full",color:t="dark",className:r}){const n=t==="light"?"text-white":"text-foreground";return o.jsx("div",{className:re("flex items-center gap-2",r),children:o.jsxs("span",{className:re("font-bold tracking-tight",e==="full"?"text-2xl":"text-lg",n),children:["NOVA",o.jsx("span",{className:"text-accent",children:"RIDE"})]})})}const vX=[{items:[{to:"/home",label:"Accueil",icon:aW,tabKey:"home"}]},{label:"Prvisionnel",items:[{to:"/",label:"Plan Produit",icon:xp,tabKey:"product-plan"},{to:"/organisation",label:"Organisation",icon:pu,tabKey:"organisation"},{to:"/charges",label:"Charges",icon:lI,tabKey:"charges"},{to:"/scenarios",label:"Scnarios",icon:fS,tabKey:"scenarios"},{to:"/previsionnel",label:"Prvisionnel",icon:eI,tabKey:"previsionnel"}]},{label:"Investisseur",items:[{to:"/funding",label:"Financement",icon:J$,tabKey:"funding"},{to:"/valuation",label:"Valorisation",icon:Fl,tabKey:"valuation"},{to:"/investment-summary",label:"Synthse",icon:Cl,tabKey:"investment-summary"}]},{items:[{to:"/crm",label:"CRM",icon:oI,tabKey:"crm"},{to:"/costflow",label:"Production et BE",icon:aI,tabKey:"costflow"},{to:"/timetracking",label:"Suivi d'activit",icon:Py,tabKey:"timetracking"},{to:"/snapshots",label:"Sauvegardes",icon:hS,tabKey:"snapshots"}]}];function Vn({children:e}){const{signOut:t,isAdmin:r,getTabPermission:n}=la(),a=fd(),[i,s]=w.useState(!1),l=async()=>{await t(),a("/auth")},c=vX.map(u=>({...u,items:u.items.filter(f=>n(f.tabKey)!=="hidden")})).filter(u=>u.items.length>0);return o.jsxs("div",{className:"flex min-h-screen",children:[o.jsx("button",{className:"fixed top-4 left-4 z-50 lg:hidden p-2 bg-sidebar text-white rounded",onClick:()=>s(!i),children:i?o.jsx(Ai,{className:"h-5 w-5"}):o.jsx(uW,{className:"h-5 w-5"})}),o.jsxs("aside",{className:re("fixed inset-y-0 left-0 z-40 w-56 bg-sidebar text-sidebar-foreground flex flex-col transition-transform lg:translate-x-0",i?"translate-x-0":"-translate-x-full"),children:[o.jsxs("div",{className:"p-4 border-b border-sidebar-border",children:[o.jsx(Bv,{variant:"compact",color:"light"}),o.jsx("div",{className:"text-xs text-sidebar-foreground/50 mt-1",children:"Gestion interne"})]}),o.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto",children:[c.map((u,f)=>o.jsxs("div",{className:re(f>0&&"mt-3 pt-3 border-t border-sidebar-border"),children:[u.label&&o.jsx("div",{className:"px-4 py-1 text-[10px] font-semibold uppercase tracking-wider text-sidebar-foreground/40",children:u.label}),u.items.map(d=>{const h=d.icon;return o.jsxs(Af,{to:d.to,end:d.to==="/",onClick:()=>s(!1),className:({isActive:p})=>re("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors",p?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[o.jsx(h,{className:"h-4 w-4"}),d.label]},d.to)})]},f)),r&&o.jsxs(Af,{to:"/permissions",onClick:()=>s(!1),className:({isActive:u})=>re("flex items-center gap-3 px-4 py-2.5 text-sm transition-colors mt-4 border-t border-sidebar-border pt-4",u?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:text-sidebar-foreground hover:bg-sidebar-accent/10"),children:[o.jsx(gS,{className:"h-4 w-4"}),"Administration"]})]}),o.jsx("div",{className:"p-4 border-t border-sidebar-border",children:o.jsxs(ie,{variant:"ghost",size:"sm",className:"w-full justify-start text-sidebar-foreground/70 hover:text-sidebar-foreground",onClick:l,children:[o.jsx(sI,{className:"h-4 w-4 mr-2"}),"Dconnexion"]})})]}),i&&o.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>s(!1)}),o.jsx("main",{className:"flex-1 lg:ml-56 p-6",children:e})]})}function An({children:e,tabKey:t}){const{user:r,loading:n,getTabPermission:a}=la();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):r?t&&a(t)==="hidden"?o.jsx(gE,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(gE,{to:"/auth",replace:!0})}const gX=ad("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...r}){return o.jsx("div",{className:re(gX({variant:t}),e),...r})}const yX="/assets/hero-udh-CghFnth9.jpg",xX="/assets/savoir-faire-DO6sqzLN.jpg",bX="/assets/composants-hero-CnGsZ9u8.jpg",wX="/assets/ccd-gold-Cg4R7WZE.jpg",jX="/assets/pulley-wheels-O2SueKz_.jpg",_X="/assets/full-bike-ccd-wF5KhlY1.jpg",SX="/assets/ccd-evo-banner-AhDDT7VY.jpg",CX="/assets/ccd-evo-dev-BuVXfBBC.jpg",NX=[{label:"Prvisionnel",items:[{to:"/",label:"Plan Produit",icon:xp,tabKey:"product-plan",description:"Gamme, pricing et volumes"},{to:"/organisation",label:"Organisation",icon:pu,tabKey:"organisation",description:"quipe et masse salariale"},{to:"/charges",label:"Charges",icon:lI,tabKey:"charges",description:"Charges fixes et variables"},{to:"/scenarios",label:"Scnarios",icon:fS,tabKey:"scenarios",description:"Hypothses et projections"},{to:"/previsionnel",label:"Prvisionnel",icon:eI,tabKey:"previsionnel",description:"P&L, trsorerie, BFR"}]},{label:"Investisseur",items:[{to:"/funding",label:"Financement",icon:J$,tabKey:"funding",description:"Besoin et allocation"},{to:"/valuation",label:"Valorisation",icon:Fl,tabKey:"valuation",description:"Mthodes et dilution"},{to:"/investment-summary",label:"Synthse",icon:Cl,tabKey:"investment-summary",description:"Deck investisseur"}]},{label:"Oprations",items:[{to:"/crm",label:"CRM",icon:oI,tabKey:"crm",description:"Clients et commandes"},{to:"/costflow",label:"Production & BE",icon:aI,tabKey:"costflow",description:"BOM, fournisseurs, planning"},{to:"/timetracking",label:"Suivi d'activit",icon:Py,tabKey:"timetracking",description:"Temps et catgories"},{to:"/snapshots",label:"Sauvegardes",icon:hS,tabKey:"snapshots",description:"Historique et restauration"}]}];function PX(){const{signOut:e,isAdmin:t,getTabPermission:r}=la(),n=fd(),a=async()=>{await e(),n("/auth")},i=NX.map(s=>({...s,items:s.items.filter(l=>r(l.tabKey)!=="hidden")})).filter(s=>s.items.length>0);return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"bg-sidebar text-sidebar-foreground px-6 py-3 flex items-center justify-between",children:[o.jsx(Bv,{variant:"full",color:"light"}),o.jsxs("div",{className:"flex items-center gap-3",children:[t&&o.jsx(Af,{to:"/permissions",children:o.jsxs(ie,{variant:"ghost",size:"sm",className:"text-sidebar-foreground/70 hover:text-sidebar-foreground",children:[o.jsx(gS,{className:"h-4 w-4 mr-1"})," Admin"]})}),o.jsxs(ie,{variant:"ghost",size:"sm",className:"text-sidebar-foreground/70 hover:text-sidebar-foreground",onClick:a,children:[o.jsx(sI,{className:"h-4 w-4 mr-1"})," Dconnexion"]})]})]}),o.jsxs("section",{className:"relative h-[55vh] min-h-[420px] overflow-hidden",children:[o.jsx("img",{src:yX,alt:"Nova Ride UDH Derailleur",className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/50 to-transparent"}),o.jsxs("div",{className:"relative h-full flex flex-col justify-center px-8 md:px-16 max-w-4xl",children:[o.jsx($e,{className:"w-fit mb-4 bg-primary/90 text-primary-foreground",children:"Composants de transmission premium"}),o.jsx("h1",{className:"text-white text-3xl md:text-5xl font-bold leading-tight mb-3",children:"All is in the details."}),o.jsx("p",{className:"text-white/80 text-lg md:text-xl max-w-lg mb-6",children:"Performance, design, fiabilit et prix juste  sans compromis."}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx(Af,{to:"/investment-summary",children:o.jsxs(ie,{size:"lg",className:"bg-primary hover:bg-primary/90",children:["Synthse Investisseur ",o.jsx(Y6,{className:"ml-2 h-5 w-5"})]})}),o.jsx("a",{href:"https://novatoride.com",target:"_blank",rel:"noopener noreferrer",children:o.jsxs(ie,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:[o.jsx(rW,{className:"mr-2 h-5 w-5"})," novatoride.com"]})})]})]})]}),o.jsx("section",{className:"py-16 px-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{children:[o.jsx($e,{variant:"outline",className:"mb-4",children:"Qui sommes-nous"}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ingnierie franaise au service du cyclisme"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Chez Nova Ride, tout le monde joue son rle, des premires esquisses  l'expdition du produit fini. Des composants conus avec passion et transparence  voici notre ADN."}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Nous accordons une attention minutieuse  chaque dtail pour vous offrir des produits performants et durables. Chaque composant est conu, prototyp et test en interne."}),o.jsxs("div",{className:"flex gap-6 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-2xl font-bold text-primary",children:"4 ans"}),o.jsx("br",{}),o.jsx("span",{className:"text-muted-foreground",children:"Garantie"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-2xl font-bold text-primary",children:"100%"}),o.jsx("br",{}),o.jsx("span",{className:"text-muted-foreground",children:"Cramique"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-2xl font-bold text-primary",children:"7075-T6"}),o.jsx("br",{}),o.jsx("span",{className:"text-muted-foreground",children:"Aluminium"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("img",{src:xX,alt:"Notre savoir-faire",className:"rounded-lg shadow-lg col-span-2 h-48 w-full object-cover"}),o.jsx("img",{src:CX,alt:"Conception 3D",className:"rounded-lg shadow-lg h-40 w-full object-cover"}),o.jsx("img",{src:wX,alt:"CCD Gold Edition",className:"rounded-lg shadow-lg h-40 w-full object-cover"})]})]})}),o.jsx("section",{className:"py-16 px-8 bg-muted/30",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx($e,{variant:"outline",className:"mb-4",children:"Nos composants"}),o.jsx("h2",{className:"text-3xl font-bold",children:"Transmission haut de gamme"}),o.jsx("p",{className:"text-muted-foreground mt-2 max-w-xl mx-auto",children:"Chapes de drailleur, galets cramique, botiers de pdalier  conus pour la performance."})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs(Zt,{className:"overflow-hidden group hover:shadow-lg transition-shadow",children:[o.jsx("img",{src:SX,alt:"CCD EVO",className:"h-48 w-full object-cover group-hover:scale-105 transition-transform"}),o.jsxs(Jt,{className:"pt-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"CCD EVO"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Chapes de drailleur surdimensionnes avec roulements 100% cramique. Carbone 3K, optimisation topologique."})]})]}),o.jsxs(Zt,{className:"overflow-hidden group hover:shadow-lg transition-shadow",children:[o.jsx("img",{src:jX,alt:"Galets EVO",className:"h-48 w-full object-cover group-hover:scale-105 transition-transform"}),o.jsxs(Jt,{className:"pt-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Galets de drailleur EVO"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Aluminium 7075-T6, roulements secs cramique. Friction minimale, zro entretien."})]})]}),o.jsxs(Zt,{className:"overflow-hidden group hover:shadow-lg transition-shadow",children:[o.jsx("img",{src:_X,alt:"Vlo quip CCD",className:"h-48 w-full object-cover group-hover:scale-105 transition-transform"}),o.jsxs(Jt,{className:"pt-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"cosystme complet"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Compatibles Shimano & SRAM, route, gravel et VTT. 7 coloris disponibles."})]})]})]})]})}),o.jsx("section",{className:"py-16 px-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx($e,{variant:"outline",className:"mb-4",children:"Business Plan"}),o.jsx("h2",{className:"text-3xl font-bold",children:"Accder aux modules"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Explorez l'ensemble des projections financires, de la stratgie produit  la valorisation."})]}),i.map((s,l)=>o.jsxs("div",{className:"mb-10",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"h-1 w-6 bg-primary rounded-full"}),s.label]}),o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.items.map(c=>{const u=c.icon;return o.jsx(Af,{to:c.to,children:o.jsx(Zt,{className:"h-full hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group",children:o.jsxs(Jt,{className:"pt-5 flex items-start gap-4",children:[o.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0 group-hover:bg-primary/20 transition-colors",children:o.jsx(u,{className:"h-5 w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium group-hover:text-primary transition-colors",children:c.label}),o.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:c.description})]})]})})},c.to)})})]},l))]})}),o.jsx("section",{className:"py-16 px-8 bg-sidebar text-white",children:o.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-center",children:[o.jsx("img",{src:bX,alt:"Nova Ride en action",className:"rounded-lg shadow-2xl"}),o.jsxs("div",{children:[o.jsx($e,{className:"mb-4 bg-white/10 text-white border-white/20",children:"Notre savoir-faire"}),o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"De l'ide  votre vlo"}),o.jsxs("div",{className:"space-y-4 text-white/80",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ch,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-white",children:"Idation & CAO"}),"  Conception 3D, optimisation topologique et simulation FEA."]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(mW,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-white",children:"Prototypage"}),"  Impression 3D, usinage CNC et tests itratifs en interne."]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(X6,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-white",children:"Validation"}),"  Tests de contrainte, fatigue et terrain rel. 100% tests, 100% garantis."]})]})]})]})]})}),o.jsx("footer",{className:"py-8 px-8 border-t",children:o.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Bv,{variant:"compact",color:"dark",className:"text-xl"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:" 2025 NOVARIDE  Innovation franaise"})]}),o.jsx("a",{href:"https://novatoride.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover:text-foreground",children:"novatoride.com"})]})})]})}function gs({title:e,subtitle:t,height:r="sm"}){const n={sm:"h-24",md:"h-40",lg:"h-56"}[r];return o.jsx("div",{className:re("relative rounded-lg overflow-hidden bg-gradient-to-r from-sidebar to-sidebar/80",n),children:o.jsxs("div",{className:"relative h-full flex flex-col justify-center px-6",children:[o.jsx("h1",{className:"text-white text-xl md:text-2xl font-bold",children:e}),t&&o.jsx("p",{className:"text-white/70 text-sm mt-1",children:t})]})})}function yd({onSave:e,hasUnsavedChanges:t}){return o.jsxs(ie,{variant:t?"default":"outline",size:"sm",onClick:e,className:t?"animate-pulse-subtle":"",children:[o.jsx(mS,{className:"h-4 w-4 mr-1"}),t?"Sauvegarder":"Sauvegard"]})}const Ut=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:re("w-full caption-bottom text-sm",e),...t})}));Ut.displayName="Table";const Vt=w.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:re("[&_tr]:border-b",e),...t}));Vt.displayName="TableHeader";const Wt=w.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:re("[&_tr:last-child]:border-0",e),...t}));Wt.displayName="TableBody";const EX=w.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));EX.displayName="TableFooter";const be=w.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:re("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));be.displayName="TableRow";const le=w.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));le.displayName="TableHead";const Y=w.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Y.displayName="TableCell";const AX=w.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:re("mt-4 text-sm text-muted-foreground",e),...t}));AX.displayName="TableCaption";function kX({products:e,onUpdateProduct:t,onAddProduct:r,onRemoveProduct:n}){const a=()=>{const i={id:`product-${Date.now()}`,name:"Nouveau Produit",category:"B2C",launchYear:2026,devCost:1e5,devAmortizationYears:5,unitCost:200,priceHT:500,priceTTC_B2C:600,vatRate:.2,coef_shop:1.8,coef_dist:1.4,coef_oem:1.5,volumesByYear:{}};r(i)};return o.jsxs(Ue,{title:"Pricing Produits",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Produit"}),o.jsx(le,{className:"text-right",children:"Prix TTC B2C"}),o.jsx(le,{className:"text-right",children:"Prix HT"}),o.jsx(le,{className:"text-right",children:"Cot Unitaire"}),o.jsx(le,{className:"text-right",children:"Marge"}),o.jsx(le,{className:"text-right",children:"Dev Cost"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.map(i=>o.jsxs(be,{children:[o.jsx(Y,{children:o.jsx(_e,{value:i.name,onChange:s=>t({...i,name:s.target.value}),className:"h-8 w-40"})}),o.jsx(Y,{className:"text-right font-mono-numbers",children:o.jsx(_e,{type:"number",value:i.priceTTC_B2C,onChange:s=>{const l=Number(s.target.value);t({...i,priceTTC_B2C:l,priceHT:l/(1+i.vatRate)})},className:"h-8 w-24 text-right"})}),o.jsx(Y,{className:"text-right font-mono-numbers",children:J(i.priceHT)}),o.jsx(Y,{className:"text-right font-mono-numbers",children:J(i.unitCost)}),o.jsxs(Y,{className:"text-right font-mono-numbers",children:[((1-i.unitCost/i.priceHT)*100).toFixed(0),"%"]}),o.jsx(Y,{className:"text-right font-mono-numbers",children:J(i.devCost,!0)}),o.jsx(Y,{children:o.jsx(ie,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>n(i.id),children:o.jsx(Xr,{className:"h-4 w-4"})})})]},i.id))})]})}),o.jsxs(ie,{variant:"outline",size:"sm",className:"mt-4",onClick:a,children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"})," Ajouter Produit"]})]})}var OX=Array.isArray,zn=OX,TX=typeof Fp=="object"&&Fp&&Fp.Object===Object&&Fp,GD=TX,RX=GD,MX=typeof self=="object"&&self&&self.Object===Object&&self,$X=RX||MX||Function("return this")(),$i=$X,IX=$i,DX=IX.Symbol,jp=DX,HE=jp,YD=Object.prototype,LX=YD.hasOwnProperty,FX=YD.toString,Gd=HE?HE.toStringTag:void 0;function BX(e){var t=LX.call(e,Gd),r=e[Gd];try{e[Gd]=void 0;var n=!0}catch{}var a=FX.call(e);return n&&(t?e[Gd]=r:delete e[Gd]),a}var zX=BX,UX=Object.prototype,VX=UX.toString;function WX(e){return VX.call(e)}var HX=WX,qE=jp,qX=zX,KX=HX,GX="[object Null]",YX="[object Undefined]",KE=qE?qE.toStringTag:void 0;function XX(e){return e==null?e===void 0?YX:GX:KE&&KE in Object(e)?qX(e):KX(e)}var ys=XX;function QX(e){return e!=null&&typeof e=="object"}var xs=QX,ZX=ys,JX=xs,eQ="[object Symbol]";function tQ(e){return typeof e=="symbol"||JX(e)&&ZX(e)==eQ}var xd=tQ,rQ=zn,nQ=xd,aQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iQ=/^\w*$/;function sQ(e,t){if(rQ(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||nQ(e)?!0:iQ.test(e)||!aQ.test(e)||t!=null&&e in Object(t)}var US=sQ;function oQ(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Po=oQ;const bd=wt(Po);var lQ=ys,cQ=Po,uQ="[object AsyncFunction]",dQ="[object Function]",fQ="[object GeneratorFunction]",hQ="[object Proxy]";function pQ(e){if(!cQ(e))return!1;var t=lQ(e);return t==dQ||t==fQ||t==uQ||t==hQ}var VS=pQ;const ze=wt(VS);var mQ=$i,vQ=mQ["__core-js_shared__"],gQ=vQ,Q0=gQ,GE=function(){var e=/[^.]+$/.exec(Q0&&Q0.keys&&Q0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yQ(e){return!!GE&&GE in e}var xQ=yQ,bQ=Function.prototype,wQ=bQ.toString;function jQ(e){if(e!=null){try{return wQ.call(e)}catch{}try{return e+""}catch{}}return""}var XD=jQ,_Q=VS,SQ=xQ,CQ=Po,NQ=XD,PQ=/[\\^$.*+?()[\]{}|]/g,EQ=/^\[object .+?Constructor\]$/,AQ=Function.prototype,kQ=Object.prototype,OQ=AQ.toString,TQ=kQ.hasOwnProperty,RQ=RegExp("^"+OQ.call(TQ).replace(PQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MQ(e){if(!CQ(e)||SQ(e))return!1;var t=_Q(e)?RQ:EQ;return t.test(NQ(e))}var $Q=MQ;function IQ(e,t){return e==null?void 0:e[t]}var DQ=IQ,LQ=$Q,FQ=DQ;function BQ(e,t){var r=FQ(e,t);return LQ(r)?r:void 0}var zl=BQ,zQ=zl,UQ=zQ(Object,"create"),Ky=UQ,YE=Ky;function VQ(){this.__data__=YE?YE(null):{},this.size=0}var WQ=VQ;function HQ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qQ=HQ,KQ=Ky,GQ="__lodash_hash_undefined__",YQ=Object.prototype,XQ=YQ.hasOwnProperty;function QQ(e){var t=this.__data__;if(KQ){var r=t[e];return r===GQ?void 0:r}return XQ.call(t,e)?t[e]:void 0}var ZQ=QQ,JQ=Ky,eZ=Object.prototype,tZ=eZ.hasOwnProperty;function rZ(e){var t=this.__data__;return JQ?t[e]!==void 0:tZ.call(t,e)}var nZ=rZ,aZ=Ky,iZ="__lodash_hash_undefined__";function sZ(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=aZ&&t===void 0?iZ:t,this}var oZ=sZ,lZ=WQ,cZ=qQ,uZ=ZQ,dZ=nZ,fZ=oZ;function wd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wd.prototype.clear=lZ;wd.prototype.delete=cZ;wd.prototype.get=uZ;wd.prototype.has=dZ;wd.prototype.set=fZ;var hZ=wd;function pZ(){this.__data__=[],this.size=0}var mZ=pZ;function vZ(e,t){return e===t||e!==e&&t!==t}var WS=vZ,gZ=WS;function yZ(e,t){for(var r=e.length;r--;)if(gZ(e[r][0],t))return r;return-1}var Gy=yZ,xZ=Gy,bZ=Array.prototype,wZ=bZ.splice;function jZ(e){var t=this.__data__,r=xZ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():wZ.call(t,r,1),--this.size,!0}var _Z=jZ,SZ=Gy;function CZ(e){var t=this.__data__,r=SZ(t,e);return r<0?void 0:t[r][1]}var NZ=CZ,PZ=Gy;function EZ(e){return PZ(this.__data__,e)>-1}var AZ=EZ,kZ=Gy;function OZ(e,t){var r=this.__data__,n=kZ(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var TZ=OZ,RZ=mZ,MZ=_Z,$Z=NZ,IZ=AZ,DZ=TZ;function jd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jd.prototype.clear=RZ;jd.prototype.delete=MZ;jd.prototype.get=$Z;jd.prototype.has=IZ;jd.prototype.set=DZ;var Yy=jd,LZ=zl,FZ=$i,BZ=LZ(FZ,"Map"),HS=BZ,XE=hZ,zZ=Yy,UZ=HS;function VZ(){this.size=0,this.__data__={hash:new XE,map:new(UZ||zZ),string:new XE}}var WZ=VZ;function HZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var qZ=HZ,KZ=qZ;function GZ(e,t){var r=e.__data__;return KZ(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Xy=GZ,YZ=Xy;function XZ(e){var t=YZ(this,e).delete(e);return this.size-=t?1:0,t}var QZ=XZ,ZZ=Xy;function JZ(e){return ZZ(this,e).get(e)}var eJ=JZ,tJ=Xy;function rJ(e){return tJ(this,e).has(e)}var nJ=rJ,aJ=Xy;function iJ(e,t){var r=aJ(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var sJ=iJ,oJ=WZ,lJ=QZ,cJ=eJ,uJ=nJ,dJ=sJ;function _d(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_d.prototype.clear=oJ;_d.prototype.delete=lJ;_d.prototype.get=cJ;_d.prototype.has=uJ;_d.prototype.set=dJ;var qS=_d,QD=qS,fJ="Expected a function";function KS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fJ);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(KS.Cache||QD),r}KS.Cache=QD;var ZD=KS;const hJ=wt(ZD);var pJ=ZD,mJ=500;function vJ(e){var t=pJ(e,function(n){return r.size===mJ&&r.clear(),n}),r=t.cache;return t}var gJ=vJ,yJ=gJ,xJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bJ=/\\(\\)?/g,wJ=yJ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xJ,function(r,n,a,i){t.push(a?i.replace(bJ,"$1"):n||r)}),t}),jJ=wJ;function _J(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var GS=_J,QE=jp,SJ=GS,CJ=zn,NJ=xd,PJ=1/0,ZE=QE?QE.prototype:void 0,JE=ZE?ZE.toString:void 0;function JD(e){if(typeof e=="string")return e;if(CJ(e))return SJ(e,JD)+"";if(NJ(e))return JE?JE.call(e):"";var t=e+"";return t=="0"&&1/e==-PJ?"-0":t}var EJ=JD,AJ=EJ;function kJ(e){return e==null?"":AJ(e)}var e3=kJ,OJ=zn,TJ=US,RJ=jJ,MJ=e3;function $J(e,t){return OJ(e)?e:TJ(e,t)?[e]:RJ(MJ(e))}var t3=$J,IJ=xd,DJ=1/0;function LJ(e){if(typeof e=="string"||IJ(e))return e;var t=e+"";return t=="0"&&1/e==-DJ?"-0":t}var Qy=LJ,FJ=t3,BJ=Qy;function zJ(e,t){t=FJ(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[BJ(t[r++])];return r&&r==n?e:void 0}var YS=zJ,UJ=YS;function VJ(e,t,r){var n=e==null?void 0:UJ(e,t);return n===void 0?r:n}var r3=VJ;const ra=wt(r3);function WJ(e){return e==null}var HJ=WJ;const Fe=wt(HJ);var qJ=ys,KJ=zn,GJ=xs,YJ="[object String]";function XJ(e){return typeof e=="string"||!KJ(e)&&GJ(e)&&qJ(e)==YJ}var QJ=XJ;const Pl=wt(QJ);var n3={exports:{}},Nt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=Symbol.for("react.element"),QS=Symbol.for("react.portal"),Zy=Symbol.for("react.fragment"),Jy=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),ZJ=Symbol.for("react.server_context"),nx=Symbol.for("react.forward_ref"),ax=Symbol.for("react.suspense"),ix=Symbol.for("react.suspense_list"),sx=Symbol.for("react.memo"),ox=Symbol.for("react.lazy"),JJ=Symbol.for("react.offscreen"),a3;a3=Symbol.for("react.module.reference");function Na(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case XS:switch(e=e.type,e){case Zy:case ex:case Jy:case ax:case ix:return e;default:switch(e=e&&e.$$typeof,e){case ZJ:case rx:case nx:case ox:case sx:case tx:return e;default:return t}}case QS:return t}}}Nt.ContextConsumer=rx;Nt.ContextProvider=tx;Nt.Element=XS;Nt.ForwardRef=nx;Nt.Fragment=Zy;Nt.Lazy=ox;Nt.Memo=sx;Nt.Portal=QS;Nt.Profiler=ex;Nt.StrictMode=Jy;Nt.Suspense=ax;Nt.SuspenseList=ix;Nt.isAsyncMode=function(){return!1};Nt.isConcurrentMode=function(){return!1};Nt.isContextConsumer=function(e){return Na(e)===rx};Nt.isContextProvider=function(e){return Na(e)===tx};Nt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===XS};Nt.isForwardRef=function(e){return Na(e)===nx};Nt.isFragment=function(e){return Na(e)===Zy};Nt.isLazy=function(e){return Na(e)===ox};Nt.isMemo=function(e){return Na(e)===sx};Nt.isPortal=function(e){return Na(e)===QS};Nt.isProfiler=function(e){return Na(e)===ex};Nt.isStrictMode=function(e){return Na(e)===Jy};Nt.isSuspense=function(e){return Na(e)===ax};Nt.isSuspenseList=function(e){return Na(e)===ix};Nt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zy||e===ex||e===Jy||e===ax||e===ix||e===JJ||typeof e=="object"&&e!==null&&(e.$$typeof===ox||e.$$typeof===sx||e.$$typeof===tx||e.$$typeof===rx||e.$$typeof===nx||e.$$typeof===a3||e.getModuleId!==void 0)};Nt.typeOf=Na;n3.exports=Nt;var eee=n3.exports,tee=ys,ree=xs,nee="[object Number]";function aee(e){return typeof e=="number"||ree(e)&&tee(e)==nee}var i3=aee;const iee=wt(i3);var see=i3;function oee(e){return see(e)&&e!=+e}var lee=oee;const Sd=wt(lee);var gn=function(t){return t===0?0:t>0?1:-1},nl=function(t){return Pl(t)&&t.indexOf("%")===t.length-1},fe=function(t){return iee(t)&&!Sd(t)},cee=function(t){return Fe(t)},Or=function(t){return fe(t)||Pl(t)},uee=0,Eo=function(t){var r=++uee;return"".concat(t||"").concat(r)},yn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&!Pl(t))return n;var i;if(nl(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Sd(i)&&(i=n),a&&i>r&&(i=r),i},Bs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},dee=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Qt=function(t,r){return fe(t)&&fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function zv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ra(n,t))===r})}var fee=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,i=0,s=0,l=1/0,c=-1/0,u=0,f=0,d=0;d<r;d++)u=t[d].cx||0,f=t[d].cy||0,n+=u,a+=f,i+=u*f,s+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=r*s!==n*n?(r*i-n*a)/(r*s-n*n):0;return{xmin:l,xmax:c,a:h,b:(a-h*n)/r}},hee=function(t,r){return fe(t)&&fe(r)?t-r:Pl(t)&&Pl(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Hc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}var pee=["viewBox","children"],mee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eA=["points","pathLength"],Z0={svg:pee,polygon:eA,polyline:eA},ZS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!bd(n))return null;var a={};return Object.keys(n).forEach(function(i){ZS.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},vee=function(t,r,n){return function(a){return t(r,n,a),null}},xo=function(t,r,n){if(!bd(t)||p1(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];ZS.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=vee(s,r,n))}),a},gee=["children"],yee=["children"];function tA(e,t){if(e==null)return{};var r=xee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}var rA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ts=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},nA=null,J0=null,JS=function e(t){if(t===nA&&Array.isArray(J0))return J0;var r=[];return w.Children.forEach(t,function(n){Fe(n)||(eee.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),J0=r,nA=t,r};function wn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ts(a)}):n=[ts(t)],JS(e).forEach(function(a){var i=ra(a,"type.displayName")||ra(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Gn(e,t){var r=wn(e,t);return r&&r[0]}var aA=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!fe(n)||n<=0||!fe(a)||a<=0)},bee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wee=function(t){return t&&t.type&&Pl(t.type)&&bee.indexOf(t.type)>=0},s3=function(t){return t&&m1(t)==="object"&&"clipDot"in t},jee=function(t,r,n,a){var i,s=(i=Z0==null?void 0:Z0[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ze(t)&&(a&&s.includes(r)||mee.includes(r))||n&&ZS.includes(r)},Oe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!bd(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;jee((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},v1=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iA(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!iA(i,s))return!1}return!0},iA=function(t,r){if(Fe(t)&&Fe(r))return!0;if(!Fe(t)&&!Fe(r)){var n=t.props||{},a=n.children,i=tA(n,gee),s=r.props||{},l=s.children,c=tA(s,yee);return a&&l?Hc(i,c)&&v1(a,l):!a&&!l?Hc(i,c):!1}return!1},sA=function(t,r){var n=[],a={};return JS(t).forEach(function(i,s){if(wee(i))n.push(i);else if(i){var l=ts(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var d=u(i,l,s);n.push(d),a[l]=!0}}}),n},_ee=function(t){var r=t&&t.type;return r&&rA[r]?rA[r]:null},See=function(t,r){return JS(r).indexOf(t)},Cee=["children","width","height","viewBox","className","style","title","desc"];function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(this,arguments)}function Nee(e,t){if(e==null)return{};var r=Pee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y1(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=Nee(e,Cee),f=a||{width:r,height:n,x:0,y:0},d=Ye("recharts-surface",i);return O.createElement("svg",g1({},Oe(u,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var Eee=["children","className"];function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x1.apply(this,arguments)}function Aee(e,t){if(e==null)return{};var r=kee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var et=O.forwardRef(function(e,t){var r=e.children,n=e.className,a=Aee(e,Eee),i=Ye("recharts-layer",n);return O.createElement("g",x1({className:i},Oe(a,!0),{ref:t}),r)}),Ja=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Oee(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Tee=Oee,Ree=Tee;function Mee(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Ree(e,t,r)}var $ee=Mee,Iee="\\ud800-\\udfff",Dee="\\u0300-\\u036f",Lee="\\ufe20-\\ufe2f",Fee="\\u20d0-\\u20ff",Bee=Dee+Lee+Fee,zee="\\ufe0e\\ufe0f",Uee="\\u200d",Vee=RegExp("["+Uee+Iee+Bee+zee+"]");function Wee(e){return Vee.test(e)}var o3=Wee;function Hee(e){return e.split("")}var qee=Hee,l3="\\ud800-\\udfff",Kee="\\u0300-\\u036f",Gee="\\ufe20-\\ufe2f",Yee="\\u20d0-\\u20ff",Xee=Kee+Gee+Yee,Qee="\\ufe0e\\ufe0f",Zee="["+l3+"]",b1="["+Xee+"]",w1="\\ud83c[\\udffb-\\udfff]",Jee="(?:"+b1+"|"+w1+")",c3="[^"+l3+"]",u3="(?:\\ud83c[\\udde6-\\uddff]){2}",d3="[\\ud800-\\udbff][\\udc00-\\udfff]",ete="\\u200d",f3=Jee+"?",h3="["+Qee+"]?",tte="(?:"+ete+"(?:"+[c3,u3,d3].join("|")+")"+h3+f3+")*",rte=h3+f3+tte,nte="(?:"+[c3+b1+"?",b1,u3,d3,Zee].join("|")+")",ate=RegExp(w1+"(?="+w1+")|"+nte+rte,"g");function ite(e){return e.match(ate)||[]}var ste=ite,ote=qee,lte=o3,cte=ste;function ute(e){return lte(e)?cte(e):ote(e)}var dte=ute,fte=$ee,hte=o3,pte=dte,mte=e3;function vte(e){return function(t){t=mte(t);var r=hte(t)?pte(t):void 0,n=r?r[0]:t.charAt(0),a=r?fte(r,1).join(""):t.slice(1);return n[e]()+a}}var gte=vte,yte=gte,xte=yte("toUpperCase"),bte=xte;const lx=wt(bte);function Tt(e){return function(){return e}}const p3=Math.cos,Vv=Math.sin,ai=Math.sqrt,Wv=Math.PI,cx=2*Wv,j1=Math.PI,_1=2*j1,Ho=1e-6,wte=_1-Ho;function m3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function jte(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return m3;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class _te{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?m3:jte(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,f=s-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ho)if(!(Math.abs(d*c-u*f)>Ho)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,y=a-l,m=c*c+u*u,g=p*p+y*y,v=Math.sqrt(m),x=Math.sqrt(h),b=i*Math.tan((j1-Math.acos((m+h-g)/(2*v*x)))/2),_=b/x,j=b/v;Math.abs(_-1)>Ho&&this._append`L${t+_*f},${r+_*d}`,this._append`A${i},${i},0,0,${+(d*p>f*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,f=r+c,d=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Ho||Math.abs(this._y1-f)>Ho)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%_1+_1),h>wte?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>Ho&&this._append`A${n},${n},0,${+(h>=j1)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function eC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _te(t)}function tC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v3(e){this._context=e}v3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ux(e){return new v3(e)}function g3(e){return e[0]}function y3(e){return e[1]}function x3(e,t){var r=Tt(!0),n=null,a=ux,i=null,s=eC(l);e=typeof e=="function"?e:e===void 0?g3:Tt(e),t=typeof t=="function"?t:t===void 0?y3:Tt(t);function l(c){var u,f=(c=tC(c)).length,d,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,u,c),+t(d,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Tt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Tt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Tt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function pm(e,t,r){var n=null,a=Tt(!0),i=null,s=ux,l=null,c=eC(u);e=typeof e=="function"?e:e===void 0?g3:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?y3:Tt(+r);function u(d){var h,p,y,m=(d=tC(d)).length,g,v=!1,x,b=new Array(m),_=new Array(m);for(i==null&&(l=s(x=c())),h=0;h<=m;++h){if(!(h<m&&a(g=d[h],h,d))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(b[y],_[y]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(g,h,d),_[h]=+t(g,h,d),l.point(n?+n(g,h,d):b[h],r?+r(g,h,d):_[h]))}if(x)return l=null,x+""||null}function f(){return x3().defined(a).curve(s).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Tt(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Tt(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Tt(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Tt(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Tt(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Tt(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Tt(!!d),u):a},u.curve=function(d){return arguments.length?(s=d,i!=null&&(l=s(i)),u):s},u.context=function(d){return arguments.length?(d==null?i=l=null:l=s(i=d),u):i},u}class b3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ste(e){return new b3(e,!0)}function Cte(e){return new b3(e,!1)}const rC={draw(e,t){const r=ai(t/Wv);e.moveTo(r,0),e.arc(0,0,r,0,cx)}},Nte={draw(e,t){const r=ai(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},w3=ai(1/3),Pte=w3*2,Ete={draw(e,t){const r=ai(t/Pte),n=r*w3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ate={draw(e,t){const r=ai(t),n=-r/2;e.rect(n,n,r,r)}},kte=.8908130915292852,j3=Vv(Wv/10)/Vv(7*Wv/10),Ote=Vv(cx/10)*j3,Tte=-p3(cx/10)*j3,Rte={draw(e,t){const r=ai(t*kte),n=Ote*r,a=Tte*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=cx*i/5,l=p3(s),c=Vv(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},eb=ai(3),Mte={draw(e,t){const r=-ai(t/(eb*3));e.moveTo(0,r*2),e.lineTo(-eb*r,-r),e.lineTo(eb*r,-r),e.closePath()}},ua=-.5,da=ai(3)/2,S1=1/ai(12),$te=(S1/2+1)*3,Ite={draw(e,t){const r=ai(t/$te),n=r/2,a=r*S1,i=n,s=r*S1+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(ua*n-da*a,da*n+ua*a),e.lineTo(ua*i-da*s,da*i+ua*s),e.lineTo(ua*l-da*c,da*l+ua*c),e.lineTo(ua*n+da*a,ua*a-da*n),e.lineTo(ua*i+da*s,ua*s-da*i),e.lineTo(ua*l+da*c,ua*c-da*l),e.closePath()}};function Dte(e,t){let r=null,n=eC(a);e=typeof e=="function"?e:Tt(e||rC),t=typeof t=="function"?t:Tt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Tt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Tt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Hv(){}function qv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _3(e){this._context=e}_3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lte(e){return new _3(e)}function S3(e){this._context=e}S3.prototype={areaStart:Hv,areaEnd:Hv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fte(e){return new S3(e)}function C3(e){this._context=e}C3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bte(e){return new C3(e)}function N3(e){this._context=e}N3.prototype={areaStart:Hv,areaEnd:Hv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function zte(e){return new N3(e)}function oA(e){return e<0?-1:1}function lA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(oA(i)+oA(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function cA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tb(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Kv(e){this._context=e}Kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tb(this,this._t0,cA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tb(this,cA(this,r=lA(this,e,t)),r);break;default:tb(this,this._t0,r=lA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function P3(e){this._context=new E3(e)}(P3.prototype=Object.create(Kv.prototype)).point=function(e,t){Kv.prototype.point.call(this,t,e)};function E3(e){this._context=e}E3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Ute(e){return new Kv(e)}function Vte(e){return new P3(e)}function A3(e){this._context=e}A3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=uA(e),a=uA(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uA(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Wte(e){return new A3(e)}function dx(e,t){this._context=e,this._t=t}dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Hte(e){return new dx(e,.5)}function qte(e){return new dx(e,0)}function Kte(e){return new dx(e,1)}function yu(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function C1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Gte(e,t){return e[t]}function Yte(e){const t=[];return t.key=e,t}function Xte(){var e=Tt([]),t=C1,r=yu,n=Gte;function a(i){var s=Array.from(e.apply(this,arguments),Yte),l,c=s.length,u=-1,f;for(const d of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(d,s[l].key,u,i)]).data=d;for(l=0,f=tC(t(s));l<c;++l)s[f[l]].index=l;return r(s,f),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Tt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Tt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?C1:typeof i=="function"?i:Tt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??yu,a):r},a}function Qte(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}yu(e,t)}}function Zte(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}yu(e,t)}}function Jte(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,y=0;y<l;++y){var m=e[t[y]],g=m[n][1]||0,v=m[n-1][1]||0;p+=g-v}c+=d,u+=p*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,yu(e,t)}}function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}var ere=["type","size","sizeType"];function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tre(e,t,r){return t=rre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rre(e){var t=nre(e,"string");return Nh(t)=="symbol"?t:t+""}function nre(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function are(e,t){if(e==null)return{};var r=ire(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ire(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var k3={symbolCircle:rC,symbolCross:Nte,symbolDiamond:Ete,symbolSquare:Ate,symbolStar:Rte,symbolTriangle:Mte,symbolWye:Ite},sre=Math.PI/180,ore=function(t){var r="symbol".concat(lx(t));return k3[r]||rC},lre=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*sre;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},cre=function(t,r){k3["symbol".concat(lx(t))]=r},fx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=are(t,ere),u=fA(fA({},c),{},{type:n,size:i,sizeType:l}),f=function(){var g=ore(n),v=Dte().type(g).size(lre(i,l,n));return v()},d=u.className,h=u.cx,p=u.cy,y=Oe(u,!0);return h===+h&&p===+p&&i===+i?O.createElement("path",N1({},y,{className:Ye("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};fx.registerSymbol=cre;function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(this,arguments)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ure(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){Ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T3(n.key),n)}}function hre(e,t,r){return t&&fre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pre(e,t,r){return t=Gv(t),mre(e,O3()?Reflect.construct(t,r||[],Gv(e).constructor):t.apply(e,r))}function mre(e,t){if(t&&(xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vre(e)}function vre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O3=function(){return!!e})()}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(e)}function gre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E1(e,t)}function E1(e,t){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E1(e,t)}function Ph(e,t,r){return t=T3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T3(e){var t=yre(e,"string");return xu(t)=="symbol"?t:t+""}function yre(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fa=32,nC=function(e){function t(){return dre(this,t),pre(this,t,arguments)}return gre(t,e),hre(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=fa/2,s=fa/6,l=fa/3,c=n.inactive?a:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:fa,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(fa,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(fa/8,"h").concat(fa,"v").concat(fa*3/4,"h").concat(-fa,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var u=ure({},n);return delete u.legendIcon,O.cloneElement(n.legendIcon,u)}return O.createElement(fx,{fill:c,cx:i,cy:i,size:fa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:fa,height:fa},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,y){var m=p.formatter||c,g=Ye(Ph(Ph({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=ze(p.value)?null:p.value;Ja(!ze(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return O.createElement("li",P1({className:g,style:d,key:"legend-item-".concat(y)},xo(n.props,p,y)),O.createElement(y1,{width:s,height:s,viewBox:f,style:h},n.renderIcon(p)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(v,p,y):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);Ph(nC,"displayName","Legend");Ph(nC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xre=Yy;function bre(){this.__data__=new xre,this.size=0}var wre=bre;function jre(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _re=jre;function Sre(e){return this.__data__.get(e)}var Cre=Sre;function Nre(e){return this.__data__.has(e)}var Pre=Nre,Ere=Yy,Are=HS,kre=qS,Ore=200;function Tre(e,t){var r=this.__data__;if(r instanceof Ere){var n=r.__data__;if(!Are||n.length<Ore-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new kre(n)}return r.set(e,t),this.size=r.size,this}var Rre=Tre,Mre=Yy,$re=wre,Ire=_re,Dre=Cre,Lre=Pre,Fre=Rre;function Cd(e){var t=this.__data__=new Mre(e);this.size=t.size}Cd.prototype.clear=$re;Cd.prototype.delete=Ire;Cd.prototype.get=Dre;Cd.prototype.has=Lre;Cd.prototype.set=Fre;var R3=Cd,Bre="__lodash_hash_undefined__";function zre(e){return this.__data__.set(e,Bre),this}var Ure=zre;function Vre(e){return this.__data__.has(e)}var Wre=Vre,Hre=qS,qre=Ure,Kre=Wre;function Yv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Hre;++t<r;)this.add(e[t])}Yv.prototype.add=Yv.prototype.push=qre;Yv.prototype.has=Kre;var M3=Yv;function Gre(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var $3=Gre;function Yre(e,t){return e.has(t)}var I3=Yre,Xre=M3,Qre=$3,Zre=I3,Jre=1,ene=2;function tne(e,t,r,n,a,i){var s=r&Jre,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&ene?new Xre:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var y=e[d],m=t[d];if(n)var g=s?n(m,y,d,t,e,i):n(y,m,d,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!Qre(t,function(v,x){if(!Zre(p,x)&&(y===v||a(y,v,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(y===m||a(y,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var D3=tne,rne=$i,nne=rne.Uint8Array,ane=nne;function ine(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var sne=ine;function one(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var aC=one,pA=jp,mA=ane,lne=WS,cne=D3,une=sne,dne=aC,fne=1,hne=2,pne="[object Boolean]",mne="[object Date]",vne="[object Error]",gne="[object Map]",yne="[object Number]",xne="[object RegExp]",bne="[object Set]",wne="[object String]",jne="[object Symbol]",_ne="[object ArrayBuffer]",Sne="[object DataView]",vA=pA?pA.prototype:void 0,rb=vA?vA.valueOf:void 0;function Cne(e,t,r,n,a,i,s){switch(r){case Sne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _ne:return!(e.byteLength!=t.byteLength||!i(new mA(e),new mA(t)));case pne:case mne:case yne:return lne(+e,+t);case vne:return e.name==t.name&&e.message==t.message;case xne:case wne:return e==t+"";case gne:var l=une;case bne:var c=n&fne;if(l||(l=dne),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=hne,s.set(e,t);var f=cne(l(e),l(t),n,a,i,s);return s.delete(e),f;case jne:if(rb)return rb.call(e)==rb.call(t)}return!1}var Nne=Cne;function Pne(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var L3=Pne,Ene=L3,Ane=zn;function kne(e,t,r){var n=t(e);return Ane(e)?n:Ene(n,r(e))}var One=kne;function Tne(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var Rne=Tne;function Mne(){return[]}var $ne=Mne,Ine=Rne,Dne=$ne,Lne=Object.prototype,Fne=Lne.propertyIsEnumerable,gA=Object.getOwnPropertySymbols,Bne=gA?function(e){return e==null?[]:(e=Object(e),Ine(gA(e),function(t){return Fne.call(e,t)}))}:Dne,zne=Bne;function Une(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Vne=Une,Wne=ys,Hne=xs,qne="[object Arguments]";function Kne(e){return Hne(e)&&Wne(e)==qne}var Gne=Kne,yA=Gne,Yne=xs,F3=Object.prototype,Xne=F3.hasOwnProperty,Qne=F3.propertyIsEnumerable,Zne=yA(function(){return arguments}())?yA:function(e){return Yne(e)&&Xne.call(e,"callee")&&!Qne.call(e,"callee")},iC=Zne,Xv={exports:{}};function Jne(){return!1}var eae=Jne;Xv.exports;(function(e,t){var r=$i,n=eae,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Xv,Xv.exports);var B3=Xv.exports,tae=9007199254740991,rae=/^(?:0|[1-9]\d*)$/;function nae(e,t){var r=typeof e;return t=t??tae,!!t&&(r=="number"||r!="symbol"&&rae.test(e))&&e>-1&&e%1==0&&e<t}var sC=nae,aae=9007199254740991;function iae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=aae}var oC=iae,sae=ys,oae=oC,lae=xs,cae="[object Arguments]",uae="[object Array]",dae="[object Boolean]",fae="[object Date]",hae="[object Error]",pae="[object Function]",mae="[object Map]",vae="[object Number]",gae="[object Object]",yae="[object RegExp]",xae="[object Set]",bae="[object String]",wae="[object WeakMap]",jae="[object ArrayBuffer]",_ae="[object DataView]",Sae="[object Float32Array]",Cae="[object Float64Array]",Nae="[object Int8Array]",Pae="[object Int16Array]",Eae="[object Int32Array]",Aae="[object Uint8Array]",kae="[object Uint8ClampedArray]",Oae="[object Uint16Array]",Tae="[object Uint32Array]",Dt={};Dt[Sae]=Dt[Cae]=Dt[Nae]=Dt[Pae]=Dt[Eae]=Dt[Aae]=Dt[kae]=Dt[Oae]=Dt[Tae]=!0;Dt[cae]=Dt[uae]=Dt[jae]=Dt[dae]=Dt[_ae]=Dt[fae]=Dt[hae]=Dt[pae]=Dt[mae]=Dt[vae]=Dt[gae]=Dt[yae]=Dt[xae]=Dt[bae]=Dt[wae]=!1;function Rae(e){return lae(e)&&oae(e.length)&&!!Dt[sae(e)]}var Mae=Rae;function $ae(e){return function(t){return e(t)}}var z3=$ae,Qv={exports:{}};Qv.exports;(function(e,t){var r=GD,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Qv,Qv.exports);var Iae=Qv.exports,Dae=Mae,Lae=z3,xA=Iae,bA=xA&&xA.isTypedArray,Fae=bA?Lae(bA):Dae,U3=Fae,Bae=Vne,zae=iC,Uae=zn,Vae=B3,Wae=sC,Hae=U3,qae=Object.prototype,Kae=qae.hasOwnProperty;function Gae(e,t){var r=Uae(e),n=!r&&zae(e),a=!r&&!n&&Vae(e),i=!r&&!n&&!a&&Hae(e),s=r||n||a||i,l=s?Bae(e.length,String):[],c=l.length;for(var u in e)(t||Kae.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wae(u,c)))&&l.push(u);return l}var Yae=Gae,Xae=Object.prototype;function Qae(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Xae;return e===r}var Zae=Qae;function Jae(e,t){return function(r){return e(t(r))}}var V3=Jae,eie=V3,tie=eie(Object.keys,Object),rie=tie,nie=Zae,aie=rie,iie=Object.prototype,sie=iie.hasOwnProperty;function oie(e){if(!nie(e))return aie(e);var t=[];for(var r in Object(e))sie.call(e,r)&&r!="constructor"&&t.push(r);return t}var lie=oie,cie=VS,uie=oC;function die(e){return e!=null&&uie(e.length)&&!cie(e)}var _p=die,fie=Yae,hie=lie,pie=_p;function mie(e){return pie(e)?fie(e):hie(e)}var hx=mie,vie=One,gie=zne,yie=hx;function xie(e){return vie(e,yie,gie)}var bie=xie,wA=bie,wie=1,jie=Object.prototype,_ie=jie.hasOwnProperty;function Sie(e,t,r,n,a,i){var s=r&wie,l=wA(e),c=l.length,u=wA(t),f=u.length;if(c!=f&&!s)return!1;for(var d=c;d--;){var h=l[d];if(!(s?h in t:_ie.call(t,h)))return!1}var p=i.get(e),y=i.get(t);if(p&&y)return p==t&&y==e;var m=!0;i.set(e,t),i.set(t,e);for(var g=s;++d<c;){h=l[d];var v=e[h],x=t[h];if(n)var b=s?n(x,v,h,t,e,i):n(v,x,h,e,t,i);if(!(b===void 0?v===x||a(v,x,r,n,i):b)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(m=!1)}return i.delete(e),i.delete(t),m}var Cie=Sie,Nie=zl,Pie=$i,Eie=Nie(Pie,"DataView"),Aie=Eie,kie=zl,Oie=$i,Tie=kie(Oie,"Promise"),Rie=Tie,Mie=zl,$ie=$i,Iie=Mie($ie,"Set"),W3=Iie,Die=zl,Lie=$i,Fie=Die(Lie,"WeakMap"),Bie=Fie,A1=Aie,k1=HS,O1=Rie,T1=W3,R1=Bie,H3=ys,Nd=XD,jA="[object Map]",zie="[object Object]",_A="[object Promise]",SA="[object Set]",CA="[object WeakMap]",NA="[object DataView]",Uie=Nd(A1),Vie=Nd(k1),Wie=Nd(O1),Hie=Nd(T1),qie=Nd(R1),qo=H3;(A1&&qo(new A1(new ArrayBuffer(1)))!=NA||k1&&qo(new k1)!=jA||O1&&qo(O1.resolve())!=_A||T1&&qo(new T1)!=SA||R1&&qo(new R1)!=CA)&&(qo=function(e){var t=H3(e),r=t==zie?e.constructor:void 0,n=r?Nd(r):"";if(n)switch(n){case Uie:return NA;case Vie:return jA;case Wie:return _A;case Hie:return SA;case qie:return CA}return t});var Kie=qo,nb=R3,Gie=D3,Yie=Nne,Xie=Cie,PA=Kie,EA=zn,AA=B3,Qie=U3,Zie=1,kA="[object Arguments]",OA="[object Array]",mm="[object Object]",Jie=Object.prototype,TA=Jie.hasOwnProperty;function ese(e,t,r,n,a,i){var s=EA(e),l=EA(t),c=s?OA:PA(e),u=l?OA:PA(t);c=c==kA?mm:c,u=u==kA?mm:u;var f=c==mm,d=u==mm,h=c==u;if(h&&AA(e)){if(!AA(t))return!1;s=!0,f=!1}if(h&&!f)return i||(i=new nb),s||Qie(e)?Gie(e,t,r,n,a,i):Yie(e,t,c,r,n,a,i);if(!(r&Zie)){var p=f&&TA.call(e,"__wrapped__"),y=d&&TA.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,g=y?t.value():t;return i||(i=new nb),a(m,g,r,n,i)}}return h?(i||(i=new nb),Xie(e,t,r,n,a,i)):!1}var tse=ese,rse=tse,RA=xs;function q3(e,t,r,n,a){return e===t?!0:e==null||t==null||!RA(e)&&!RA(t)?e!==e&&t!==t:rse(e,t,r,n,q3,a)}var lC=q3,nse=R3,ase=lC,ise=1,sse=2;function ose(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],f=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new nse;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?ase(f,u,ise|sse,n,d):h))return!1}}return!0}var lse=ose,cse=Po;function use(e){return e===e&&!cse(e)}var K3=use,dse=K3,fse=hx;function hse(e){for(var t=fse(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,dse(a)]}return t}var pse=hse;function mse(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var G3=mse,vse=lse,gse=pse,yse=G3;function xse(e){var t=gse(e);return t.length==1&&t[0][2]?yse(t[0][0],t[0][1]):function(r){return r===e||vse(r,e,t)}}var bse=xse;function wse(e,t){return e!=null&&t in Object(e)}var jse=wse,_se=t3,Sse=iC,Cse=zn,Nse=sC,Pse=oC,Ese=Qy;function Ase(e,t,r){t=_se(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=Ese(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Pse(a)&&Nse(s,a)&&(Cse(e)||Sse(e)))}var kse=Ase,Ose=jse,Tse=kse;function Rse(e,t){return e!=null&&Tse(e,t,Ose)}var Mse=Rse,$se=lC,Ise=r3,Dse=Mse,Lse=US,Fse=K3,Bse=G3,zse=Qy,Use=1,Vse=2;function Wse(e,t){return Lse(e)&&Fse(t)?Bse(zse(e),t):function(r){var n=Ise(r,e);return n===void 0&&n===t?Dse(r,e):$se(t,n,Use|Vse)}}var Hse=Wse;function qse(e){return e}var Pd=qse;function Kse(e){return function(t){return t==null?void 0:t[e]}}var Gse=Kse,Yse=YS;function Xse(e){return function(t){return Yse(t,e)}}var Qse=Xse,Zse=Gse,Jse=Qse,eoe=US,toe=Qy;function roe(e){return eoe(e)?Zse(toe(e)):Jse(e)}var noe=roe,aoe=bse,ioe=Hse,soe=Pd,ooe=zn,loe=noe;function coe(e){return typeof e=="function"?e:e==null?soe:typeof e=="object"?ooe(e)?ioe(e[0],e[1]):aoe(e):loe(e)}var Ii=coe;function uoe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Y3=uoe;function doe(e){return e!==e}var foe=doe;function hoe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var poe=hoe,moe=Y3,voe=foe,goe=poe;function yoe(e,t,r){return t===t?goe(e,t,r):moe(e,voe,r)}var xoe=yoe,boe=xoe;function woe(e,t){var r=e==null?0:e.length;return!!r&&boe(e,t,0)>-1}var joe=woe;function _oe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Soe=_oe;function Coe(){}var Noe=Coe,ab=W3,Poe=Noe,Eoe=aC,Aoe=1/0,koe=ab&&1/Eoe(new ab([,-0]))[1]==Aoe?function(e){return new ab(e)}:Poe,Ooe=koe,Toe=M3,Roe=joe,Moe=Soe,$oe=I3,Ioe=Ooe,Doe=aC,Loe=200;function Foe(e,t,r){var n=-1,a=Roe,i=e.length,s=!0,l=[],c=l;if(r)s=!1,a=Moe;else if(i>=Loe){var u=t?null:Ioe(e);if(u)return Doe(u);s=!1,a=$oe,c=new Toe}else c=t?[]:l;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,s&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else a(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var Boe=Foe,zoe=Ii,Uoe=Boe;function Voe(e,t){return e&&e.length?Uoe(e,zoe(t)):[]}var Woe=Voe;const MA=wt(Woe);function X3(e,t,r){return t===!0?MA(e,r):ze(t)?MA(e,t):e}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}var Hoe=["ref"];function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z3(n.key),n)}}function Koe(e,t,r){return t&&IA(e.prototype,t),r&&IA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Goe(e,t,r){return t=Zv(t),Yoe(e,Q3()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function Yoe(e,t){if(t&&(bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xoe(e)}function Xoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q3=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function Qoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M1(e,t)}function M1(e,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M1(e,t)}function px(e,t,r){return t=Z3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z3(e){var t=Zoe(e,"string");return bu(t)=="symbol"?t:t+""}function Zoe(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Joe(e,t){if(e==null)return{};var r=ele(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ele(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tle(e){return e.value}function rle(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var r=Joe(t,Hoe);return O.createElement(nC,r)}var DA=1,Gr=function(e){function t(){var r;qoe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Goe(this,t,[].concat(a)),px(r,"lastBoundingBox",{width:-1,height:-1}),r}return Qoe(t,e),Koe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>DA||Math.abs(a.height-this.lastBoundingBox.height)>DA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((f||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Fi(Fi({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=Fi(Fi({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},rle(i,Fi(Fi({},this.props),{},{payload:X3(f,u,tle)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Fi(Fi({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&fe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);px(Gr,"displayName","Legend");px(Gr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LA=jp,nle=iC,ale=zn,FA=LA?LA.isConcatSpreadable:void 0;function ile(e){return ale(e)||nle(e)||!!(FA&&e&&e[FA])}var sle=ile,ole=L3,lle=sle;function J3(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=lle),a||(a=[]);++i<s;){var l=e[i];t>0&&r(l)?t>1?J3(l,t-1,r,n,a):ole(a,l):n||(a[a.length]=l)}return a}var eL=J3;function cle(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var ule=cle,dle=ule,fle=dle(),hle=fle,ple=hle,mle=hx;function vle(e,t){return e&&ple(e,t,mle)}var tL=vle,gle=_p;function yle(e,t){return function(r,n){if(r==null)return r;if(!gle(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var xle=yle,ble=tL,wle=xle,jle=wle(ble),cC=jle,_le=cC,Sle=_p;function Cle(e,t){var r=-1,n=Sle(e)?Array(e.length):[];return _le(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var rL=Cle;function Nle(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Ple=Nle,BA=xd;function Ele(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=BA(e),s=t!==void 0,l=t===null,c=t===t,u=BA(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}var Ale=Ele,kle=Ale;function Ole(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++n<s;){var c=kle(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Tle=Ole,ib=GS,Rle=YS,Mle=Ii,$le=rL,Ile=Ple,Dle=z3,Lle=Tle,Fle=Pd,Ble=zn;function zle(e,t,r){t.length?t=ib(t,function(i){return Ble(i)?function(s){return Rle(s,i.length===1?i[0]:i)}:i}):t=[Fle];var n=-1;t=ib(t,Dle(Mle));var a=$le(e,function(i,s,l){var c=ib(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Ile(a,function(i,s){return Lle(i,s,r)})}var Ule=zle;function Vle(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Wle=Vle,Hle=Wle,zA=Math.max;function qle(e,t,r){return t=zA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=zA(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),Hle(e,this,l)}}var Kle=qle;function Gle(e){return function(){return e}}var Yle=Gle,Xle=zl,Qle=function(){try{var e=Xle(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nL=Qle,Zle=Yle,UA=nL,Jle=Pd,ece=UA?function(e,t){return UA(e,"toString",{configurable:!0,enumerable:!1,value:Zle(t),writable:!0})}:Jle,tce=ece,rce=800,nce=16,ace=Date.now;function ice(e){var t=0,r=0;return function(){var n=ace(),a=nce-(n-r);if(r=n,a>0){if(++t>=rce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sce=ice,oce=tce,lce=sce,cce=lce(oce),uce=cce,dce=Pd,fce=Kle,hce=uce;function pce(e,t){return hce(fce(e,t,dce),e+"")}var mce=pce,vce=WS,gce=_p,yce=sC,xce=Po;function bce(e,t,r){if(!xce(r))return!1;var n=typeof t;return(n=="number"?gce(r)&&yce(t,r.length):n=="string"&&t in r)?vce(r[t],e):!1}var mx=bce,wce=eL,jce=Ule,_ce=mce,VA=mx,Sce=_ce(function(e,t){if(e==null)return[];var r=t.length;return r>1&&VA(e,t[0],t[1])?t=[]:r>2&&VA(t[0],t[1],t[2])&&(t=[t[0]]),jce(e,wce(t,1),[])}),Cce=Sce;const uC=wt(Cce);function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$1.apply(this,arguments)}function Nce(e,t){return kce(e)||Ace(e,t)||Ece(e,t)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ace(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function kce(e){if(Array.isArray(e))return e}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){Oce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oce(e,t,r){return t=Tce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tce(e){var t=Rce(e,"string");return Eh(t)=="symbol"?t:t+""}function Rce(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mce(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var $ce=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,v=t.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(f&&f.length){var R={padding:0,margin:0},T=(h?uC(f,h):f).map(function(P,$){if(P.type==="none")return null;var I=sb({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},l),M=P.formatter||d||Mce,D=P.value,L=P.name,U=D,X=L;if(M&&U!=null&&X!=null){var G=M(D,L,P,$,f);if(Array.isArray(G)){var te=Nce(G,2);U=te[0],X=te[1]}else U=G}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:I},Or(X)?O.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Or(X)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},U),O.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:R},T)}return null},_=sb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=sb({margin:0},u),S=!Fe(m),C=S?m:"",N=Ye("recharts-default-tooltip",p),A=Ye("recharts-tooltip-label",y);S&&g&&f!==void 0&&f!==null&&(C=g(m,f));var E=x?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",$1({className:N,style:_},E),O.createElement("p",{className:A,style:j},O.isValidElement(C)?C:"".concat(C)),b())};function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function vm(e,t,r){return t=Ice(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ice(e){var t=Dce(e,"string");return Ah(t)=="symbol"?t:t+""}function Dce(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yd="recharts-tooltip-wrapper",Lce={visibility:"hidden"};function Fce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ye(Yd,vm(vm(vm(vm({},"".concat(Yd,"-right"),fe(r)&&t&&fe(t.x)&&r>=t.x),"".concat(Yd,"-left"),fe(r)&&t&&fe(t.x)&&r<t.x),"".concat(Yd,"-bottom"),fe(n)&&t&&fe(t.y)&&n>=t.y),"".concat(Yd,"-top"),fe(n)&&t&&fe(t.y)&&n<t.y))}function qA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&fe(i[n]))return i[n];var f=r[n]-l-a,d=r[n]+a;if(t[n])return s[n]?f:d;if(s[n]){var h=f,p=c[n];return h<p?Math.max(d,c[n]):Math.max(f,c[n])}var y=d+l,m=c[n]+u;return y>m?Math.max(f,c[n]):Math.max(d,c[n])}function Bce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function zce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return s.height>0&&s.width>0&&r?(f=qA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),d=qA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Bce({translateX:f,translateY:d,useTranslate3d:l})):u=Lce,{cssProperties:u,cssClasses:Fce({translateX:f,translateY:d,coordinate:r})}}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){D1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iL(n.key),n)}}function Wce(e,t,r){return t&&Vce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hce(e,t,r){return t=Jv(t),qce(e,aL()?Reflect.construct(t,r||[],Jv(e).constructor):t.apply(e,r))}function qce(e,t){if(t&&(wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kce(e)}function Kce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(e)}function Gce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I1(e,t)}function I1(e,t){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I1(e,t)}function D1(e,t,r){return t=iL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iL(e){var t=Yce(e,"string");return wu(t)=="symbol"?t:t+""}function Yce(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YA=1,Xce=function(e){function t(){var r;Uce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Hce(this,t,[].concat(a)),D1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),D1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return Gce(t,e),Wce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>YA||Math.abs(n.height-this.state.lastBoundingBox.height)>YA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,y=a.position,m=a.reverseDirection,g=a.useTranslate3d,v=a.viewBox,x=a.wrapperStyle,b=zce({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:v}),_=b.cssClasses,j=b.cssProperties,S=GA(GA({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return O.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(N){n.wrapperNode=N}},u)}}])}(w.PureComponent),Qce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wa={isSsr:Qce(),get:function(t){return wa[t]},set:function(t,r){if(typeof t=="string")wa[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){wa[a]=t[a]})}}};function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){dC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oL(n.key),n)}}function eue(e,t,r){return t&&Jce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tue(e,t,r){return t=eg(t),rue(e,sL()?Reflect.construct(t,r||[],eg(e).constructor):t.apply(e,r))}function rue(e,t){if(t&&(ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nue(e)}function nue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sL=function(){return!!e})()}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(e)}function aue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L1(e,t)}function L1(e,t){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L1(e,t)}function dC(e,t,r){return t=oL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oL(e){var t=iue(e,"string");return ju(t)=="symbol"?t:t+""}function iue(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sue(e){return e.dataKey}function oue(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement($ce,t)}var Ft=function(e){function t(){return Zce(this,t),tue(this,t,arguments)}return aue(t,e),eue(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,y=a.payload,m=a.payloadUniqBy,g=a.position,v=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,_=a.wrapperStyle,j=y??[];d&&j.length&&(j=X3(y.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),m,sue));var S=j.length>0;return O.createElement(Xce,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:S,offset:p,position:g,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:_},oue(u,QA(QA({},this.props),{},{payload:j})))}}])}(w.PureComponent);dC(Ft,"displayName","Tooltip");dC(Ft,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lue=$i,cue=function(){return lue.Date.now()},uue=cue,due=/\s/;function fue(e){for(var t=e.length;t--&&due.test(e.charAt(t)););return t}var hue=fue,pue=hue,mue=/^\s+/;function vue(e){return e&&e.slice(0,pue(e)+1).replace(mue,"")}var gue=vue,yue=gue,ZA=Po,xue=xd,JA=NaN,bue=/^[-+]0x[0-9a-f]+$/i,wue=/^0b[01]+$/i,jue=/^0o[0-7]+$/i,_ue=parseInt;function Sue(e){if(typeof e=="number")return e;if(xue(e))return JA;if(ZA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ZA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=yue(e);var r=wue.test(e);return r||jue.test(e)?_ue(e.slice(2),r?2:8):bue.test(e)?JA:+e}var lL=Sue,Cue=Po,ob=uue,ek=lL,Nue="Expected a function",Pue=Math.max,Eue=Math.min;function Aue(e,t,r){var n,a,i,s,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Nue);t=ek(t)||0,Cue(r)&&(f=!!r.leading,d="maxWait"in r,i=d?Pue(ek(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var C=n,N=a;return n=a=void 0,u=S,s=e.apply(N,C),s}function y(S){return u=S,l=setTimeout(v,t),f?p(S):s}function m(S){var C=S-c,N=S-u,A=t-C;return d?Eue(A,i-N):A}function g(S){var C=S-c,N=S-u;return c===void 0||C>=t||C<0||d&&N>=i}function v(){var S=ob();if(g(S))return x(S);l=setTimeout(v,m(S))}function x(S){return l=void 0,h&&n?p(S):(n=a=void 0,s)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?s:x(ob())}function j(){var S=ob(),C=g(S);if(n=arguments,a=this,c=S,C){if(l===void 0)return y(c);if(d)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),s}return j.cancel=b,j.flush=_,j}var kue=Aue,Oue=kue,Tue=Po,Rue="Expected a function";function Mue(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Rue);return Tue(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Oue(e,t,{leading:n,maxWait:t,trailing:a})}var $ue=Mue;const cL=wt($ue);function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(r),!0).forEach(function(n){Iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iue(e,t,r){return t=Due(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Due(e){var t=Lue(e,"string");return kh(t)=="symbol"?t:t+""}function Lue(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fue(e,t){return Vue(e)||Uue(e,t)||zue(e,t)||Bue()}function Bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zue(e,t){if(e){if(typeof e=="string")return rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(e,t)}}function rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Vue(e){if(Array.isArray(e))return e}var an=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,y=e.debounce,m=y===void 0?0:y,g=e.id,v=e.className,x=e.onResize,b=e.style,_=b===void 0?{}:b,j=w.useRef(null),S=w.useRef();S.current=x,w.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=w.useState({containerWidth:a.width,containerHeight:a.height}),N=Fue(C,2),A=N[0],E=N[1],k=w.useCallback(function(T,P){E(function($){var I=Math.round(T),M=Math.round(P);return $.containerWidth===I&&$.containerHeight===M?$:{containerWidth:I,containerHeight:M}})},[]);w.useEffect(function(){var T=function(L){var U,X=L[0].contentRect,G=X.width,te=X.height;k(G,te),(U=S.current)===null||U===void 0||U.call(S,G,te)};m>0&&(T=cL(T,m,{trailing:!0,leading:!1}));var P=new ResizeObserver(T),$=j.current.getBoundingClientRect(),I=$.width,M=$.height;return k(I,M),P.observe(j.current),function(){P.disconnect()}},[k,m]);var R=w.useMemo(function(){var T=A.containerWidth,P=A.containerHeight;if(T<0||P<0)return null;Ja(nl(s)||nl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ja(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=nl(s)?T:s,I=nl(c)?P:c;r&&r>0&&($?I=$/r:I&&($=I*r),h&&I>h&&(I=h)),Ja($>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,I,s,c,f,d,r);var M=!Array.isArray(p)&&ts(p.type).endsWith("Chart");return O.Children.map(p,function(D){return O.isValidElement(D)?w.cloneElement(D,gm({width:$,height:I},M?{style:gm({height:"100%",width:"100%",maxHeight:I,maxWidth:$},D.props.style)}:{})):D})},[r,p,c,h,d,f,A,s]);return O.createElement("div",{id:g?"".concat(g):void 0,className:Ye("recharts-responsive-container",v),style:gm(gm({},_),{},{width:s,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:j},R)}),Sp=function(t){return null};Sp.displayName="Cell";function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){Wue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wue(e,t,r){return t=Hue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hue(e){var t=que(e,"string");return Oh(t)=="symbol"?t:t+""}function que(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zl={widthCache:{},cacheCount:0},Kue=2e3,Gue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ak="recharts_measurement_span";function Yue(e){var t=F1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Tf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wa.isSsr)return{width:0,height:0};var n=Yue(r),a=JSON.stringify({text:t,copyStyle:n});if(Zl.widthCache[a])return Zl.widthCache[a];try{var i=document.getElementById(ak);i||(i=document.createElement("span"),i.setAttribute("id",ak),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=F1(F1({},Gue),n);Object.assign(i.style,s),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Zl.widthCache[a]=c,++Zl.cacheCount>Kue&&(Zl.cacheCount=0,Zl.widthCache={}),c}catch{return{width:0,height:0}}},Xue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function tg(e,t){return ede(e)||Jue(e,t)||Zue(e,t)||Que()}function Que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zue(e,t){if(e){if(typeof e=="string")return ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(e,t)}}function ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function ede(e){if(Array.isArray(e))return e}function tde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nde(n.key),n)}}function rde(e,t,r){return t&&sk(e.prototype,t),r&&sk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nde(e){var t=ade(e,"string");return Th(t)=="symbol"?t:t+""}function ade(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ok=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ide=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ode=Object.keys(uL),kc="NaN";function lde(e,t){return e*uL[t]}var ym=function(){function e(t,r){tde(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ide.test(r)&&(this.num=NaN,this.unit=""),ode.includes(r)&&(this.num=lde(t,r),this.unit="px")}return rde(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=sde.exec(r))!==null&&n!==void 0?n:[],i=tg(a,3),s=i[1],l=i[2];return new e(parseFloat(s),l??"")}}])}();function dL(e){if(e.includes(kc))return kc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ok.exec(t))!==null&&r!==void 0?r:[],a=tg(n,4),i=a[1],s=a[2],l=a[3],c=ym.parse(i??""),u=ym.parse(l??""),f=s==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return kc;t=t.replace(ok,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=lk.exec(t))!==null&&d!==void 0?d:[],p=tg(h,4),y=p[1],m=p[2],g=p[3],v=ym.parse(y??""),x=ym.parse(g??""),b=m==="+"?v.add(x):v.subtract(x);if(b.isNaN())return kc;t=t.replace(lk,b.toString())}return t}var ck=/\(([^()]*)\)/;function cde(e){for(var t=e;t.includes("(");){var r=ck.exec(t),n=tg(r,2),a=n[1];t=t.replace(ck,dL(a))}return t}function ude(e){var t=e.replace(/\s+/g,"");return t=cde(t),t=dL(t),t}function dde(e){try{return ude(e)}catch{return kc}}function lb(e){var t=dde(e.slice(5,-1));return t===kc?"":t}var fde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hde=["dx","dy","angle","className","breakAll"];function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(this,arguments)}function uk(e,t){if(e==null)return{};var r=pde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dk(e,t){return yde(e)||gde(e,t)||vde(e,t)||mde()}function mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vde(e,t){if(e){if(typeof e=="string")return fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(e,t)}}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function yde(e){if(Array.isArray(e))return e}var fL=/[ \f\n\r\t\v\u2028\u2029]+/,hL=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Fe(r)||(n?i=r.toString().split(""):i=r.toString().split(fL));var s=i.map(function(c){return{word:c,width:Tf(c,a).width}}),l=n?0:Tf("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},xde=function(t,r,n,a,i){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=fe(s),d=l,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(I,M){var D=M.word,L=M.width,U=I[I.length-1];if(U&&(a==null||i||U.width+L+n<Number(a)))U.words.push(D),U.width+=L+n;else{var X={words:[D],width:L};I.push(X)}return I},[])},p=h(r),y=function($){return $.reduce(function(I,M){return I.width>M.width?I:M})};if(!f)return p;for(var m="",g=function($){var I=d.slice(0,$),M=hL({breakAll:u,style:c,children:I+m}).wordsWithComputedWidth,D=h(M),L=D.length>s||y(D).width>Number(a);return[L,D]},v=0,x=d.length-1,b=0,_;v<=x&&b<=d.length-1;){var j=Math.floor((v+x)/2),S=j-1,C=g(S),N=dk(C,2),A=N[0],E=N[1],k=g(j),R=dk(k,1),T=R[0];if(!A&&!T&&(v=j+1),A&&T&&(x=j-1),!A&&T){_=E;break}b++}return _||p},hk=function(t){var r=Fe(t)?[]:t.toString().split(fL);return[{words:r}]},bde=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!wa.isSsr){var c,u,f=hL({breakAll:s,children:a,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return hk(a);return xde({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return hk(a)},pk="#808080",El=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,v=g===void 0?pk:g,x=uk(t,fde),b=w.useMemo(function(){return bde({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),_=x.dx,j=x.dy,S=x.angle,C=x.className,N=x.breakAll,A=uk(x,hde);if(!Or(n)||!Or(i))return null;var E=n+(fe(_)?_:0),k=i+(fe(j)?j:0),R;switch(m){case"start":R=lb("calc(".concat(u,")"));break;case"middle":R=lb("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:R=lb("calc(".concat(b.length-1," * -").concat(l,")"));break}var T=[];if(d){var P=b[0].width,$=x.width;T.push("scale(".concat((fe($)?$/P:1)/P,")"))}return S&&T.push("rotate(".concat(S,", ").concat(E,", ").concat(k,")")),T.length&&(A.transform=T.join(" ")),O.createElement("text",B1({},Oe(A,!0),{x:E,y:k,className:Ye("recharts-text",C),textAnchor:p,fill:v.includes("url")?pk:v}),b.map(function(I,M){var D=I.words.join(N?"":" ");return O.createElement("tspan",{x:E,dy:M===0?R:l,key:"".concat(D,"-").concat(M)},D)}))};function uo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fC(e){let t,r,n;e.length!==2?(t=uo,r=(l,c)=>uo(e(l),c),n=(l,c)=>e(l)-c):(t=e===uo||e===wde?e:jde,r=e,n=e);function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function s(l,c,u=0,f=l.length){const d=a(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:s,right:i}}function jde(){return 0}function pL(e){return e===null?NaN:+e}function*_de(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Sde=fC(uo),Cp=Sde.right;fC(pL).center;class mk extends Map{constructor(t,r=Pde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(vk(this,t))}has(t){return super.has(vk(this,t))}set(t,r){return super.set(Cde(this,t),r)}delete(t){return super.delete(Nde(this,t))}}function vk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Cde({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Nde({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Pde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ede(e=uo){if(e===uo)return mL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ade=Math.sqrt(50),kde=Math.sqrt(10),Ode=Math.sqrt(2);function rg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Ade?10:i>=kde?5:i>=Ode?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?rg(e,t,r*2):[l,c,u]}function z1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?rg(t,e,r):rg(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function U1(e,t,r){return t=+t,e=+e,r=+r,rg(e,t,r)[2]}function V1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?U1(t,e,r):U1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function gk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function yk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vL(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?mL:Ede(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),y=Math.min(n,Math.floor(t+(c-u)*d/c+h));vL(e,t,p,y,a)}const i=e[t];let s=r,l=n;for(Xd(e,r,t),a(e[n],i)>0&&Xd(e,r,n);s<l;){for(Xd(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Xd(e,r,l):(++l,Xd(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Xd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Tde(e,t,r){if(e=Float64Array.from(_de(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return yk(e);if(t>=1)return gk(e);var n,a=(n-1)*t,i=Math.floor(a),s=gk(vL(e,i).subarray(0,i+1)),l=yk(e.subarray(i+1));return s+(l-s)*(a-i)}}function Rde(e,t,r=pL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function Mde(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const W1=Symbol("implicit");function hC(){var e=new mk,t=[],r=[],n=W1;function a(i){let s=e.get(i);if(s===void 0){if(n!==W1)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new mk;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return hC(t,r).unknown(n)},Pa.apply(a,arguments),a}function Rh(){var e=hC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,y=p?a:n,m=p?n:a;i=(m-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(m-y-i*(h-c))*f,s=i*(1-c),l&&(y=Math.round(y),s=Math.round(s));var g=Mde(h).map(function(v){return y+i*v});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return Rh(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Pa.apply(d(),arguments)}function gL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gL(t())},e}function Rf(){return gL(Rh.apply(null,arguments).paddingInner(1))}function pC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Np(){}var Mh=.7,ng=1/Mh,qc="\\s*([+-]?\\d+)\\s*",$h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$de=/^#([0-9a-f]{3,8})$/,Ide=new RegExp(`^rgb\\(${qc},${qc},${qc}\\)$`),Dde=new RegExp(`^rgb\\(${Ni},${Ni},${Ni}\\)$`),Lde=new RegExp(`^rgba\\(${qc},${qc},${qc},${$h}\\)$`),Fde=new RegExp(`^rgba\\(${Ni},${Ni},${Ni},${$h}\\)$`),Bde=new RegExp(`^hsl\\(${$h},${Ni},${Ni}\\)$`),zde=new RegExp(`^hsla\\(${$h},${Ni},${Ni},${$h}\\)$`),xk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pC(Np,Ih,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bk,formatHex:bk,formatHex8:Ude,formatHsl:Vde,formatRgb:wk,toString:wk});function bk(){return this.rgb().formatHex()}function Ude(){return this.rgb().formatHex8()}function Vde(){return xL(this).formatHsl()}function wk(){return this.rgb().formatRgb()}function Ih(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$de.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jk(t):r===3?new Mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ide.exec(e))?new Mn(t[1],t[2],t[3],1):(t=Dde.exec(e))?new Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lde.exec(e))?xm(t[1],t[2],t[3],t[4]):(t=Fde.exec(e))?xm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Bde.exec(e))?Ck(t[1],t[2]/100,t[3]/100,1):(t=zde.exec(e))?Ck(t[1],t[2]/100,t[3]/100,t[4]):xk.hasOwnProperty(e)?jk(xk[e]):e==="transparent"?new Mn(NaN,NaN,NaN,0):null}function jk(e){return new Mn(e>>16&255,e>>8&255,e&255,1)}function xm(e,t,r,n){return n<=0&&(e=t=r=NaN),new Mn(e,t,r,n)}function Wde(e){return e instanceof Np||(e=Ih(e)),e?(e=e.rgb(),new Mn(e.r,e.g,e.b,e.opacity)):new Mn}function H1(e,t,r,n){return arguments.length===1?Wde(e):new Mn(e,t,r,n??1)}function Mn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}pC(Mn,H1,yL(Np,{brighter(e){return e=e==null?ng:Math.pow(ng,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mh:Math.pow(Mh,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mn(gl(this.r),gl(this.g),gl(this.b),ag(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_k,formatHex:_k,formatHex8:Hde,formatRgb:Sk,toString:Sk}));function _k(){return`#${al(this.r)}${al(this.g)}${al(this.b)}`}function Hde(){return`#${al(this.r)}${al(this.g)}${al(this.b)}${al((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sk(){const e=ag(this.opacity);return`${e===1?"rgb(":"rgba("}${gl(this.r)}, ${gl(this.g)}, ${gl(this.b)}${e===1?")":`, ${e})`}`}function ag(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function al(e){return e=gl(e),(e<16?"0":"")+e.toString(16)}function Ck(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ga(e,t,r,n)}function xL(e){if(e instanceof Ga)return new Ga(e.h,e.s,e.l,e.opacity);if(e instanceof Np||(e=Ih(e)),!e)return new Ga;if(e instanceof Ga)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new Ga(s,l,c,e.opacity)}function qde(e,t,r,n){return arguments.length===1?xL(e):new Ga(e,t,r,n??1)}function Ga(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}pC(Ga,qde,yL(Np,{brighter(e){return e=e==null?ng:Math.pow(ng,e),new Ga(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mh:Math.pow(Mh,e),new Ga(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Mn(cb(e>=240?e-240:e+120,a,n),cb(e,a,n),cb(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ga(Nk(this.h),bm(this.s),bm(this.l),ag(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ag(this.opacity);return`${e===1?"hsl(":"hsla("}${Nk(this.h)}, ${bm(this.s)*100}%, ${bm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nk(e){return e=(e||0)%360,e<0?e+360:e}function bm(e){return Math.max(0,Math.min(1,e||0))}function cb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const mC=e=>()=>e;function Kde(e,t){return function(r){return e+r*t}}function Gde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Yde(e){return(e=+e)==1?bL:function(t,r){return r-t?Gde(t,r,e):mC(isNaN(t)?r:t)}}function bL(e,t){var r=t-e;return r?Kde(e,r):mC(isNaN(e)?t:e)}const Pk=function e(t){var r=Yde(t);function n(a,i){var s=r((a=H1(a)).r,(i=H1(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=bL(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function Xde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Qde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Zde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Ed(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function Jde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ig(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function efe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ed(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var q1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ub=new RegExp(q1.source,"g");function tfe(e){return function(){return e}}function rfe(e){return function(t){return e(t)+""}}function nfe(e,t){var r=q1.lastIndex=ub.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=q1.exec(e))&&(a=ub.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:ig(n,a)})),r=ub.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?rfe(c[0].x):tfe(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Ed(e,t){var r=typeof t,n;return t==null||r==="boolean"?mC(t):(r==="number"?ig:r==="string"?(n=Ih(t))?(t=n,Pk):nfe:t instanceof Ih?Pk:t instanceof Date?Jde:Qde(t)?Xde:Array.isArray(t)?Zde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?efe:ig)(e,t)}function vC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function afe(e,t){t===void 0&&(t=e,e=Ed);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function ife(e){return function(){return e}}function sg(e){return+e}var Ek=[0,1];function xn(e){return e}function K1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ife(isNaN(t)?NaN:.5)}function sfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ofe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=K1(a,n),i=r(s,i)):(n=K1(n,a),i=r(i,s)),function(l){return i(n(l))}}function lfe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=K1(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=Cp(e,l,1,n)-1;return i[c](a[c](l))}}function Pp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vx(){var e=Ek,t=Ek,r=Ed,n,a,i,s=xn,l,c,u;function f(){var h=Math.min(e.length,t.length);return s!==xn&&(s=sfe(e[0],e[h-1])),l=h>2?lfe:ofe,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((u||(u=l(t,e.map(n),ig)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,sg),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=vC,f()},d.clamp=function(h){return arguments.length?(s=h?!0:xn,f()):s!==xn},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,f()}}function gC(){return vx()(xn,xn)}function cfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function og(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _u(e){return e=og(Math.abs(e)),e?e[1]:NaN}function ufe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function dfe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ffe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dh(e){if(!(t=ffe.exec(e)))throw new Error("invalid format: "+e);var t;return new yC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dh.prototype=yC.prototype;function yC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}yC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hfe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var wL;function pfe(e,t){var r=og(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(wL=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+og(e,Math.max(0,t+i-1))[0]}function Ak(e,t){var r=og(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const kk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ak(e*100,t),r:Ak,s:pfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ok(e){return e}var Tk=Array.prototype.map,Rk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mfe(e){var t=e.grouping===void 0||e.thousands===void 0?Ok:ufe(Tk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Ok:dfe(Tk.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Dh(d);var h=d.fill,p=d.align,y=d.sign,m=d.symbol,g=d.zero,v=d.width,x=d.comma,b=d.precision,_=d.trim,j=d.type;j==="n"?(x=!0,j="g"):kk[j]||(b===void 0&&(b=12),_=!0,j="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=m==="$"?n:/[%p]/.test(j)?s:"",N=kk[j],A=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(k){var R=S,T=C,P,$,I;if(j==="c")T=N(k)+T,k="";else{k=+k;var M=k<0||1/k<0;if(k=isNaN(k)?c:N(Math.abs(k),b),_&&(k=hfe(k)),M&&+k==0&&y!=="+"&&(M=!1),R=(M?y==="("?y:l:y==="-"||y==="("?"":y)+R,T=(j==="s"?Rk[8+wL/3]:"")+T+(M&&y==="("?")":""),A){for(P=-1,$=k.length;++P<$;)if(I=k.charCodeAt(P),48>I||I>57){T=(I===46?a+k.slice(P+1):k.slice(P))+T,k=k.slice(0,P);break}}}x&&!g&&(k=t(k,1/0));var D=R.length+k.length+T.length,L=D<v?new Array(v-D+1).join(h):"";switch(x&&g&&(k=t(L+k,L.length?v-T.length:1/0),L=""),p){case"<":k=R+k+T+L;break;case"=":k=R+L+k+T;break;case"^":k=L.slice(0,D=L.length>>1)+R+k+T+L.slice(D);break;default:k=L+R+k+T;break}return i(k)}return E.toString=function(){return d+""},E}function f(d,h){var p=u((d=Dh(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(_u(h)/3)))*3,m=Math.pow(10,-y),g=Rk[8+y/3];return function(v){return p(m*v)+g}}return{format:u,formatPrefix:f}}var wm,xC,jL;vfe({thousands:",",grouping:[3],currency:["$",""]});function vfe(e){return wm=mfe(e),xC=wm.format,jL=wm.formatPrefix,wm}function gfe(e){return Math.max(0,-_u(Math.abs(e)))}function yfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_u(t)/3)))*3-_u(Math.abs(e)))}function xfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_u(t)-_u(e))+1}function _L(e,t,r,n){var a=V1(e,t,r),i;switch(n=Dh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=yfe(a,s))&&(n.precision=i),jL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xfe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=gfe(a))&&(n.precision=i-(n.type==="%")*2);break}}return xC(n)}function Ao(e){var t=e.domain;return e.ticks=function(r){var n=t();return z1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return _L(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,f=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);f-- >0;){if(u=U1(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function lg(){var e=gC();return e.copy=function(){return Pp(e,lg())},Pa.apply(e,arguments),Ao(e)}function SL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return SL(e).unknown(t)},e=arguments.length?Array.from(e,sg):[0,1],Ao(r)}function CL(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Mk(e){return Math.log(e)}function $k(e){return Math.exp(e)}function bfe(e){return-Math.log(-e)}function wfe(e){return-Math.exp(-e)}function jfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _fe(e){return e===10?jfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Sfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ik(e){return(t,r)=>-e(-t,r)}function bC(e){const t=e(Mk,$k),r=t.domain;let n=10,a,i;function s(){return a=Sfe(n),i=_fe(n),r()[0]<0?(a=Ik(a),i=Ik(i),e(bfe,wfe)):e(Mk,$k),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=a(u),p=a(f),y,m;const g=l==null?10:+l;let v=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/i(-h):y*i(h),!(m<u)){if(m>f)break;v.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/i(-h):y*i(h),!(m<u)){if(m>f)break;v.push(m)}v.length*2<g&&(v=z1(u,f,g))}else v=z1(h,p,Math.min(p-h,g)).map(i);return d?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Dh(c)).precision==null&&(c.trim=!0),c=xC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(CL(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function NL(){const e=bC(vx()).domain([1,10]);return e.copy=()=>Pp(e,NL()).base(e.base()),Pa.apply(e,arguments),e}function Dk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Lk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wC(e){var t=1,r=e(Dk(t),Lk(t));return r.constant=function(n){return arguments.length?e(Dk(t=+n),Lk(t)):t},Ao(r)}function PL(){var e=wC(vx());return e.copy=function(){return Pp(e,PL()).constant(e.constant())},Pa.apply(e,arguments)}function Fk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Cfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nfe(e){return e<0?-e*e:e*e}function jC(e){var t=e(xn,xn),r=1;function n(){return r===1?e(xn,xn):r===.5?e(Cfe,Nfe):e(Fk(r),Fk(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ao(t)}function _C(){var e=jC(vx());return e.copy=function(){return Pp(e,_C()).exponent(e.exponent())},Pa.apply(e,arguments),e}function Pfe(){return _C.apply(null,arguments).exponent(.5)}function Bk(e){return Math.sign(e)*e*e}function Efe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EL(){var e=gC(),t=[0,1],r=!1,n;function a(i){var s=Efe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(Bk(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,sg)).map(Bk)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return EL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Pa.apply(a,arguments),Ao(a)}function AL(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=Rde(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Cp(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(uo),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return AL().domain(e).range(t).unknown(n)},Pa.apply(i,arguments)}function kL(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Cp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return kL().domain([e,t]).range(a).unknown(i)},Pa.apply(Ao(s),arguments)}function OL(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Cp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return OL().domain(e).range(t).unknown(r)},Pa.apply(a,arguments)}const db=new Date,fb=new Date;function Mr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>Mr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(db.setTime(+i),fb.setTime(+s),e(db),e(fb),Math.floor(r(db,fb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const cg=Mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):cg);cg.range;const Xi=1e3,xa=Xi*60,Qi=xa*60,cs=Qi*24,SC=cs*7,zk=cs*30,hb=cs*365,il=Mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getUTCSeconds());il.range;const CC=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getMinutes());CC.range;const NC=Mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getUTCMinutes());NC.range;const PC=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi-e.getMinutes()*xa)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getHours());PC.range;const EC=Mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCHours());EC.range;const Ep=Mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xa)/cs,e=>e.getDate()-1);Ep.range;const gx=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cs,e=>e.getUTCDate()-1);gx.range;const TL=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cs,e=>Math.floor(e/cs));TL.range;function Ul(e){return Mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xa)/SC)}const yx=Ul(0),ug=Ul(1),Afe=Ul(2),kfe=Ul(3),Su=Ul(4),Ofe=Ul(5),Tfe=Ul(6);yx.range;ug.range;Afe.range;kfe.range;Su.range;Ofe.range;Tfe.range;function Vl(e){return Mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/SC)}const xx=Vl(0),dg=Vl(1),Rfe=Vl(2),Mfe=Vl(3),Cu=Vl(4),$fe=Vl(5),Ife=Vl(6);xx.range;dg.range;Rfe.range;Mfe.range;Cu.range;$fe.range;Ife.range;const AC=Mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());AC.range;const kC=Mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kC.range;const us=Mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());us.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});us.range;const ds=Mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ds.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ds.range;function RL(e,t,r,n,a,i){const s=[[il,1,Xi],[il,5,5*Xi],[il,15,15*Xi],[il,30,30*Xi],[i,1,xa],[i,5,5*xa],[i,15,15*xa],[i,30,30*xa],[a,1,Qi],[a,3,3*Qi],[a,6,6*Qi],[a,12,12*Qi],[n,1,cs],[n,2,2*cs],[r,1,SC],[t,1,zk],[t,3,3*zk],[e,1,hb]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),y=p?p.range(u,+f+1):[];return h?y.reverse():y}function c(u,f,d){const h=Math.abs(f-u)/d,p=fC(([,,g])=>g).right(s,h);if(p===s.length)return e.every(V1(u/hb,f/hb,d));if(p===0)return cg.every(Math.max(V1(u,f,d),1));const[y,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return y.every(m)}return[l,c]}const[Dfe,Lfe]=RL(ds,kC,xx,TL,EC,NC),[Ffe,Bfe]=RL(us,AC,yx,Ep,PC,CC);function pb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function zfe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Zd(a),f=Jd(a),d=Zd(i),h=Jd(i),p=Zd(s),y=Jd(s),m=Zd(l),g=Jd(l),v=Zd(c),x=Jd(c),b={a:M,A:D,b:L,B:U,c:null,d:Kk,e:Kk,f:uhe,g:bhe,G:jhe,H:ohe,I:lhe,j:che,L:ML,m:dhe,M:fhe,p:X,q:G,Q:Xk,s:Qk,S:hhe,u:phe,U:mhe,V:vhe,w:ghe,W:yhe,x:null,X:null,y:xhe,Y:whe,Z:_he,"%":Yk},_={a:te,A:z,b:B,B:V,c:null,d:Gk,e:Gk,f:Phe,g:Dhe,G:Fhe,H:She,I:Che,j:Nhe,L:IL,m:Ehe,M:Ahe,p:H,q:ce,Q:Xk,s:Qk,S:khe,u:Ohe,U:The,V:Rhe,w:Mhe,W:$he,x:null,X:null,y:Ihe,Y:Lhe,Z:Bhe,"%":Yk},j={a:E,A:k,b:R,B:T,c:P,d:Hk,e:Hk,f:nhe,g:Wk,G:Vk,H:qk,I:qk,j:Jfe,L:rhe,m:Zfe,M:ehe,p:A,q:Qfe,Q:ihe,s:she,S:the,u:qfe,U:Kfe,V:Gfe,w:Hfe,W:Yfe,x:$,X:I,y:Wk,Y:Vk,Z:Xfe,"%":ahe};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(Q,Z){return function(W){var q=[],de=-1,ye=0,Ae=Q.length,Ie,Ge,pt;for(W instanceof Date||(W=new Date(+W));++de<Ae;)Q.charCodeAt(de)===37&&(q.push(Q.slice(ye,de)),(Ge=Uk[Ie=Q.charAt(++de)])!=null?Ie=Q.charAt(++de):Ge=Ie==="e"?" ":"0",(pt=Z[Ie])&&(Ie=pt(W,Ge)),q.push(Ie),ye=de+1);return q.push(Q.slice(ye,de)),q.join("")}}function C(Q,Z){return function(W){var q=Qd(1900,void 0,1),de=N(q,Q,W+="",0),ye,Ae;if(de!=W.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(Z&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ye=mb(Qd(q.y,0,1)),Ae=ye.getUTCDay(),ye=Ae>4||Ae===0?dg.ceil(ye):dg(ye),ye=gx.offset(ye,(q.V-1)*7),q.y=ye.getUTCFullYear(),q.m=ye.getUTCMonth(),q.d=ye.getUTCDate()+(q.w+6)%7):(ye=pb(Qd(q.y,0,1)),Ae=ye.getDay(),ye=Ae>4||Ae===0?ug.ceil(ye):ug(ye),ye=Ep.offset(ye,(q.V-1)*7),q.y=ye.getFullYear(),q.m=ye.getMonth(),q.d=ye.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ae="Z"in q?mb(Qd(q.y,0,1)).getUTCDay():pb(Qd(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ae+5)%7:q.w+q.U*7-(Ae+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,mb(q)):pb(q)}}function N(Q,Z,W,q){for(var de=0,ye=Z.length,Ae=W.length,Ie,Ge;de<ye;){if(q>=Ae)return-1;if(Ie=Z.charCodeAt(de++),Ie===37){if(Ie=Z.charAt(de++),Ge=j[Ie in Uk?Z.charAt(de++):Ie],!Ge||(q=Ge(Q,W,q))<0)return-1}else if(Ie!=W.charCodeAt(q++))return-1}return q}function A(Q,Z,W){var q=u.exec(Z.slice(W));return q?(Q.p=f.get(q[0].toLowerCase()),W+q[0].length):-1}function E(Q,Z,W){var q=p.exec(Z.slice(W));return q?(Q.w=y.get(q[0].toLowerCase()),W+q[0].length):-1}function k(Q,Z,W){var q=d.exec(Z.slice(W));return q?(Q.w=h.get(q[0].toLowerCase()),W+q[0].length):-1}function R(Q,Z,W){var q=v.exec(Z.slice(W));return q?(Q.m=x.get(q[0].toLowerCase()),W+q[0].length):-1}function T(Q,Z,W){var q=m.exec(Z.slice(W));return q?(Q.m=g.get(q[0].toLowerCase()),W+q[0].length):-1}function P(Q,Z,W){return N(Q,t,Z,W)}function $(Q,Z,W){return N(Q,r,Z,W)}function I(Q,Z,W){return N(Q,n,Z,W)}function M(Q){return s[Q.getDay()]}function D(Q){return i[Q.getDay()]}function L(Q){return c[Q.getMonth()]}function U(Q){return l[Q.getMonth()]}function X(Q){return a[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function te(Q){return s[Q.getUTCDay()]}function z(Q){return i[Q.getUTCDay()]}function B(Q){return c[Q.getUTCMonth()]}function V(Q){return l[Q.getUTCMonth()]}function H(Q){return a[+(Q.getUTCHours()>=12)]}function ce(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var Z=S(Q+="",b);return Z.toString=function(){return Q},Z},parse:function(Q){var Z=C(Q+="",!1);return Z.toString=function(){return Q},Z},utcFormat:function(Q){var Z=S(Q+="",_);return Z.toString=function(){return Q},Z},utcParse:function(Q){var Z=C(Q+="",!0);return Z.toString=function(){return Q},Z}}}var Uk={"-":"",_:" ",0:"0"},Br=/^\s*\d+/,Ufe=/^%/,Vfe=/[\\^$*+?|[\]().{}]/g;function yt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Wfe(e){return e.replace(Vfe,"\\$&")}function Zd(e){return new RegExp("^(?:"+e.map(Wfe).join("|")+")","i")}function Jd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Hfe(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qfe(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Kfe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Gfe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Yfe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Vk(e,t,r){var n=Br.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Wk(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Xfe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Qfe(e,t,r){var n=Br.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Zfe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Hk(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Jfe(e,t,r){var n=Br.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function qk(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ehe(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function the(e,t,r){var n=Br.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function rhe(e,t,r){var n=Br.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function nhe(e,t,r){var n=Br.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ahe(e,t,r){var n=Ufe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ihe(e,t,r){var n=Br.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function she(e,t,r){var n=Br.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Kk(e,t){return yt(e.getDate(),t,2)}function ohe(e,t){return yt(e.getHours(),t,2)}function lhe(e,t){return yt(e.getHours()%12||12,t,2)}function che(e,t){return yt(1+Ep.count(us(e),e),t,3)}function ML(e,t){return yt(e.getMilliseconds(),t,3)}function uhe(e,t){return ML(e,t)+"000"}function dhe(e,t){return yt(e.getMonth()+1,t,2)}function fhe(e,t){return yt(e.getMinutes(),t,2)}function hhe(e,t){return yt(e.getSeconds(),t,2)}function phe(e){var t=e.getDay();return t===0?7:t}function mhe(e,t){return yt(yx.count(us(e)-1,e),t,2)}function $L(e){var t=e.getDay();return t>=4||t===0?Su(e):Su.ceil(e)}function vhe(e,t){return e=$L(e),yt(Su.count(us(e),e)+(us(e).getDay()===4),t,2)}function ghe(e){return e.getDay()}function yhe(e,t){return yt(ug.count(us(e)-1,e),t,2)}function xhe(e,t){return yt(e.getFullYear()%100,t,2)}function bhe(e,t){return e=$L(e),yt(e.getFullYear()%100,t,2)}function whe(e,t){return yt(e.getFullYear()%1e4,t,4)}function jhe(e,t){var r=e.getDay();return e=r>=4||r===0?Su(e):Su.ceil(e),yt(e.getFullYear()%1e4,t,4)}function _he(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yt(t/60|0,"0",2)+yt(t%60,"0",2)}function Gk(e,t){return yt(e.getUTCDate(),t,2)}function She(e,t){return yt(e.getUTCHours(),t,2)}function Che(e,t){return yt(e.getUTCHours()%12||12,t,2)}function Nhe(e,t){return yt(1+gx.count(ds(e),e),t,3)}function IL(e,t){return yt(e.getUTCMilliseconds(),t,3)}function Phe(e,t){return IL(e,t)+"000"}function Ehe(e,t){return yt(e.getUTCMonth()+1,t,2)}function Ahe(e,t){return yt(e.getUTCMinutes(),t,2)}function khe(e,t){return yt(e.getUTCSeconds(),t,2)}function Ohe(e){var t=e.getUTCDay();return t===0?7:t}function The(e,t){return yt(xx.count(ds(e)-1,e),t,2)}function DL(e){var t=e.getUTCDay();return t>=4||t===0?Cu(e):Cu.ceil(e)}function Rhe(e,t){return e=DL(e),yt(Cu.count(ds(e),e)+(ds(e).getUTCDay()===4),t,2)}function Mhe(e){return e.getUTCDay()}function $he(e,t){return yt(dg.count(ds(e)-1,e),t,2)}function Ihe(e,t){return yt(e.getUTCFullYear()%100,t,2)}function Dhe(e,t){return e=DL(e),yt(e.getUTCFullYear()%100,t,2)}function Lhe(e,t){return yt(e.getUTCFullYear()%1e4,t,4)}function Fhe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Cu(e):Cu.ceil(e),yt(e.getUTCFullYear()%1e4,t,4)}function Bhe(){return"+0000"}function Yk(){return"%"}function Xk(e){return+e}function Qk(e){return Math.floor(+e/1e3)}var Jl,LL,FL;zhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zhe(e){return Jl=zfe(e),LL=Jl.format,Jl.parse,FL=Jl.utcFormat,Jl.utcParse,Jl}function Uhe(e){return new Date(e)}function Vhe(e){return e instanceof Date?+e:+new Date(+e)}function OC(e,t,r,n,a,i,s,l,c,u){var f=gC(),d=f.invert,h=f.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),x=u("%b %d"),b=u("%B"),_=u("%Y");function j(S){return(c(S)<S?p:l(S)<S?y:s(S)<S?m:i(S)<S?g:n(S)<S?a(S)<S?v:x:r(S)<S?b:_)(S)}return f.invert=function(S){return new Date(d(S))},f.domain=function(S){return arguments.length?h(Array.from(S,Vhe)):h().map(Uhe)},f.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},f.tickFormat=function(S,C){return C==null?j:u(C)},f.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(CL(C,S)):f},f.copy=function(){return Pp(f,OC(e,t,r,n,a,i,s,l,c,u))},f}function Whe(){return Pa.apply(OC(Ffe,Bfe,us,AC,yx,Ep,PC,CC,il,LL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hhe(){return Pa.apply(OC(Dfe,Lfe,ds,kC,xx,gx,EC,NC,il,FL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bx(){var e=0,t=1,r,n,a,i,s=xn,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:s(a===0?.5:(d=(i(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(s=d,u):s};function f(d){return function(h){var p,y;return arguments.length?([p,y]=h,s=d(p,y),u):[s(0),s(1)]}}return u.range=f(Ed),u.rangeRound=f(vC),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function ko(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BL(){var e=Ao(bx()(xn));return e.copy=function(){return ko(e,BL())},bs.apply(e,arguments)}function zL(){var e=bC(bx()).domain([1,10]);return e.copy=function(){return ko(e,zL()).base(e.base())},bs.apply(e,arguments)}function UL(){var e=wC(bx());return e.copy=function(){return ko(e,UL()).constant(e.constant())},bs.apply(e,arguments)}function TC(){var e=jC(bx());return e.copy=function(){return ko(e,TC()).exponent(e.exponent())},bs.apply(e,arguments)}function qhe(){return TC.apply(null,arguments).exponent(.5)}function VL(){var e=[],t=xn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Cp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(uo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Tde(e,i/n))},r.copy=function(){return VL(t).domain(e)},bs.apply(r,arguments)}function wx(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=xn,f,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+f(m))-i)*(n*m<n*i?l:c),u(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=f(e=+e),i=f(t=+t),s=f(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(g){var v,x,b;return arguments.length?([v,x,b]=g,u=afe(m,[v,x,b]),p):[u(0),u(.5),u(1)]}}return p.range=y(Ed),p.rangeRound=y(vC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return f=m,a=m(e),i=m(t),s=m(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function WL(){var e=Ao(wx()(xn));return e.copy=function(){return ko(e,WL())},bs.apply(e,arguments)}function HL(){var e=bC(wx()).domain([.1,1,10]);return e.copy=function(){return ko(e,HL()).base(e.base())},bs.apply(e,arguments)}function qL(){var e=wC(wx());return e.copy=function(){return ko(e,qL()).constant(e.constant())},bs.apply(e,arguments)}function RC(){var e=jC(wx());return e.copy=function(){return ko(e,RC()).exponent(e.exponent())},bs.apply(e,arguments)}function Khe(){return RC.apply(null,arguments).exponent(.5)}const Zk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rh,scaleDiverging:WL,scaleDivergingLog:HL,scaleDivergingPow:RC,scaleDivergingSqrt:Khe,scaleDivergingSymlog:qL,scaleIdentity:SL,scaleImplicit:W1,scaleLinear:lg,scaleLog:NL,scaleOrdinal:hC,scalePoint:Rf,scalePow:_C,scaleQuantile:AL,scaleQuantize:kL,scaleRadial:EL,scaleSequential:BL,scaleSequentialLog:zL,scaleSequentialPow:TC,scaleSequentialQuantile:VL,scaleSequentialSqrt:qhe,scaleSequentialSymlog:UL,scaleSqrt:Pfe,scaleSymlog:PL,scaleThreshold:OL,scaleTime:Whe,scaleUtc:Hhe,tickFormat:_L},Symbol.toStringTag,{value:"Module"}));var Ghe=xd;function Yhe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(l===void 0?s===s&&!Ghe(s):r(s,l)))var l=s,c=i}return c}var jx=Yhe;function Xhe(e,t){return e>t}var KL=Xhe,Qhe=jx,Zhe=KL,Jhe=Pd;function epe(e){return e&&e.length?Qhe(e,Jhe,Zhe):void 0}var tpe=epe;const Ys=wt(tpe);function rpe(e,t){return e<t}var GL=rpe,npe=jx,ape=GL,ipe=Pd;function spe(e){return e&&e.length?npe(e,ipe,ape):void 0}var ope=spe;const _x=wt(ope);var lpe=GS,cpe=Ii,upe=rL,dpe=zn;function fpe(e,t){var r=dpe(e)?lpe:upe;return r(e,cpe(t))}var hpe=fpe,ppe=eL,mpe=hpe;function vpe(e,t){return ppe(mpe(e,t),1)}var gpe=vpe;const ype=wt(gpe);var xpe=lC;function bpe(e,t){return xpe(e,t)}var wpe=bpe;const bo=wt(wpe);var Ad=1e9,jpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$C,Kt=!0,Sa="[DecimalError] ",yl=Sa+"Invalid argument: ",MC=Sa+"Exponent out of range: ",kd=Math.floor,Ko=Math.pow,_pe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zn,$r=1e7,Lt=7,YL=9007199254740991,fg=kd(YL/Lt),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Lt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(e){return rs(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,r=t.constructor;return Et(rs(t,new r(e),0,1),r.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return yr(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zn))throw Error(Sa+"NaN");if(r.s<1)throw Error(Sa+(r.s?"NaN":"-Infinity"));return r.eq(Zn)?new n(0):(Kt=!1,t=rs(Lh(r,i),Lh(e,i),i),Kt=!0,Et(t,a))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZL(t,e):XL(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Sa+"NaN");return r.s?(Kt=!1,t=rs(r,e,0,1).times(e),Kt=!0,r.minus(t)):Et(new n(r),a)};Ee.naturalExponential=Ee.exp=function(){return QL(this)};Ee.naturalLogarithm=Ee.ln=function(){return Lh(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XL(t,e):ZL(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yl+e);if(t=yr(a)+1,n=a.d.length-1,r=n*Lt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ee.squareRoot=Ee.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Sa+"NaN")}for(e=yr(l),Kt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=yi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=kd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(rs(l,i,s+2)).times(.5),yi(i.d).slice(0,s)===(t=yi(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Et(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return Kt=!0,Et(n,r)};Ee.times=Ee.mul=function(e){var t,r,n,a,i,s,l,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%$r|0,t=l/$r|0;i[a]=(i[a]+t)%$r|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Kt?Et(e,d.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Oi(e,0,Ad),t===void 0?t=n.rounding:Oi(t,0,8),Et(r,e+yr(r)+1,t))};Ee.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Al(n,!0):(Oi(e,0,Ad),t===void 0?t=a.rounding:Oi(t,0,8),n=Et(new a(n),e+1,t),r=Al(n,!0,e+1)),r};Ee.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Al(a):(Oi(e,0,Ad),t===void 0?t=i.rounding:Oi(t,0,8),n=Et(new i(a),e+yr(a)+1,t),r=Al(n.abs(),!1,e+yr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return Et(new t(e),yr(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Zn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Sa+"Infinity");return l}if(l.eq(Zn))return l;if(n=c.precision,e.eq(Zn))return Et(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=f<0?-f:f)<=YL){for(a=new c(Zn),t=Math.ceil(n/Lt+4),Kt=!1;r%2&&(a=a.times(l),eO(a.d,t)),r=kd(r/2),r!==0;)l=l.times(l),eO(l.d,t);return Kt=!0,e.s<0?new c(Zn).div(a):Et(a,n)}}else if(i<0)throw Error(Sa+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Kt=!1,a=e.times(Lh(l,n+u)),Kt=!0,a=QL(a),a.s=i,a};Ee.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=yr(a),n=Al(a,r<=i.toExpNeg||r>=i.toExpPos)):(Oi(e,1,Ad),t===void 0?t=i.rounding:Oi(t,0,8),a=Et(new i(a),e,t),r=yr(a),n=Al(a,e<=r||r<=i.toExpNeg,e)),n};Ee.toSignificantDigits=Ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Oi(e,1,Ad),t===void 0?t=n.rounding:Oi(t,0,8)),Et(new n(r),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=yr(e),r=e.constructor;return Al(e,t<=r.toExpNeg||t>=r.toExpPos)};function XL(e,t){var r,n,a,i,s,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Kt?Et(t,d):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(d/Lt),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/$r|0,c[i]%=$r;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Kt?Et(t,d):t}function Oi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yl+e)}function yi(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Lt-n.length,r&&(i+=$s(r)),i+=n;s=e[t],n=s+"",r=Lt-n.length,r&&(i+=$s(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var rs=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%$r|0,s=i/$r|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*$r+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,f,d,h,p,y,m,g,v,x,b,_,j,S,C,N,A=n.constructor,E=n.s==a.s?1:-1,k=n.d,R=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Sa+"Division by zero");for(c=n.e-a.e,C=R.length,j=k.length,p=new A(E),y=p.d=[],u=0;R[u]==(k[u]||0);)++u;if(R[u]>(k[u]||0)&&--c,i==null?x=i=A.precision:s?x=i+(yr(n)-yr(a))+1:x=i,x<0)return new A(0);if(x=x/Lt+2|0,u=0,C==1)for(f=0,R=R[0],x++;(u<j||f)&&x--;u++)b=f*$r+(k[u]||0),y[u]=b/R|0,f=b%R|0;else{for(f=$r/(R[0]+1)|0,f>1&&(R=e(R,f),k=e(k,f),C=R.length,j=k.length),_=C,m=k.slice(0,C),g=m.length;g<C;)m[g++]=0;N=R.slice(),N.unshift(0),S=R[0],R[1]>=$r/2&&++S;do f=0,l=t(R,m,C,g),l<0?(v=m[0],C!=g&&(v=v*$r+(m[1]||0)),f=v/S|0,f>1?(f>=$r&&(f=$r-1),d=e(R,f),h=d.length,g=m.length,l=t(d,m,h,g),l==1&&(f--,r(d,C<h?N:R,h))):(f==0&&(l=f=1),d=R.slice()),h=d.length,h<g&&d.unshift(0),r(m,d,g),l==-1&&(g=m.length,l=t(R,m,C,g),l<1&&(f++,r(m,C<g?N:R,g))),g=m.length):l===0&&(f++,m=[0]),y[u++]=f,l&&m[0]?m[g++]=k[_]||0:(m=[k[_]],g=1);while((_++<j||m[0]!==void 0)&&x--)}return y[0]||y.shift(),p.e=c,Et(p,s?i+yr(p)+1:i)}}();function QL(e,t){var r,n,a,i,s,l,c=0,u=0,f=e.constructor,d=f.precision;if(yr(e)>16)throw Error(MC+yr(e));if(!e.s)return new f(Zn);for(t==null?(Kt=!1,l=d):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ko(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new f(Zn),f.precision=l;;){if(a=Et(a.times(e),l),r=r.times(++c),s=i.plus(rs(a,r,l)),yi(s.d).slice(0,l)===yi(i.d).slice(0,l)){for(;u--;)i=Et(i.times(i),l);return f.precision=d,t==null?(Kt=!0,Et(i,d)):i}i=s}}function yr(e){for(var t=e.e*Lt,r=e.d[0];r>=10;r/=10)t++;return t}function vb(e,t,r){if(t>e.LN10.sd())throw Kt=!0,r&&(e.precision=r),Error(Sa+"LN10 precision limit exceeded");return Et(new e(e.LN10),t)}function $s(e){for(var t="";e--;)t+="0";return t}function Lh(e,t){var r,n,a,i,s,l,c,u,f,d=1,h=10,p=e,y=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(Sa+(p.s?"NaN":"-Infinity"));if(p.eq(Zn))return new m(0);if(t==null?(Kt=!1,u=g):u=t,p.eq(10))return t==null&&(Kt=!0),vb(m,u);if(u+=h,m.precision=u,r=yi(y),n=r.charAt(0),i=yr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=yi(p.d),n=r.charAt(0),d++;i=yr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=vb(m,u+2,g).times(i+""),p=Lh(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=g,t==null?(Kt=!0,Et(p,g)):p;for(l=s=p=rs(p.minus(Zn),p.plus(Zn),u),f=Et(p.times(p),u),a=3;;){if(s=Et(s.times(f),u),c=l.plus(rs(s,new m(a),u)),yi(c.d).slice(0,u)===yi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(vb(m,u+2,g).times(i+""))),l=rs(l,new m(d),u),m.precision=g,t==null?(Kt=!0,Et(l,g)):l;l=c,a+=2}}function Jk(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=kd(r/Lt),e.d=[],n=(r+1)%Lt,r<0&&(n+=Lt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Lt;n<a;)e.d.push(+t.slice(n,n+=Lt));t=t.slice(n),n=Lt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Kt&&(e.e>fg||e.e<-fg))throw Error(MC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Et(e,t,r){var n,a,i,s,l,c,u,f,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Lt,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/Lt),i=d.length,f>=i)return e;for(u=i=d[f],s=1;i>=10;i/=10)s++;n%=Lt,a=n-Lt+s}if(r!==void 0&&(i=Ko(10,s-a-1),l=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ko(10,s-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=yr(e),d.length=1,t=t-i-1,d[0]=Ko(10,(Lt-t%Lt)%Lt),e.e=kd(-t/Lt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=Ko(10,Lt-n),d[f]=a>0?(u/Ko(10,s-a)%Ko(10,a)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==$r&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=$r)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(Kt&&(e.e>fg||e.e<-fg))throw Error(MC+yr(e));return e}function ZL(e,t){var r,n,a,i,s,l,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Kt?Et(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(f=s<0,f?(r=c,s=-s,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(p/Lt),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}s=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>s;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=$r-1;--c[i],c[a]+=$r}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Kt?Et(t,p):t):new h(0)}function Al(e,t,r){var n,a=yr(e),i=yi(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+$s(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+$s(-a-1)+i,r&&(n=r-s)>0&&(i+=$s(n))):a>=s?(i+=$s(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+$s(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=$s(n))),e.s<0?"-"+i:i}function eO(e,t){if(e.length>t)return e.length=t,!0}function JL(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(yl+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return Jk(s,i.toString())}else if(typeof i!="string")throw Error(yl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,_pe.test(i))Jk(s,i);else throw Error(yl+i)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=JL,a.config=a.set=Spe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Spe(e){if(!e||typeof e!="object")throw Error(Sa+"Object expected");var t,r,n,a=["precision",1,Ad,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(kd(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(yl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yl+r+": "+n);return this}var $C=JL(jpe);Zn=new $C(1);const Pt=$C;function Cpe(e){return Ape(e)||Epe(e)||Ppe(e)||Npe()}function Npe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ppe(e,t){if(e){if(typeof e=="string")return G1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(e,t)}}function Epe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ape(e){if(Array.isArray(e))return G1(e)}function G1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kpe=function(t){return t},e4={"@@functional/placeholder":!0},t4=function(t){return t===e4},tO=function(t){return function r(){return arguments.length===0||arguments.length===1&&t4(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Ope=function e(t,r){return t===1?r:tO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==e4}).length;return s>=t?r.apply(void 0,a):e(t-s,tO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(d){return t4(d)?c.shift():d});return r.apply(void 0,Cpe(f).concat(c))}))})},Sx=function(t){return Ope(t.length,t)},Y1=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Tpe=Sx(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Rpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return kpe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},X1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},r4=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Mpe(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function $pe(e,t,r){for(var n=new Pt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Ipe=Sx(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Dpe=Sx(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Lpe=Sx(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Cx={rangeStep:$pe,getDigitCount:Mpe,interpolateNumber:Ipe,uninterpolateNumber:Dpe,uninterpolateTruncation:Lpe};function Q1(e){return zpe(e)||Bpe(e)||n4(e)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zpe(e){if(Array.isArray(e))return Z1(e)}function Fh(e,t){return Wpe(e)||Vpe(e,t)||n4(e,t)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n4(e,t){if(e){if(typeof e=="string")return Z1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z1(e,t)}}function Z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vpe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Wpe(e){if(Array.isArray(e))return e}function a4(e){var t=Fh(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function i4(e,t,r){if(e.lte(0))return new Pt(0);var n=Cx.getDigitCount(e.toNumber()),a=new Pt(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new Pt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new Pt(Math.ceil(c))}function Hpe(e,t,r){var n=1,a=new Pt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Pt(10).pow(Cx.getDigitCount(e)-1),a=new Pt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Pt(Math.floor(e)))}else e===0?a=new Pt(Math.floor((t-1)/2)):r||(a=new Pt(Math.floor(e)));var s=Math.floor((t-1)/2),l=Rpe(Tpe(function(c){return a.add(new Pt(c-s).mul(n)).toNumber()}),Y1);return l(0,t)}function s4(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var i=i4(new Pt(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Pt(0):(s=new Pt(e).add(t).div(2),s=s.sub(new Pt(s).mod(i)));var l=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new Pt(t).sub(s).div(i).toNumber()),u=l+c+1;return u>r?s4(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:s.sub(new Pt(l).mul(i)),tickMax:s.add(new Pt(c).mul(i))})}function qpe(e){var t=Fh(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=a4([r,n]),c=Fh(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(Q1(Y1(0,a-1).map(function(){return 1/0}))):[].concat(Q1(Y1(0,a-1).map(function(){return-1/0})),[f]);return r>n?X1(d):d}if(u===f)return Hpe(u,a,i);var h=s4(u,f,s,i),p=h.step,y=h.tickMin,m=h.tickMax,g=Cx.rangeStep(y,m.add(new Pt(.1).mul(p)),p);return r>n?X1(g):g}function Kpe(e,t){var r=Fh(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=a4([n,a]),l=Fh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(t,2),d=i4(new Pt(u).sub(c).div(f-1),i,0),h=[].concat(Q1(Cx.rangeStep(new Pt(c),new Pt(u).sub(new Pt(.99).mul(d)),d)),[u]);return n>a?X1(h):h}var Gpe=r4(qpe),Ype=r4(Kpe),Xpe="Invariant failed";function kl(e,t){throw new Error(Xpe)}var Qpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function Zpe(e,t){return rme(e)||tme(e,t)||eme(e,t)||Jpe()}function Jpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eme(e,t){if(e){if(typeof e=="string")return rO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rO(e,t)}}function rO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function rme(e){if(Array.isArray(e))return e}function nme(e,t){if(e==null)return{};var r=ame(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ame(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ime(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c4(n.key),n)}}function ome(e,t,r){return t&&sme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lme(e,t,r){return t=pg(t),cme(e,o4()?Reflect.construct(t,r||[],pg(e).constructor):t.apply(e,r))}function cme(e,t){if(t&&(Nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ume(e)}function ume(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o4=function(){return!!e})()}function pg(e){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pg(e)}function dme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J1(e,t)}function J1(e,t){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J1(e,t)}function l4(e,t,r){return t=c4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c4(e){var t=fme(e,"string");return Nu(t)=="symbol"?t:t+""}function fme(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Od=function(e){function t(){return ime(this,t),lme(this,t,arguments)}return dme(t,e),ome(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=nme(n,Qpe),p=Oe(h,!1);this.props.direction==="x"&&f.type!=="number"&&kl();var y=c.map(function(m){var g=u(m,l),v=g.x,x=g.y,b=g.value,_=g.errorVal;if(!_)return null;var j=[],S,C;if(Array.isArray(_)){var N=Zpe(_,2);S=N[0],C=N[1]}else S=C=_;if(i==="vertical"){var A=f.scale,E=x+a,k=E+s,R=E-s,T=A(b-S),P=A(b+C);j.push({x1:P,y1:k,x2:P,y2:R}),j.push({x1:T,y1:E,x2:P,y2:E}),j.push({x1:T,y1:k,x2:T,y2:R})}else if(i==="horizontal"){var $=d.scale,I=v+a,M=I-s,D=I+s,L=$(b-S),U=$(b+C);j.push({x1:M,y1:U,x2:D,y2:U}),j.push({x1:I,y1:L,x2:I,y2:U}),j.push({x1:M,y1:L,x2:D,y2:L})}return O.createElement(et,hg({className:"recharts-errorBar",key:"bar-".concat(j.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),j.map(function(X){return O.createElement("line",hg({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return O.createElement(et,{className:"recharts-errorBars"},y)}}])}(O.Component);l4(Od,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});l4(Od,"displayName","ErrorBar");function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){hme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hme(e,t,r){return t=pme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pme(e){var t=mme(e,"string");return Bh(t)=="symbol"?t:t+""}function mme(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u4=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Gn(r,Gr);if(!s)return null;var l=Gr.defaultProps,c=l!==void 0?Fo(Fo({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,y=p.sectors||p.data||[];return f.concat(y.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Fo(Fo({},h),d.props):{},y=p.dataKey,m=p.name,g=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:c.iconType||g||"square",color:IC(d),value:m||y,payload:p}}),Fo(Fo(Fo({},c),Gr.getWithHeight(s,a)),{},{payload:u,item:s})};function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function aO(e){return xme(e)||yme(e)||gme(e)||vme()}function vme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gme(e,t){if(e){if(typeof e=="string")return ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ej(e,t)}}function yme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xme(e){if(Array.isArray(e))return ej(e)}function ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){Kc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kc(e,t,r){return t=bme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bme(e){var t=wme(e,"string");return zh(t)=="symbol"?t:t+""}function wme(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bt(e,t,r){return Fe(e)||Fe(t)?r:Or(t)?ra(e,t,r):ze(t)?t(e):r}function Mf(e,t,r,n){var a=ype(e,function(l){return Bt(l,t)});if(r==="number"){var i=a.filter(function(l){return fe(l)||parseFloat(l)});return i.length?[_x(i),Ys(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Fe(l)}):a;return s.map(function(l){return Or(l)||l instanceof Date?l:""})}var jme=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(gn(d-f)!==gn(h-d)){var y=[];if(gn(h-d)===gn(c[1]-c[0])){p=h;var m=d+c[1]-c[0];y[0]=Math.min(m,(m+f)/2),y[1]=Math.max(m,(m+f)/2)}else{p=f;var g=h+c[1]-c[0];y[0]=Math.min(d,(g+d)/2),y[1]=Math.max(d,(g+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){s=a[u].index;break}}else{var x=Math.min(f,h),b=Math.max(f,h);if(t>(x+d)/2&&t<=(b+d)/2){s=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},IC=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},_me=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var y=f[d[h]],m=y.items,g=y.cateAxisId,v=m.filter(function(C){return ts(C.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?or(or({},x),v[0].props):v[0].props,_=b.barSize,j=b[g];s[j]||(s[j]=[]);var S=Fe(_)?r:_;s[j].push({item:v[0],stackList:v.slice(1),barSize:Fe(S)?void 0:yn(S,n,0)})}}return s},Sme=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=yn(r,a,0,!0),f,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,y=s.reduce(function(_,j){return _+j.barSize||0},0);y+=(c-1)*u,y>=a&&(y-=(c-1)*u,u=0),y>=a&&p>0&&(h=!0,p*=.9,y=c*p);var m=(a-y)/2>>0,g={offset:m-u,size:0};f=s.reduce(function(_,j){var S={item:j.item,position:{offset:g.offset+g.size+u,size:h?p:j.barSize}},C=[].concat(aO(_),[S]);return g=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){C.push({item:N,position:g})}),C},d)}else{var v=yn(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var x=(a-2*v-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;f=s.reduce(function(_,j,S){var C=[].concat(aO(_),[{item:j.item,position:{offset:v+(x+u)*S+(x-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){C.push({item:N,position:C[C.length-1].position})}),C},d)}return f},Cme=function(t,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=u4({children:i,legendWidth:c});if(u){var f=a||{},d=f.width,h=f.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&fe(t[p]))return or(or({},t),{},Kc({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&fe(t[y]))return or(or({},t),{},Kc({},y,t[y]+(h||0)))}return t},Nme=function(t,r,n){return Fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},d4=function(t,r,n,a,i){var s=r.props.children,l=wn(s,Od).filter(function(u){return Nme(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=Bt(f,n);if(Fe(d))return u;var h=Array.isArray(d)?[_x(d),Ys(d)]:[d,d],p=c.reduce(function(y,m){var g=Bt(f,m,0),v=h[0]-Math.abs(Array.isArray(g)?g[0]:g),x=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Pme=function(t,r,n,a,i){var s=r.map(function(l){return d4(t,l,n,i,a)}).filter(function(l){return!Fe(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},f4=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&d4(t,c,u,a)||Mf(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},h4=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},p4=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Zi=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?gn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return f.filter(function(d){return!Sd(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:i?i[d]:d,index:h,offset:u}})},gb=new WeakMap,jm=function(t,r){if(typeof r!="function")return t;gb.has(t)||gb.set(t,new WeakMap);var n=gb.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},m4=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Rh(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:lg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Rf(),realScaleType:"point"}:i==="category"?{scale:Rh(),realScaleType:"band"}:{scale:lg(),realScaleType:"linear"};if(Pl(a)){var c="scale".concat(lx(a));return{scale:(Zk[c]||Rf)(),realScaleType:Zk[c]?c:"point"}}return ze(a)?{scale:a}:{scale:Rf(),realScaleType:"point"}},sO=1e-4,v4=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-sO,s=Math.max(a[0],a[1])+sO,l=t(r[0]),c=t(r[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},Eme=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Ame=function(t,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!fe(t[0])||t[0]<n)&&(i[0]=n),(!fe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},kme=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=Sd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},Ome=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=Sd(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Tme={sign:kme,expand:Qte,none:yu,silhouette:Zte,wiggle:Jte,positive:Ome},Rme=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Tme[n],s=Xte().keys(a).value(function(l,c){return+Bt(l,c,0)}).order(C1).offset(i);return s(t)},Mme=function(t,r,n,a,i,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(d,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?or(or({},h.type.defaultProps),h.props):h.props,m=y.stackId,g=y.hide;if(g)return d;var v=y[n],x=d[v]||{hasStack:!1,stackGroups:{}};if(Or(m)){var b=x.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[m]=b}else x.stackGroups[Eo("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return or(or({},d),{},Kc({},v,x))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var v=p.stackGroups[g];return or(or({},m),{},Kc({},g,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:Rme(t,v.items,i)}))},y)}return or(or({},d),{},Kc({},h,p))},f)},g4=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=Gpe(u,i,l);return t.domain([_x(f),Ys(f)]),{niceTicks:f}}if(i&&a==="number"){var d=t.domain(),h=Ype(d,i,l);return{niceTicks:h}}return null};function Pu(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fe(a[t.dataKey])){var l=zv(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Bt(a,Fe(s)?t.dataKey:s);return Fe(c)?null:t.scale(c)}var oO=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Bt(s,r.dataKey,r.domain[l]);return Fe(c)?null:r.scale(c)-i/2+a},$me=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Ime=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Or(i)){var s=r[i];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},Dme=function(t){return t.reduce(function(r,n){return[_x(n.concat([r[0]]).filter(fe)),Ys(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},y4=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],l=s.stackedData,c=l.reduce(function(u,f){var d=Dme(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},lO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tj=function(t,r,n){if(ze(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(fe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(lO.test(t[0])){var i=+lO.exec(t[0])[1];a[0]=r[0]-i}else ze(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(fe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(cO.test(t[1])){var s=+cO.exec(t[1])[1];a[1]=r[1]+s}else ze(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},mg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=uC(r,function(d){return d.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},uO=function(t,r,n){return!t||!t.length||bo(t,ra(n,"type.defaultProps.domain"))?r:t},x4=function(t,r){var n=t.type.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return or(or({},Oe(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:IC(t),value:Bt(r,a),type:c,payload:r,chartType:u,hide:f})};function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){b4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b4(e,t,r){return t=Lme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lme(e){var t=Fme(e,"string");return Uh(t)=="symbol"?t:t+""}function Fme(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bme(e,t){return Wme(e)||Vme(e,t)||Ume(e,t)||zme()}function zme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ume(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Wme(e){if(Array.isArray(e))return e}var vg=Math.PI/180,Hme=function(t){return t*180/Math.PI},Mt=function(t,r,n,a){return{x:t+Math.cos(-vg*a)*n,y:r+Math.sin(-vg*a)*n}},w4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qme=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=yn(t.cx,s,s/2),d=yn(t.cy,l,l/2),h=w4(s,l,n),p=yn(t.innerRadius,h,0),y=yn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,v){var x=r[v],b=x.domain,_=x.reversed,j;if(Fe(x.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[p,y]),_&&(j=[j[1],j[0]]);else{j=x.range;var S=j,C=Bme(S,2);c=C[0],u=C[1]}var N=m4(x,i),A=N.realScaleType,E=N.scale;E.domain(b).range(j),v4(E);var k=g4(E,Wi(Wi({},x),{},{realScaleType:A})),R=Wi(Wi(Wi({},x),k),{},{range:j,radius:y,realScaleType:A,scale:E,cx:f,cy:d,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return Wi(Wi({},g),{},b4({},v,R))},{})},Kme=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Gme=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,l=Kme({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:Hme(u),angleInRadian:u}},Yme=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Xme=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return t+l*360},hO=function(t,r){var n=t.x,a=t.y,i=Gme({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var f=Yme(r),d=f.startAngle,h=f.endAngle,p=l,y;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;y=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=d}return y?Wi(Wi({},r),{},{radius:s,angle:Xme(p,r)}):null},j4=function(t){return!w.isValidElement(t)&&!ze(t)&&typeof t!="boolean"?t.className:""};function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}var Qme=["offset"];function Zme(e){return rve(e)||tve(e)||eve(e)||Jme()}function Jme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eve(e,t){if(e){if(typeof e=="string")return rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rj(e,t)}}function tve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rve(e){if(Array.isArray(e))return rj(e)}function rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nve(e,t){if(e==null)return{};var r=ave(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ave(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){ive(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ive(e,t,r){return t=sve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sve(e){var t=ove(e,"string");return Vh(t)=="symbol"?t:t+""}function ove(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(this,arguments)}var lve=function(t){var r=t.value,n=t.formatter,a=Fe(t.children)?r:t.children;return ze(n)?n(a):a},cve=function(t,r){var n=gn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},uve=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,m=c.clockWise,g=(d+h)/2,v=cve(p,y),x=v>=0?1:-1,b,_;a==="insideStart"?(b=p+x*s,_=m):a==="insideEnd"?(b=y-x*s,_=!m):a==="end"&&(b=y+x*s,_=m),_=v<=0?_:!_;var j=Mt(u,f,g,b),S=Mt(u,f,g,b+(_?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Fe(t.id)?Eo("recharts-radial-line-"):t.id;return O.createElement("text",Wh({},n,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:N,d:C})),O.createElement("textPath",{xlinkHref:"#".concat(N)},r))},dve=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(a==="outside"){var p=Mt(s,l,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,v=Mt(s,l,g,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},fve=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,l=s.x,c=s.y,u=s.width,f=s.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",y=d>0?"start":"end",m=u>=0?1:-1,g=m*a,v=m>0?"end":"start",x=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:p};return Sr(Sr({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:y};return Sr(Sr({},_),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var j={x:l-g,y:c+f/2,textAnchor:v,verticalAnchor:"middle"};return Sr(Sr({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(i==="right"){var S={x:l+u+g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return Sr(Sr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:f}:{})}var C=n?{width:u,height:f}:{};return i==="insideLeft"?Sr({x:l+g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},C):i==="insideRight"?Sr({x:l+u-g,y:c+f/2,textAnchor:v,verticalAnchor:"middle"},C):i==="insideTop"?Sr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},C):i==="insideBottom"?Sr({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},C):i==="insideTopLeft"?Sr({x:l+g,y:c+h,textAnchor:x,verticalAnchor:y},C):i==="insideTopRight"?Sr({x:l+u-g,y:c+h,textAnchor:v,verticalAnchor:y},C):i==="insideBottomLeft"?Sr({x:l+g,y:c+f-h,textAnchor:x,verticalAnchor:p},C):i==="insideBottomRight"?Sr({x:l+u-g,y:c+f-h,textAnchor:v,verticalAnchor:p},C):bd(i)&&(fe(i.x)||nl(i.x))&&(fe(i.y)||nl(i.y))?Sr({x:l+yn(i.x,u),y:c+yn(i.y,f),textAnchor:"end",verticalAnchor:"end"},C):Sr({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},C)},hve=function(t){return"cx"in t&&fe(t.cx)};function Dr(e){var t=e.offset,r=t===void 0?5:t,n=nve(e,Qme),a=Sr({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!i||Fe(l)&&Fe(c)&&!w.isValidElement(u)&&!ze(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var p;if(ze(u)){if(p=w.createElement(u,a),w.isValidElement(p))return p}else p=lve(a);var y=hve(i),m=Oe(a,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return uve(a,p,m);var g=y?dve(a):fve(a);return O.createElement(El,Wh({className:Ye("recharts-label",d)},m,g,{breakAll:h}),p)}Dr.displayName="Label";var _4=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,y=t.left,m=t.width,g=t.height,v=t.clockWise,x=t.labelViewBox;if(x)return x;if(fe(m)&&fe(g)){if(fe(d)&&fe(h))return{x:d,y:h,width:m,height:g};if(fe(p)&&fe(y))return{x:p,y,width:m,height:g}}return fe(d)&&fe(h)?{x:d,y:h,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},pve=function(t,r){return t?t===!0?O.createElement(Dr,{key:"label-implicit",viewBox:r}):Or(t)?O.createElement(Dr,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Dr?w.cloneElement(t,{key:"label-implicit",viewBox:r}):O.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):ze(t)?O.createElement(Dr,{key:"label-implicit",content:t,viewBox:r}):bd(t)?O.createElement(Dr,Wh({viewBox:r},t,{key:"label-implicit"})):null:null},mve=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=_4(t),s=wn(a,Dr).map(function(c,u){return w.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=pve(t.label,r||i);return[l].concat(Zme(s))};Dr.parseViewBox=_4;Dr.renderCallByParent=mve;function vve(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var gve=vve;const yve=wt(gve);function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}var xve=["valueAccessor"],bve=["data","dataKey","clockWise","id","textBreakAll"];function wve(e){return Cve(e)||Sve(e)||_ve(e)||jve()}function jve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ve(e,t){if(e){if(typeof e=="string")return nj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nj(e,t)}}function Sve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cve(e){if(Array.isArray(e))return nj(e)}function nj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){Nve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nve(e,t,r){return t=Pve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pve(e){var t=Eve(e,"string");return Hh(t)=="symbol"?t:t+""}function Eve(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gO(e,t){if(e==null)return{};var r=Ave(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ave(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kve=function(t){return Array.isArray(t.value)?yve(t.value):t.value};function ei(e){var t=e.valueAccessor,r=t===void 0?kve:t,n=gO(e,xve),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=gO(n,bve);return!a||!a.length?null:O.createElement(et,{className:"recharts-label-list"},a.map(function(f,d){var h=Fe(i)?r(f,d):Bt(f&&f.payload,i),p=Fe(l)?{}:{id:"".concat(l,"-").concat(d)};return O.createElement(Dr,gg({},Oe(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:Dr.parseViewBox(Fe(s)?f:vO(vO({},f),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}ei.displayName="LabelList";function Ove(e,t){return e?e===!0?O.createElement(ei,{key:"labelList-implicit",data:t}):O.isValidElement(e)||ze(e)?O.createElement(ei,{key:"labelList-implicit",data:t,content:e}):bd(e)?O.createElement(ei,gg({data:t},e,{key:"labelList-implicit"})):null:null}function Tve(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=wn(n,ei).map(function(s,l){return w.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Ove(e.label,t);return[i].concat(wve(a))}ei.renderCallByParent=Tve;function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aj.apply(this,arguments)}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){Rve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rve(e,t,r){return t=Mve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mve(e){var t=$ve(e,"string");return qh(t)=="symbol"?t:t+""}function $ve(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ive=function(t,r){var n=gn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},_m=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+a,d=Math.asin(c/f)/vg,h=u?i:i+s*d,p=Mt(r,n,f,h),y=Mt(r,n,a,h),m=u?i-s*d:i,g=Mt(r,n,f*Math.cos(d*vg),m);return{center:p,circleTangency:y,lineTangency:g,theta:d}},S4=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=Ive(s,l),u=s+c,f=Mt(r,n,i,s),d=Mt(r,n,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Mt(r,n,a,s),y=Mt(r,n,a,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Dve=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=gn(f-u),h=_m({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,m=h.theta,g=_m({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:c}),v=g.circleTangency,x=g.lineTangency,b=g.theta,_=c?Math.abs(u-f):Math.abs(u-f)-m-b;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):S4({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var S=_m({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=S.circleTangency,N=S.lineTangency,A=S.theta,E=_m({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=E.circleTangency,R=E.lineTangency,T=E.theta,P=c?Math.abs(u-f):Math.abs(u-f)-A-T;if(P<0&&s===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Lve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},C4=function(t){var r=xO(xO({},Lve),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(s<i||f===d)return null;var p=Ye("recharts-sector",h),y=s-i,m=yn(l,y,0,!0),g;return m>0&&Math.abs(f-d)<360?g=Dve({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):g=S4({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:d}),O.createElement("path",aj({},Oe(r,!0),{className:p,d:g,role:"img"}))};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ij.apply(this,arguments)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){Fve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fve(e,t,r){return t=Bve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bve(e){var t=zve(e,"string");return Kh(t)=="symbol"?t:t+""}function zve(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jO={curveBasisClosed:Fte,curveBasisOpen:Bte,curveBasis:Lte,curveBumpX:Ste,curveBumpY:Cte,curveLinearClosed:zte,curveLinear:ux,curveMonotoneX:Ute,curveMonotoneY:Vte,curveNatural:Wte,curveStep:Hte,curveStepAfter:Kte,curveStepBefore:qte},Sm=function(t){return t.x===+t.x&&t.y===+t.y},ef=function(t){return t.x},tf=function(t){return t.y},Uve=function(t,r){if(ze(t))return t;var n="curve".concat(lx(t));return(n==="curveMonotone"||n==="curveBump")&&r?jO["".concat(n).concat(r==="vertical"?"Y":"X")]:jO[n]||ux},Vve=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=Uve(n,l),d=u?i.filter(function(m){return Sm(m)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(m){return Sm(m)}):s,y=d.map(function(m,g){return wO(wO({},m),{},{base:p[g]})});return l==="vertical"?h=pm().y(tf).x1(ef).x0(function(m){return m.base.x}):h=pm().x(ef).y1(tf).y0(function(m){return m.base.y}),h.defined(Sm).curve(f),h(y)}return l==="vertical"&&fe(s)?h=pm().y(tf).x1(ef).x0(s):fe(s)?h=pm().x(ef).y1(tf).y0(s):h=x3().x(ef).y(tf),h.defined(Sm).curve(f),h(d)},fo=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Vve(t):a;return w.createElement("path",ij({},Oe(t,!1),Uv(t),{className:Ye("recharts-curve",r),d:s,ref:i}))},N4={exports:{}},Wve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hve=Wve,qve=Hve;function P4(){}function E4(){}E4.resetWarningCache=P4;var Kve=function(){function e(n,a,i,s,l,c){if(c!==qve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:E4,resetWarningCache:P4};return r.PropTypes=r,r};N4.exports=Kve();var Gve=N4.exports;const bt=wt(Gve);var Yve=Object.getOwnPropertyNames,Xve=Object.getOwnPropertySymbols,Qve=Object.prototype.hasOwnProperty;function _O(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Cm(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function SO(e){return Yve(e).concat(Xve(e))}var Zve=Object.hasOwn||function(e,t){return Qve.call(e,t)};function Wl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Jve="__v",ege="__o",tge="_owner",CO=Object.getOwnPropertyDescriptor,NO=Object.keys;function rge(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function nge(e,t){return Wl(e.getTime(),t.getTime())}function age(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ige(e,t){return e===t}function PO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=s.value,p=l.value;if(r.equals(h[0],p[0],c,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var sge=Wl;function oge(e,t,r){var n=NO(e),a=n.length;if(NO(t).length!==a)return!1;for(;a-- >0;)if(!A4(e,t,r,n[a]))return!1;return!0}function rf(e,t,r){var n=SO(e),a=n.length;if(SO(t).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!A4(e,t,r,i)||(s=CO(e,i),l=CO(t,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function lge(e,t){return Wl(e.valueOf(),t.valueOf())}function cge(e,t){return e.source===t.source&&e.flags===t.flags}function EO(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,l;(s=i.next())&&!s.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function uge(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function dge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function A4(e,t,r,n){return(n===tge||n===ege||n===Jve)&&(e.$$typeof||t.$$typeof)?!0:Zve(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var fge="[object Arguments]",hge="[object Boolean]",pge="[object Date]",mge="[object Error]",vge="[object Map]",gge="[object Number]",yge="[object Object]",xge="[object RegExp]",bge="[object Set]",wge="[object String]",jge="[object URL]",_ge=Array.isArray,AO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kO=Object.assign,Sge=Object.prototype.toString.call.bind(Object.prototype.toString);function Cge(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var v=typeof y;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?s(y,m,g):v==="function"?a(y,m,g):!1;var x=y.constructor;if(x!==m.constructor)return!1;if(x===Object)return l(y,m,g);if(_ge(y))return t(y,m,g);if(AO!=null&&AO(y))return d(y,m,g);if(x===Date)return r(y,m,g);if(x===RegExp)return u(y,m,g);if(x===Map)return i(y,m,g);if(x===Set)return f(y,m,g);var b=Sge(y);return b===pge?r(y,m,g):b===xge?u(y,m,g):b===vge?i(y,m,g):b===bge?f(y,m,g):b===yge?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,g):b===jge?h(y,m,g):b===mge?n(y,m,g):b===fge?l(y,m,g):b===hge||b===gge||b===wge?c(y,m,g):!1}}function Nge(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?rf:rge,areDatesEqual:nge,areErrorsEqual:age,areFunctionsEqual:ige,areMapsEqual:n?_O(PO,rf):PO,areNumbersEqual:sge,areObjectsEqual:n?rf:oge,arePrimitiveWrappersEqual:lge,areRegExpsEqual:cge,areSetsEqual:n?_O(EO,rf):EO,areTypedArraysEqual:n?rf:uge,areUrlsEqual:dge};if(r&&(a=kO({},a,r(a))),t){var i=Cm(a.areArraysEqual),s=Cm(a.areMapsEqual),l=Cm(a.areObjectsEqual),c=Cm(a.areSetsEqual);a=kO({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function Pge(e){return function(t,r,n,a,i,s,l){return e(t,r,l)}}function Ege(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var Age=Oo();Oo({strict:!0});Oo({circular:!0});Oo({circular:!0,strict:!0});Oo({createInternalComparator:function(){return Wl}});Oo({strict:!0,createInternalComparator:function(){return Wl}});Oo({circular:!0,createInternalComparator:function(){return Wl}});Oo({circular:!0,createInternalComparator:function(){return Wl},strict:!0});function Oo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,l=Nge(e),c=Cge(l),u=n?n(c):Pge(c);return Ege({circular:r,comparator:c,createState:a,equals:u,strict:s})}function kge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function OO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):kge(a)};requestAnimationFrame(n)}function sj(e){"@babel/helpers - typeof";return sj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sj(e)}function Oge(e){return $ge(e)||Mge(e)||Rge(e)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rge(e,t){if(e){if(typeof e=="string")return TO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(e,t)}}function TO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ge(e){if(Array.isArray(e))return e}function Ige(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=Oge(s),c=l[0],u=l.slice(1);if(typeof c=="number"){OO(a.bind(null,u),c);return}a(c),OO(a.bind(null,u));return}sj(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){k4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k4(e,t,r){return t=Dge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dge(e){var t=Lge(e,"string");return Gh(t)==="symbol"?t:String(t)}function Lge(e,t){if(Gh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fge=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Bge=function(t){return t},zge=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$f=function(t,r){return Object.keys(r).reduce(function(n,a){return MO(MO({},n),{},k4({},a,t(a,r[a])))},{})},$O=function(t,r,n){return t.map(function(a){return"".concat(zge(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Uge(e,t){return Hge(e)||Wge(e,t)||O4(e,t)||Vge()}function Vge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Hge(e){if(Array.isArray(e))return e}function qge(e){return Yge(e)||Gge(e)||O4(e)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O4(e,t){if(e){if(typeof e=="string")return oj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oj(e,t)}}function Gge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yge(e){if(Array.isArray(e))return oj(e)}function oj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yg=1e-4,T4=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},R4=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},IO=function(t,r){return function(n){var a=T4(t,r);return R4(a,n)}},Xge=function(t,r){return function(n){var a=T4(t,r),i=[].concat(qge(a.map(function(s,l){return s*l}).slice(1)),[0]);return R4(i,n)}},DO=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=Uge(u,4);a=f[0],i=f[1],s=f[2],l=f[3]}}}var d=IO(a,s),h=IO(i,l),p=Xge(a,s),y=function(v){return v>1?1:v<0?0:v},m=function(v){for(var x=v>1?1:v,b=x,_=0;_<8;++_){var j=d(b)-x,S=p(b);if(Math.abs(j-x)<yg||S<yg)return h(b);b=y(b-j/S)}return h(b)};return m.isStepper=!1,m},Qge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(f,d,h){var p=-(f-d)*n,y=h*i,m=h+(p-y)*l/1e3,g=h*l/1e3+f;return Math.abs(g-d)<yg&&Math.abs(m)<yg?[d,0]:[g,m]};return c.isStepper=!0,c.dt=l,c},Zge=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DO(a);case"spring":return Qge();default:if(a.split("(")[0]==="cubic-bezier")return DO(a)}return typeof a=="function"?a:null};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function LO(e){return tye(e)||eye(e)||M4(e)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tye(e){if(Array.isArray(e))return cj(e)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){lj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lj(e,t,r){return t=rye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rye(e){var t=nye(e,"string");return Yh(t)==="symbol"?t:String(t)}function nye(e,t){if(Yh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aye(e,t){return oye(e)||sye(e,t)||M4(e,t)||iye()}function iye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4(e,t){if(e){if(typeof e=="string")return cj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cj(e,t)}}function cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function oye(e){if(Array.isArray(e))return e}var xg=function(t,r,n){return t+(r-t)*n},uj=function(t){var r=t.from,n=t.to;return r!==n},lye=function e(t,r,n){var a=$f(function(i,s){if(uj(s)){var l=t(s.from,s.to,s.velocity),c=aye(l,2),u=c[0],f=c[1];return Wr(Wr({},s),{},{from:u,velocity:f})}return s},r);return n<1?$f(function(i,s){return uj(s)?Wr(Wr({},s),{},{velocity:xg(s.velocity,a[i].velocity,n),from:xg(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const cye=function(e,t,r,n,a){var i=Fge(e,t),s=i.reduce(function(g,v){return Wr(Wr({},g),{},lj({},v,[e[v],t[v]]))},{}),l=i.reduce(function(g,v){return Wr(Wr({},g),{},lj({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return $f(function(v,x){return x.from},l)},p=function(){return!Object.values(l).filter(uj).length},y=function(v){u||(u=v);var x=v-u,b=x/r.dt;l=lye(r,l,b),a(Wr(Wr(Wr({},e),t),h())),u=v,p()||(c=requestAnimationFrame(d))},m=function(v){f||(f=v);var x=(v-f)/n,b=$f(function(j,S){return xg.apply(void 0,LO(S).concat([r(x)]))},s);if(a(Wr(Wr(Wr({},e),t),b)),x<1)c=requestAnimationFrame(d);else{var _=$f(function(j,S){return xg.apply(void 0,LO(S).concat([r(1)]))},s);a(Wr(Wr(Wr({},e),t),_))}};return d=r.isStepper?y:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}var uye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dye(e,t){if(e==null)return{};var r=fye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fye(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function yb(e){return vye(e)||mye(e)||pye(e)||hye()}function hye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pye(e,t){if(e){if(typeof e=="string")return dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dj(e,t)}}function mye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vye(e){if(Array.isArray(e))return dj(e)}function dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){vf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vf(e,t,r){return t=$4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$4(n.key),n)}}function xye(e,t,r){return t&&yye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $4(e){var t=bye(e,"string");return Eu(t)==="symbol"?t:String(t)}function bye(e,t){if(Eu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fj(e,t)}function fj(e,t){return fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fj(e,t)}function jye(e){var t=_ye();return function(){var n=bg(e),a;if(t){var i=bg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return hj(this,a)}}function hj(e,t){if(t&&(Eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pj(e)}function pj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(e)}var Ca=function(e){wye(r,e);var t=jye(r);function r(n,a){var i;gye(this,r),i=t.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,f=s.to,d=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(pj(i)),i.changeStyle=i.changeStyle.bind(pj(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),hj(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof h=="function")return i.state={style:u},hj(i);i.state={style:c?vf({},c,u):u}}else i.state={style:{}};return i}return xye(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(l){if(!s){var p={style:c?vf({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(Age(a.to,f)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?d:a.to;if(this.state&&h){var g={style:c?vf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(g)}this.runAnimation(Ma(Ma({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=cye(s,l,Zge(u),c,this.changeStyle),y=function(){i.stopJSAnimation=p()};this.manager.start([h,f,y,c,d])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(m,g,v){if(v===0)return m;var x=g.duration,b=g.easing,_=b===void 0?"ease":b,j=g.style,S=g.properties,C=g.onAnimationEnd,N=v>0?s[v-1]:g,A=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(yb(m),[i.runJSAnimation.bind(i,{from:N.style,to:j,duration:x,easing:_}),x]);var E=$O(A,x,_),k=Ma(Ma(Ma({},N.style),j),{},{transition:E});return[].concat(yb(m),[k,x,C]).filter(Bge)};return this.manager.start([c].concat(yb(s.reduce(p,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Ige());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?vf({},l,c):c,g=$O(Object.keys(m),s,u);y.start([f,i,Ma(Ma({},m),{},{transition:g}),s,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=dye(a,uye),u=w.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||s<=0)return i;var d=function(p){var y=p.props,m=y.style,g=m===void 0?{}:m,v=y.className,x=w.cloneElement(p,Ma(Ma({},c),{},{style:Ma(Ma({},g),f),className:v}));return x};return u===1?d(w.Children.only(i)):O.createElement("div",null,w.Children.map(i,function(h){return d(h)}))}}]),r}(w.PureComponent);Ca.displayName="Animate";Ca.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ca.propTypes={from:bt.oneOfType([bt.object,bt.string]),to:bt.oneOfType([bt.object,bt.string]),attributeName:bt.string,duration:bt.number,begin:bt.number,easing:bt.oneOfType([bt.string,bt.func]),steps:bt.arrayOf(bt.shape({duration:bt.number.isRequired,style:bt.object.isRequired,easing:bt.oneOfType([bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bt.func]),properties:bt.arrayOf("string"),onAnimationEnd:bt.func})),children:bt.oneOfType([bt.node,bt.func]),isActive:bt.bool,canBegin:bt.bool,onAnimationEnd:bt.func,shouldReAnimate:bt.bool,onAnimationStart:bt.func,onAnimationReStart:bt.func};function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function Sye(e,t){return Eye(e)||Pye(e,t)||Nye(e,t)||Cye()}function Cye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nye(e,t){if(e){if(typeof e=="string")return zO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(e,t)}}function zO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Eye(e){if(Array.isArray(e))return e}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Aye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aye(e,t,r){return t=kye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kye(e){var t=Oye(e,"string");return Xh(t)=="symbol"?t:t+""}function Oye(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WO=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>s?s:i[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+a-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*d[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var y=Math.min(s,i);f="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*y,`
            L `).concat(t+n,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},Tye=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),d=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=f&&a>=d&&a<=h}return!1},Rye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DC=function(t){var r=VO(VO({},Rye),t),n=w.useRef(),a=w.useState(-1),i=Sye(a,2),s=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var b=Ye("recharts-rectangle",p);return x?O.createElement(Ca,{canBegin:s>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:m,animationEasing:y,isActive:x},function(_){var j=_.width,S=_.height,C=_.x,N=_.y;return O.createElement(Ca,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:v,easing:y},O.createElement("path",wg({},Oe(r,!0),{className:b,d:WO(C,N,j,S,h),ref:n})))}):O.createElement("path",wg({},Oe(r,!0),{className:b,d:WO(c,u,f,d,h)}))},Mye=["points","className","baseLinePoints","connectNulls"];function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(this,arguments)}function $ye(e,t){if(e==null)return{};var r=Iye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HO(e){return Bye(e)||Fye(e)||Lye(e)||Dye()}function Dye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lye(e,t){if(e){if(typeof e=="string")return mj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mj(e,t)}}function Fye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bye(e){if(Array.isArray(e))return mj(e)}function mj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qO=function(t){return t&&t.x===+t.x&&t.y===+t.y},zye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){qO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),qO(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},If=function(t,r){var n=zye(t);r&&(n=[n.reduce(function(i,s){return[].concat(HO(i),HO(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Uye=function(t,r,n){var a=If(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(If(r.reverse(),n).slice(1))},Vye=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=$ye(t,Mye);if(!r||!r.length)return null;var l=Ye("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=Uye(r,a,i);return O.createElement("g",{className:l},O.createElement("path",Oc({},Oe(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?O.createElement("path",Oc({},Oe(s,!0),{fill:"none",d:If(r,i)})):null,c?O.createElement("path",Oc({},Oe(s,!0),{fill:"none",d:If(a,i)})):null)}var f=If(r,i);return O.createElement("path",Oc({},Oe(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:l,d:f}))};function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vj.apply(this,arguments)}var Ap=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Ye("recharts-dot",i);return r===+r&&n===+n&&a===+a?w.createElement("circle",vj({},Oe(t,!1),Uv(t),{className:s,cx:r,cy:n,r:a})):null};function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}var Wye=["x","y","top","left","width","height","className"];function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gj.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){qye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qye(e,t,r){return t=Kye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kye(e){var t=Gye(e,"string");return Qh(t)=="symbol"?t:t+""}function Gye(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yye(e,t){if(e==null)return{};var r=Xye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Qye=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Zye=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,y=t.className,m=Yye(t,Wye),g=Hye({x:n,y:i,top:l,left:u,width:d,height:p},m);return!fe(n)||!fe(i)||!fe(d)||!fe(p)||!fe(l)||!fe(u)?null:O.createElement("path",gj({},Oe(g,!0),{className:Ye("recharts-cross",y),d:Qye(n,i,d,p,l,u)}))},Jye=jx,exe=KL,txe=Ii;function rxe(e,t){return e&&e.length?Jye(e,txe(t),exe):void 0}var nxe=rxe;const axe=wt(nxe);var ixe=jx,sxe=Ii,oxe=GL;function lxe(e,t){return e&&e.length?ixe(e,sxe(t),oxe):void 0}var cxe=lxe;const uxe=wt(cxe);var dxe=["cx","cy","angle","ticks","axisLine"],fxe=["ticks","tick","angle","tickFormatter","stroke"];function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){Nx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YO(e,t){if(e==null)return{};var r=hxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D4(n.key),n)}}function mxe(e,t,r){return t&&XO(e.prototype,t),r&&XO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vxe(e,t,r){return t=jg(t),gxe(e,I4()?Reflect.construct(t,r||[],jg(e).constructor):t.apply(e,r))}function gxe(e,t){if(t&&(Au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yxe(e)}function yxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!e})()}function jg(e){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(e)}function xxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yj(e,t)}function yj(e,t){return yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yj(e,t)}function Nx(e,t,r){return t=D4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4(e){var t=bxe(e,"string");return Au(t)=="symbol"?t:t+""}function bxe(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Px=function(e){function t(){return pxe(this,t),vxe(this,t,arguments)}return xxe(t,e),mxe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return Mt(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=axe(l,function(f){return f.coordinate||0}),u=uxe(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=YO(n,dxe),f=l.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),d=Mt(a,i,f[0],s),h=Mt(a,i,f[1],s),p=Bo(Bo(Bo({},Oe(u,!1)),{},{fill:"none"},Oe(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return O.createElement("line",Df({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=YO(a,fxe),d=this.getTickTextAnchor(),h=Oe(f,!1),p=Oe(s,!1),y=i.map(function(m,g){var v=n.getTickValueCoord(m),x=Bo(Bo(Bo(Bo({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},v),{},{payload:m});return O.createElement(et,Df({className:Ye("recharts-polar-radius-axis-tick",j4(s)),key:"tick-".concat(m.coordinate)},xo(n.props,m,g)),t.renderTickItem(s,x,c?c(m.value,g):m.value))});return O.createElement(et,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:O.createElement(et,{className:Ye("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Dr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return O.isValidElement(n)?s=O.cloneElement(n,a):ze(n)?s=n(a):s=O.createElement(El,Df({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(w.PureComponent);Nx(Px,"displayName","PolarRadiusAxis");Nx(Px,"axisType","radiusAxis");Nx(Px,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){Ex(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F4(n.key),n)}}function jxe(e,t,r){return t&&ZO(e.prototype,t),r&&ZO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _xe(e,t,r){return t=_g(t),Sxe(e,L4()?Reflect.construct(t,r||[],_g(e).constructor):t.apply(e,r))}function Sxe(e,t){if(t&&(ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cxe(e)}function Cxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L4=function(){return!!e})()}function _g(e){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(e)}function Nxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xj(e,t)}function xj(e,t){return xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xj(e,t)}function Ex(e,t,r){return t=F4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F4(e){var t=Pxe(e,"string");return ku(t)=="symbol"?t:t+""}function Pxe(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Exe=Math.PI/180,JO=1e-5,Ax=function(e){function t(){return wxe(this,t),_xe(this,t,arguments)}return Nxe(t,e),jxe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,d=Mt(i,s,l,n.coordinate),h=Mt(i,s,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Exe),s;return i>JO?s=a==="outer"?"start":"end":i<-JO?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=zo(zo({},Oe(this.props,!1)),{},{fill:"none"},Oe(l,!1));if(c==="circle")return O.createElement(Ap,Qo({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var f=this.props.ticks,d=f.map(function(h){return Mt(a,i,s,h.coordinate)});return O.createElement(Vye,Qo({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=Oe(this.props,!1),d=Oe(s,!1),h=zo(zo({},f),{},{fill:"none"},Oe(l,!1)),p=i.map(function(y,m){var g=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),x=zo(zo(zo({textAnchor:v},f),{},{stroke:"none",fill:u},d),{},{index:m,payload:y,x:g.x2,y:g.y2});return O.createElement(et,Qo({className:Ye("recharts-polar-angle-axis-tick",j4(s)),key:"tick-".concat(y.coordinate)},xo(n.props,y,m)),l&&O.createElement("line",Qo({className:"recharts-polar-angle-axis-tick-line"},h,g)),s&&t.renderTickItem(s,x,c?c(y.value,m):y.value))});return O.createElement(et,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:O.createElement(et,{className:Ye("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return O.isValidElement(n)?s=O.cloneElement(n,a):ze(n)?s=n(a):s=O.createElement(El,Qo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(w.PureComponent);Ex(Ax,"displayName","PolarAngleAxis");Ex(Ax,"axisType","angleAxis");Ex(Ax,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Axe=V3,kxe=Axe(Object.getPrototypeOf,Object),Oxe=kxe,Txe=ys,Rxe=Oxe,Mxe=xs,$xe="[object Object]",Ixe=Function.prototype,Dxe=Object.prototype,B4=Ixe.toString,Lxe=Dxe.hasOwnProperty,Fxe=B4.call(Object);function Bxe(e){if(!Mxe(e)||Txe(e)!=$xe)return!1;var t=Rxe(e);if(t===null)return!0;var r=Lxe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&B4.call(r)==Fxe}var zxe=Bxe;const Uxe=wt(zxe);var Vxe=ys,Wxe=xs,Hxe="[object Boolean]";function qxe(e){return e===!0||e===!1||Wxe(e)&&Vxe(e)==Hxe}var Kxe=qxe;const Gxe=wt(Kxe);function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}function Yxe(e,t){return Jxe(e)||Zxe(e,t)||Qxe(e,t)||Xxe()}function Xxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qxe(e,t){if(e){if(typeof e=="string")return eT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eT(e,t)}}function eT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Jxe(e){if(Array.isArray(e))return e}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){e0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0e(e,t,r){return t=t0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t0e(e){var t=r0e(e,"string");return Zh(t)=="symbol"?t:t+""}function r0e(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nT=function(t,r,n,a,i){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+i),l+="L ".concat(t+n-s/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},n0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},a0e=function(t){var r=rT(rT({},n0e),t),n=w.useRef(),a=w.useState(-1),i=Yxe(a,2),s=i[0],l=i[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,g=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var x=Ye("recharts-trapezoid",p);return v?O.createElement(Ca,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:m,animationEasing:y,isActive:v},function(b){var _=b.upperWidth,j=b.lowerWidth,S=b.height,C=b.x,N=b.y;return O.createElement(Ca,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},O.createElement("path",Sg({},Oe(r,!0),{className:x,d:nT(C,N,_,j,S),ref:n})))}):O.createElement("g",null,O.createElement("path",Sg({},Oe(r,!0),{className:x,d:nT(c,u,f,d,h)})))},i0e=["option","shapeType","propTransformer","activeClassName","isActive"];function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function s0e(e,t){if(e==null)return{};var r=o0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){l0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l0e(e,t,r){return t=c0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c0e(e){var t=u0e(e,"string");return Jh(t)=="symbol"?t:t+""}function u0e(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d0e(e,t){return Cg(Cg({},t),e)}function f0e(e,t){return e==="symbols"}function iT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return O.createElement(DC,r);case"trapezoid":return O.createElement(a0e,r);case"sector":return O.createElement(C4,r);case"symbols":if(f0e(t))return O.createElement(fx,r);break;default:return null}}function h0e(e){return w.isValidElement(e)?e.props:e}function Ng(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?d0e:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,l=e.isActive,c=s0e(e,i0e),u;if(w.isValidElement(t))u=w.cloneElement(t,Cg(Cg({},c),h0e(t)));else if(ze(t))u=t(c);else if(Uxe(t)&&!Gxe(t)){var f=a(t,c);u=O.createElement(iT,{shapeType:r,elementProps:f})}else{var d=c;u=O.createElement(iT,{shapeType:r,elementProps:d})}return l?O.createElement(et,{className:s},u):u}function kx(e,t){return t!=null&&"trapezoids"in e.props}function Ox(e,t){return t!=null&&"sectors"in e.props}function ep(e,t){return t!=null&&"points"in e.props}function p0e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function m0e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function v0e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function g0e(e,t){var r;return kx(e,t)?r=p0e:Ox(e,t)?r=m0e:ep(e,t)&&(r=v0e),r}function y0e(e,t){var r;return kx(e,t)?r="trapezoids":Ox(e,t)?r="sectors":ep(e,t)&&(r="points"),r}function x0e(e,t){if(kx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ox(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ep(e,t)?t.payload:{}}function b0e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=y0e(r,t),i=x0e(r,t),s=n.filter(function(c,u){var f=bo(i,c),d=r.props[a].filter(function(y){var m=g0e(r,t);return m(y,t)}),h=r.props[a].indexOf(d[d.length-1]),p=u===h;return f&&p}),l=n.indexOf(s[s.length-1]);return l}var Qm;function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(this,arguments)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U4(n.key),n)}}function j0e(e,t,r){return t&&oT(e.prototype,t),r&&oT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _0e(e,t,r){return t=Pg(t),S0e(e,z4()?Reflect.construct(t,r||[],Pg(e).constructor):t.apply(e,r))}function S0e(e,t){if(t&&(Ou(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C0e(e)}function C0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z4=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(e)}function N0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bj(e,t)}function bj(e,t){return bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bj(e,t)}function ga(e,t,r){return t=U4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U4(e){var t=P0e(e,"string");return Ou(t)=="symbol"?t:t+""}function P0e(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ws=function(e){function t(r){var n;return w0e(this,t),n=_0e(this,t,[r]),ga(n,"pieRef",null),ga(n,"sectorRefs",[]),ga(n,"id",Eo("recharts-pie-")),ga(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ze(a)&&a()}),ga(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ze(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return N0e(t,e),j0e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=Oe(this.props,!1),d=Oe(s,!1),h=Oe(l,!1),p=s&&s.offsetRadius||20,y=n.map(function(m,g){var v=(m.startAngle+m.endAngle)/2,x=Mt(m.cx,m.cy,m.outerRadius+p,v),b=Ot(Ot(Ot(Ot({},f),m),{},{stroke:"none"},d),{},{index:g,textAnchor:t.getTextAnchor(x.x,m.cx)},x),_=Ot(Ot(Ot(Ot({},f),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[Mt(m.cx,m.cy,m.outerRadius,v),x]}),j=c;return Fe(c)&&Fe(u)?j="value":Fe(c)&&(j=u),O.createElement(et,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(s,b,Bt(m,j)))});return O.createElement(et,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=a.isActiveIndex(f),h=c&&a.hasActiveIndex()?c:null,p=d?s:h,y=Ot(Ot({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return O.createElement(et,Tc({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},xo(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),O.createElement(Ng,Tc({option:p,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return O.createElement(Ca,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,g=[],v=i&&i[0],x=v.startAngle;return i.forEach(function(b,_){var j=h&&h[_],S=_>0?ra(b,"paddingAngle",0):0;if(j){var C=Qt(j.endAngle-j.startAngle,b.endAngle-b.startAngle),N=Ot(Ot({},b),{},{startAngle:x+S,endAngle:x+C(m)+S});g.push(N),x=N.endAngle}else{var A=b.endAngle,E=b.startAngle,k=Qt(0,A-E),R=k(m),T=Ot(Ot({},b),{},{startAngle:x+S,endAngle:x+R+S});g.push(T),x=T.endAngle}}),O.createElement(et,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!bo(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,d=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!s||!s.length||!fe(u)||!fe(f)||!fe(d)||!fe(h))return null;var m=Ye("recharts-pie",l);return O.createElement(et,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(s),Dr.renderCallByParent(this.props,null,!1),(!p||y)&&ei.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(O.isValidElement(n))return O.cloneElement(n,a);if(ze(n))return n(a);var s=Ye("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return O.createElement(fo,Tc({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(O.isValidElement(n))return O.cloneElement(n,a);var s=i;if(ze(n)&&(s=n(a),O.isValidElement(s)))return s;var l=Ye("recharts-pie-label-text",typeof n!="boolean"&&!ze(n)?n.className:"");return O.createElement(El,Tc({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(w.PureComponent);Qm=ws;ga(ws,"displayName","Pie");ga(ws,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ga(ws,"parseDeltaAngle",function(e,t){var r=gn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ga(ws,"getRealPieData",function(e){var t=e.data,r=e.children,n=Oe(e,!1),a=wn(r,Sp);return t&&t.length?t.map(function(i,s){return Ot(Ot(Ot({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Ot(Ot({},n),i.props)}):[]});ga(ws,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=w4(a,i),l=n+yn(e.cx,a,a/2),c=r+yn(e.cy,i,i/2),u=yn(e.innerRadius,s,0),f=yn(e.outerRadius,s,s*.8),d=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});ga(ws,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ot(Ot({},t.type.defaultProps),t.props):t.props,a=Qm.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=Qm.parseCoordinateOfPie(n,r),m=Qm.parseDeltaAngle(s,l),g=Math.abs(m),v=u;Fe(u)&&Fe(d)?(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Fe(u)&&(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=d);var x=a.filter(function(N){return Bt(N,v,0)!==0}).length,b=(g>=360?x:x-1)*c,_=g-x*p-b,j=a.reduce(function(N,A){var E=Bt(A,v,0);return N+(fe(E)?E:0)},0),S;if(j>0){var C;S=a.map(function(N,A){var E=Bt(N,v,0),k=Bt(N,f,A),R=(fe(E)?E:0)/j,T;A?T=C.endAngle+gn(m)*c*(E!==0?1:0):T=s;var P=T+gn(m)*((E!==0?p:0)+R*_),$=(T+P)/2,I=(y.innerRadius+y.outerRadius)/2,M=[{name:k,value:E,payload:N,dataKey:v,type:h}],D=Mt(y.cx,y.cy,I,$);return C=Ot(Ot(Ot({percent:R,cornerRadius:i,name:k,tooltipPayload:M,midAngle:$,middleRadius:I,tooltipPosition:D},N),y),{},{value:Bt(N,v),startAngle:T,endAngle:P,payload:N,paddingAngle:gn(m)*c}),C})}return Ot(Ot({},y),{},{sectors:S,data:a})});var E0e=Math.ceil,A0e=Math.max;function k0e(e,t,r,n){for(var a=-1,i=A0e(E0e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var O0e=k0e,T0e=lL,lT=1/0,R0e=17976931348623157e292;function M0e(e){if(!e)return e===0?e:0;if(e=T0e(e),e===lT||e===-lT){var t=e<0?-1:1;return t*R0e}return e===e?e:0}var V4=M0e,$0e=O0e,I0e=mx,xb=V4;function D0e(e){return function(t,r,n){return n&&typeof n!="number"&&I0e(t,r,n)&&(r=n=void 0),t=xb(t),r===void 0?(r=t,t=0):r=xb(r),n=n===void 0?t<r?1:-1:xb(n),$0e(t,r,n,e)}}var L0e=D0e,F0e=L0e,B0e=F0e(),z0e=B0e;const Eg=wt(z0e);function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){W4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W4(e,t,r){return t=U0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U0e(e){var t=V0e(e,"string");return tp(t)=="symbol"?t:t+""}function V0e(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W0e=["Webkit","Moz","O","ms"],H0e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=W0e.reduce(function(i,s){return uT(uT({},i),{},W4({},s+n,r))},{});return a[t]=r,a};function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q4(n.key),n)}}function K0e(e,t,r){return t&&fT(e.prototype,t),r&&fT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G0e(e,t,r){return t=kg(t),Y0e(e,H4()?Reflect.construct(t,r||[],kg(e).constructor):t.apply(e,r))}function Y0e(e,t){if(t&&(Tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X0e(e)}function X0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(e)}function Q0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wj(e,t)}function wj(e,t){return wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wj(e,t)}function qn(e,t,r){return t=q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q4(e){var t=Z0e(e,"string");return Tu(t)=="symbol"?t:t+""}function Z0e(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J0e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Rf().domain(Eg(0,c)).range([i,i+s-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},hT=function(t){return t.changedTouches&&!!t.changedTouches.length},Ru=function(e){function t(r){var n;return q0e(this,t),n=G0e(this,t,[r]),qn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),qn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),qn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),qn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),qn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),qn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),qn(n,"handleSlideDragStart",function(a){var i=hT(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Q0e(t,e),K0e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,d),y=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:y===f?f:y-y%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=Bt(i[n],l,n);return ze(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+f-d-l,u+f-d-s):m<0&&(m=Math.max(m,u-s,u-l));var g=this.getIndex({startX:s+m,endX:l+m});(g.startIndex!==h||g.endIndex!==p)&&y&&y(g),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=hT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,y=f.onChange,m=f.gap,g=f.data,v={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,d+h-p-u):x<0&&(x=Math.max(x,d-u)),v[s]=u+x;var b=this.getIndex(v),_=b.startIndex,j=b.endIndex,S=function(){var N=g.length-1;return s==="startX"&&(l>c?_%m===0:j%m===0)||l<c&&j===N||s==="endX"&&(l>c?j%m===0:_%m===0)||l>c&&j===N};this.setState(qn(qn({},s,u+x),"brushMoveStartX",n.pageX),function(){y&&S()&&y(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,f=this.state[a],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(qn({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return O.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=w.Children.only(u);return d?O.cloneElement(d,{x:a,y:i,width:s,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,m=c.startIndex,g=c.endIndex,v=Math.max(n,this.props.x),x=bb(bb({},Oe(this.props,!1)),{},{x:v,y:u,width:f,height:d}),b=p||"Min value: ".concat((i=y[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=y[g])===null||s===void 0?void 0:s.name);return O.createElement(et,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:s,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,y={pointerEvents:"none",fill:u};return O.createElement(et,{className:"recharts-brush-texts"},O.createElement(El,Ag({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+l/2},y),this.getTextOfTick(a)),O.createElement(El,Ag({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:s+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,g=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!fe(l)||!fe(c)||!fe(u)||!fe(f)||u<=0||f<=0)return null;var b=Ye("recharts-brush",i),_=O.Children.count(s)===1,j=H0e("userSelect","none");return O.createElement(et,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||v||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return O.isValidElement(n)?i=O.cloneElement(n,a):ze(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return bb({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?J0e({data:i,width:s,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(w.PureComponent);qn(Ru,"displayName","Brush");qn(Ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ebe=cC;function tbe(e,t){var r;return ebe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var rbe=tbe,nbe=$3,abe=Ii,ibe=rbe,sbe=zn,obe=mx;function lbe(e,t,r){var n=sbe(e)?nbe:ibe;return r&&obe(e,t,r)&&(t=void 0),n(e,abe(t))}var cbe=lbe;const ube=wt(cbe);var Pi=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},pT=nL;function dbe(e,t,r){t=="__proto__"&&pT?pT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var fbe=dbe,hbe=fbe,pbe=tL,mbe=Ii;function vbe(e,t){var r={};return t=mbe(t),pbe(e,function(n,a,i){hbe(r,a,t(n,a,i))}),r}var gbe=vbe;const ybe=wt(gbe);function xbe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var bbe=xbe,wbe=cC;function jbe(e,t){var r=!0;return wbe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var _be=jbe,Sbe=bbe,Cbe=_be,Nbe=Ii,Pbe=zn,Ebe=mx;function Abe(e,t,r){var n=Pbe(e)?Sbe:Cbe;return r&&Ebe(e,t,r)&&(t=void 0),n(e,Nbe(t))}var kbe=Abe;const K4=wt(kbe);var Obe=["x","y"];function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jj.apply(this,arguments)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){Tbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tbe(e,t,r){return t=Rbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rbe(e){var t=Mbe(e,"string");return rp(t)=="symbol"?t:t+""}function Mbe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $be(e,t){if(e==null)return{};var r=Ibe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ibe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dbe(e,t){var r=e.x,n=e.y,a=$be(e,Obe),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),h=parseInt(d,10);return nf(nf(nf(nf(nf({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function vT(e){return O.createElement(Ng,jj({shapeType:"rectangle",propTransformer:Dbe,activeClassName:"recharts-active-bar"},e))}var Lbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=fe(n)||cee(n);return i?t(n,a):(i||kl(),r)}},Fbe=["value","background"],G4;function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function Bbe(e,t){if(e==null)return{};var r=zbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){Xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ube(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X4(n.key),n)}}function Vbe(e,t,r){return t&&yT(e.prototype,t),r&&yT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wbe(e,t,r){return t=Tg(t),Hbe(e,Y4()?Reflect.construct(t,r||[],Tg(e).constructor):t.apply(e,r))}function Hbe(e,t){if(t&&(Mu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qbe(e)}function qbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(e)}function Kbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_j(e,t)}function _j(e,t){return _j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_j(e,t)}function Xs(e,t,r){return t=X4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X4(e){var t=Gbe(e,"string");return Mu(t)=="symbol"?t:t+""}function Gbe(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qt=function(e){function t(){var r;Ube(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Wbe(this,t,[].concat(a)),Xs(r,"state",{isAnimationFinished:!1}),Xs(r,"id",Eo("recharts-bar-")),Xs(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Xs(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Kbe(t,e),Vbe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=Oe(this.props,!1);return n&&n.map(function(d,h){var p=h===c,y=p?u:s,m=mr(mr(mr({},f),d),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return O.createElement(et,Og({className:"recharts-bar-rectangle"},xo(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),O.createElement(vT,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return O.createElement(Ca,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=i.map(function(g,v){var x=h&&h[v];if(x){var b=Qt(x.x,g.x),_=Qt(x.y,g.y),j=Qt(x.width,g.width),S=Qt(x.height,g.height);return mr(mr({},g),{},{x:b(y),y:_(y),width:j(y),height:S(y)})}if(s==="horizontal"){var C=Qt(0,g.height),N=C(y);return mr(mr({},g),{},{y:g.y+g.height-N,height:N})}var A=Qt(0,g.width),E=A(y);return mr(mr({},g),{},{width:E})});return O.createElement(et,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!bo(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=Oe(this.props.background,!1);return i.map(function(u,f){u.value;var d=u.background,h=Bbe(u,Fbe);if(!d)return null;var p=mr(mr(mr(mr(mr({},h),{},{fill:"#eee"},d),c),xo(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return O.createElement(vT,Og({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=wn(f,Od);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(g,v){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:Bt(g,v)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(et,y,d.map(function(m){return O.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,v=Ye("recharts-bar",s),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=x||b,j=Fe(m)?this.id:m;return O.createElement(et,{className:v},x||b?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(j)},O.createElement("rect",{x:x?u:u-d/2,y:b?f:f-h/2,width:x?d:d*2,height:b?h:h*2}))):null,O.createElement(et,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!p||g)&&ei.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(w.PureComponent);G4=qt;Xs(qt,"displayName","Bar");Xs(qt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xs(qt,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=Eme(n,r);if(!p)return null;var y=t.layout,m=r.type.defaultProps,g=m!==void 0?mr(mr({},m),r.props):r.props,v=g.dataKey,x=g.children,b=g.minPointSize,_=y==="horizontal"?s:i,j=u?_.scale.domain():null,S=$me({numericAxis:_}),C=wn(x,Sp),N=d.map(function(A,E){var k,R,T,P,$,I;u?k=Ame(u[f+E],j):(k=Bt(A,v),Array.isArray(k)||(k=[S,k]));var M=Lbe(b,G4.defaultProps.minPointSize)(k[1],E);if(y==="horizontal"){var D,L=[s.scale(k[0]),s.scale(k[1])],U=L[0],X=L[1];R=oO({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:A,index:E}),T=(D=X??U)!==null&&D!==void 0?D:void 0,P=p.size;var G=U-X;if($=Number.isNaN(G)?0:G,I={x:R,y:s.y,width:P,height:s.height},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var te=gn($||M)*(Math.abs(M)-Math.abs($));T-=te,$+=te}}else{var z=[i.scale(k[0]),i.scale(k[1])],B=z[0],V=z[1];if(R=B,T=oO({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:A,index:E}),P=V-B,$=p.size,I={x:i.x,y:T,width:i.width,height:$},Math.abs(M)>0&&Math.abs(P)<Math.abs(M)){var H=gn(P||M)*(Math.abs(M)-Math.abs(P));P+=H}}return mr(mr(mr({},A),{},{x:R,y:T,width:P,height:$,value:u?k:k[1],payload:A,background:I},C&&C[E]&&C[E].props),{},{tooltipPayload:[x4(r,A)],tooltipPosition:{x:R+P/2,y:T+$/2}})});return mr({data:N,layout:y},h)});function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function Ybe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q4(n.key),n)}}function Xbe(e,t,r){return t&&xT(e.prototype,t),r&&xT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){Tx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tx(e,t,r){return t=Q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q4(e){var t=Qbe(e,"string");return np(t)=="symbol"?t:t+""}function Qbe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rx=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Gn(u,qt);return f.reduce(function(p,y){var m=r[y],g=m.orientation,v=m.domain,x=m.padding,b=x===void 0?{}:x,_=m.mirror,j=m.reversed,S="".concat(g).concat(_?"Mirror":""),C,N,A,E,k;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var R=v[1]-v[0],T=1/0,P=m.categoricalDomain.sort(hee);if(P.forEach(function(z,B){B>0&&(T=Math.min((z||0)-(P[B-1]||0),T))}),Number.isFinite(T)){var $=T/R,I=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(C=$*I/2),m.padding==="no-gap"){var M=yn(t.barCategoryGap,$*I),D=$*I/2;C=D-M-(D-M)/I*M}}}a==="xAxis"?N=[n.left+(b.left||0)+(C||0),n.left+n.width-(b.right||0)-(C||0)]:a==="yAxis"?N=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(C||0),n.top+n.height-(b.bottom||0)-(C||0)]:N=m.range,j&&(N=[N[1],N[0]]);var L=m4(m,i,h),U=L.scale,X=L.realScaleType;U.domain(v).range(N),v4(U);var G=g4(U,Ha(Ha({},m),{},{realScaleType:X}));a==="xAxis"?(k=g==="top"&&!_||g==="bottom"&&_,A=n.left,E=d[S]-k*m.height):a==="yAxis"&&(k=g==="left"&&!_||g==="right"&&_,A=d[S]-k*m.width,E=n.top);var te=Ha(Ha(Ha({},m),G),{},{realScaleType:X,x:A,y:E,scale:U,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return te.bandSize=mg(te,G),!m.hide&&a==="xAxis"?d[S]+=(k?-1:1)*te.height:m.hide||(d[S]+=(k?-1:1)*te.width),Ha(Ha({},p),{},Tx({},y,te))},{})},Z4=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Zbe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Z4({x:r,y:n},{x:a,y:i})},J4=function(){function e(t){Ybe(this,e),this.scale=t}return Xbe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Tx(J4,"EPS",1e-4);var LC=function(t){var r=Object.keys(t).reduce(function(n,a){return Ha(Ha({},n),{},Tx({},a,J4.create(t[a])))},{});return Ha(Ha({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return ybe(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return K4(a,function(i,s){return r[s].isInRange(i)})}})};function Jbe(e){return(e%180+180)%180}var ewe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Jbe(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},twe=Ii,rwe=_p,nwe=hx;function awe(e){return function(t,r,n){var a=Object(t);if(!rwe(t)){var i=twe(r);t=nwe(t),r=function(l){return i(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var iwe=awe,swe=V4;function owe(e){var t=swe(e),r=t%1;return t===t?r?t-r:t:0}var lwe=owe,cwe=Y3,uwe=Ii,dwe=lwe,fwe=Math.max;function hwe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:dwe(r);return a<0&&(a=fwe(n+a,0)),cwe(e,uwe(t),a)}var pwe=hwe,mwe=iwe,vwe=pwe,gwe=mwe(vwe),ywe=gwe;const xwe=wt(ywe);var bwe=hJ(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),FC=w.createContext(void 0),BC=w.createContext(void 0),eF=w.createContext(void 0),tF=w.createContext({}),rF=w.createContext(void 0),nF=w.createContext(0),aF=w.createContext(0),wT=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,f=bwe(i);return O.createElement(FC.Provider,{value:n},O.createElement(BC.Provider,{value:a},O.createElement(tF.Provider,{value:i},O.createElement(eF.Provider,{value:f},O.createElement(rF.Provider,{value:s},O.createElement(nF.Provider,{value:u},O.createElement(aF.Provider,{value:c},l)))))))},wwe=function(){return w.useContext(rF)},iF=function(t){var r=w.useContext(FC);r==null&&kl();var n=r[t];return n==null&&kl(),n},jwe=function(){var t=w.useContext(FC);return Bs(t)},_we=function(){var t=w.useContext(BC),r=xwe(t,function(n){return K4(n.domain,Number.isFinite)});return r||Bs(t)},sF=function(t){var r=w.useContext(BC);r==null&&kl();var n=r[t];return n==null&&kl(),n},Swe=function(){var t=w.useContext(eF);return t},Cwe=function(){return w.useContext(tF)},zC=function(){return w.useContext(aF)},UC=function(){return w.useContext(nF)};function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Nwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lF(n.key),n)}}function Ewe(e,t,r){return t&&Pwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Awe(e,t,r){return t=Rg(t),kwe(e,oF()?Reflect.construct(t,r||[],Rg(e).constructor):t.apply(e,r))}function kwe(e,t){if(t&&($u(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Owe(e)}function Owe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!e})()}function Rg(e){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(e)}function Twe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sj(e,t)}function Sj(e,t){return Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sj(e,t)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){VC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VC(e,t,r){return t=lF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=Rwe(e,"string");return $u(t)=="symbol"?t:t+""}function Rwe(e,t){if($u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mwe(e,t){return Lwe(e)||Dwe(e,t)||Iwe(e,t)||$we()}function $we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iwe(e,t){if(e){if(typeof e=="string")return ST(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ST(e,t)}}function ST(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Lwe(e){if(Array.isArray(e))return e}function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cj.apply(this,arguments)}var Fwe=function(t,r){var n;return O.isValidElement(t)?n=O.cloneElement(t,r):ze(t)?n=t(r):n=O.createElement("line",Cj({},r,{className:"recharts-reference-line-line"})),n},Bwe=function(t,r,n,a,i,s,l,c,u){var f=i.x,d=i.y,h=i.width,p=i.height;if(n){var y=u.y,m=t.y.apply(y,{position:s});if(Pi(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:f+h,y:m},{x:f,y:m}];return c==="left"?g.reverse():g}if(r){var v=u.x,x=t.x.apply(v,{position:s});if(Pi(u,"discard")&&!t.x.isInRange(x))return null;var b=[{x,y:d+p},{x,y:d}];return l==="top"?b.reverse():b}if(a){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:s})});return Pi(u,"discard")&&ube(j,function(S){return!t.isInRange(S)})?null:j}return null};function zwe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=wwe(),f=iF(a),d=sF(i),h=Swe();if(!u||!h)return null;Ja(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=LC({x:f.scale,y:d.scale}),y=Or(t),m=Or(r),g=n&&n.length===2,v=Bwe(p,y,m,g,h,e.position,f.orientation,d.orientation,e);if(!v)return null;var x=Mwe(v,2),b=x[0],_=b.x,j=b.y,S=x[1],C=S.x,N=S.y,A=Pi(e,"hidden")?"url(#".concat(u,")"):void 0,E=_T(_T({clipPath:A},Oe(e,!0)),{},{x1:_,y1:j,x2:C,y2:N});return O.createElement(et,{className:Ye("recharts-reference-line",l)},Fwe(s,E),Dr.renderCallByParent(e,Zbe({x1:_,y1:j,x2:C,y2:N})))}var WC=function(e){function t(){return Nwe(this,t),Awe(this,t,arguments)}return Twe(t,e),Ewe(t,[{key:"render",value:function(){return O.createElement(zwe,this.props)}}])}(O.Component);VC(WC,"displayName","ReferenceLine");VC(WC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nj.apply(this,arguments)}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){Mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uF(n.key),n)}}function Wwe(e,t,r){return t&&Vwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hwe(e,t,r){return t=Mg(t),qwe(e,cF()?Reflect.construct(t,r||[],Mg(e).constructor):t.apply(e,r))}function qwe(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kwe(e)}function Kwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!e})()}function Mg(e){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mg(e)}function Gwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pj(e,t)}function Pj(e,t){return Pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pj(e,t)}function Mx(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=Ywe(e,"string");return Iu(t)=="symbol"?t:t+""}function Ywe(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xwe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=LC({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Pi(t,"discard")&&!s.isInRange(l)?null:l},$x=function(e){function t(){return Uwe(this,t),Hwe(this,t,arguments)}return Gwe(t,e),Wwe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=Or(a),f=Or(i);if(Ja(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=Xwe(this.props);if(!d)return null;var h=d.x,p=d.y,y=this.props,m=y.shape,g=y.className,v=Pi(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=NT(NT({clipPath:v},Oe(this.props,!0)),{},{cx:h,cy:p});return O.createElement(et,{className:Ye("recharts-reference-dot",g)},t.renderDot(m,x),Dr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(O.Component);Mx($x,"displayName","ReferenceDot");Mx($x,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Mx($x,"renderDot",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):ze(e)?r=e(t):r=O.createElement(Ap,Nj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ej.apply(this,arguments)}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){Ix(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fF(n.key),n)}}function Jwe(e,t,r){return t&&Zwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e1e(e,t,r){return t=$g(t),t1e(e,dF()?Reflect.construct(t,r||[],$g(e).constructor):t.apply(e,r))}function t1e(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r1e(e)}function r1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!e})()}function $g(e){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(e)}function n1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aj(e,t)}function Aj(e,t){return Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Aj(e,t)}function Ix(e,t,r){return t=fF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=a1e(e,"string");return Du(t)=="symbol"?t:t+""}function a1e(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i1e=function(t,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=LC({x:f.scale,y:d.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Pi(i,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:Z4(p,y)},Dx=function(e){function t(){return Qwe(this,t),e1e(this,t,arguments)}return n1e(t,e),Jwe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;Ja(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Or(a),h=Or(i),p=Or(s),y=Or(l),m=this.props.shape;if(!d&&!h&&!p&&!y&&!m)return null;var g=i1e(d,h,p,y,this.props);if(!g&&!m)return null;var v=Pi(this.props,"hidden")?"url(#".concat(f,")"):void 0;return O.createElement(et,{className:Ye("recharts-reference-area",c)},t.renderRect(m,ET(ET({clipPath:v},Oe(this.props,!0)),g)),Dr.renderCallByParent(this.props,g))}}])}(O.Component);Ix(Dx,"displayName","ReferenceArea");Ix(Dx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ix(Dx,"renderRect",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):ze(e)?r=e(t):r=O.createElement(DC,Ej({},t,{className:"recharts-reference-area-rect"})),r});function hF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function s1e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ewe(n,r)}function o1e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function Ig(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function l1e(e,t){return hF(e,t+1)}function c1e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,f=s,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:hF(n,u)};var m=c,g,v=function(){return g===void 0&&(g=r(y,m)),g},x=y.coordinate,b=c===0||Ig(e,x,v,f,l);b||(c=0,f=s,u+=1),b&&(f=x+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){u1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u1e(e,t,r){return t=d1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d1e(e){var t=f1e(e,"string");return ap(t)=="symbol"?t:t+""}function f1e(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h1e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===s-1){var g=e*(p.coordinate+e*m()/2-c);i[h]=p=tn(tn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=tn(tn({},p),{},{tickCoord:p.coordinate});var v=Ig(e,p.tickCoord,m,l,c);v&&(c=p.tickCoord-e*(m()/2+a),i[h]=tn(tn({},p),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return i}function p1e(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(i){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);s[l-1]=f=tn(tn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Ig(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+a),s[l-1]=tn(tn({},f),{},{isShow:!0}))}for(var y=i?l-1:l,m=function(x){var b=s[x],_,j=function(){return _===void 0&&(_=r(b,x)),_};if(x===0){var S=e*(b.coordinate-e*j()/2-c);s[x]=b=tn(tn({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else s[x]=b=tn(tn({},b),{},{tickCoord:b.coordinate});var C=Ig(e,b.tickCoord,j,c,u);C&&(c=b.tickCoord+e*(j()/2+a),s[x]=tn(tn({},b),{},{isShow:!0}))},g=0;g<y;g++)m(g);return s}function HC(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(fe(c)||wa.isSsr)return l1e(a,typeof c=="number"&&fe(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=f&&p==="width"?Tf(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,_){var j=ze(u)?u(b.value,_):b.value;return p==="width"?s1e(Tf(j,{fontSize:t,letterSpacing:r}),y,d):Tf(j,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?gn(a[1].coordinate-a[0].coordinate):1,v=o1e(i,g,p);return c==="equidistantPreserveStart"?c1e(g,v,m,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=p1e(g,v,m,a,s,c==="preserveStartEnd"):h=h1e(g,v,m,a,s),h.filter(function(x){return x.isShow}))}var m1e=["viewBox"],v1e=["viewBox"],g1e=["ticks"];function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){qC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wb(e,t){if(e==null)return{};var r=y1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mF(n.key),n)}}function b1e(e,t,r){return t&&OT(e.prototype,t),r&&OT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w1e(e,t,r){return t=Dg(t),j1e(e,pF()?Reflect.construct(t,r||[],Dg(e).constructor):t.apply(e,r))}function j1e(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _1e(e)}function _1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!e})()}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(e)}function S1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kj(e,t)}function kj(e,t){return kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kj(e,t)}function qC(e,t,r){return t=mF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=C1e(e,"string");return Lu(t)=="symbol"?t:t+""}function C1e(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Td=function(e){function t(r){var n;return x1e(this,t),n=w1e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return S1e(t,e),b1e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=wb(n,m1e),l=this.props,c=l.viewBox,u=wb(l,v1e);return!Hc(i,c)||!Hc(s,u)||!Hc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,y,m,g,v,x,b=d?-1:1,_=n.tickSize||f,j=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,g=s+ +!d*c,m=g-b*_,x=m-b*h,v=j;break;case"left":m=g=n.coordinate,y=i+ +!d*l,p=y-b*_,v=p-b*h,x=j;break;case"right":m=g=n.coordinate,y=i+ +d*l,p=y+b*_,v=p+b*h,x=j;break;default:p=y=n.coordinate,g=s+ +d*c,m=g+b*_,x=m+b*h,v=j;break}return{line:{x1:p,y1:m,x2:y,y2:g},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=_r(_r(_r({},Oe(this.props,!1)),Oe(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=_r(_r({},d),{},{x1:a,y1:i+h*l,x2:a+s,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=_r(_r({},d),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+l})}return O.createElement("line",Rc({},d,{className:Ye("recharts-cartesian-axis-line",ra(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,p=HC(_r(_r({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Oe(this.props,!1),v=Oe(f,!1),x=_r(_r({},g),{},{fill:"none"},Oe(c,!1)),b=p.map(function(_,j){var S=s.getTickLineCoord(_),C=S.line,N=S.tick,A=_r(_r(_r(_r({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:u},v),N),{},{index:j,payload:_,visibleTicksCount:p.length,tickFormatter:d});return O.createElement(et,Rc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},xo(s.props,_,j)),c&&O.createElement("line",Rc({},x,C,{className:Ye("recharts-cartesian-axis-tick-line",ra(c,"className"))})),f&&t.renderTickItem(f,A,"".concat(ze(d)?d(_.value,j):_.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=wb(d,g1e),y=h;return ze(c)&&(y=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!y||!y.length?null:O.createElement(et,{className:Ye("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,l=Ye(a.className,"recharts-cartesian-axis-tick-value");return O.isValidElement(n)?s=O.cloneElement(n,_r(_r({},a),{},{className:l})):ze(n)?s=n(_r(_r({},a),{},{className:l})):s=O.createElement(El,Rc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(w.Component);qC(Td,"displayName","CartesianAxis");qC(Td,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var N1e=["x1","y1","x2","y2","key"],P1e=["offset"];function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){E1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E1e(e,t,r){return t=A1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A1e(e){var t=k1e(e,"string");return Ol(t)=="symbol"?t:t+""}function k1e(e,t){if(Ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(this,arguments)}function RT(e,t){if(e==null)return{};var r=O1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var T1e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vF(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=RT(t,N1e),u=Oe(c,!1);u.offset;var f=RT(u,P1e);r=O.createElement("line",sl({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function R1e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=nn(nn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return vF(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function M1e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=nn(nn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return vF(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function $1e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],m=y?a+s-h:f[p+1]-h;if(m<=0)return null;var g=p%t.length;return O.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function I1e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var y=!f[p+1],m=y?i+l-h:f[p+1]-h;if(m<=0)return null;var g=p%n.length;return O.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var D1e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return p4(HC(nn(nn(nn({},Td.defaultProps),n),{},{ticks:Zi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},L1e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return p4(HC(nn(nn(nn({},Td.defaultProps),n),{},{ticks:Zi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},ec={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sn(e){var t,r,n,a,i,s,l=zC(),c=UC(),u=Cwe(),f=nn(nn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ec.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ec.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ec.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ec.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ec.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:ec.verticalFill,x:fe(e.x)?e.x:u.left,y:fe(e.y)?e.y:u.top,width:fe(e.width)?e.width:u.width,height:fe(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,y=f.height,m=f.syncWithTicks,g=f.horizontalValues,v=f.verticalValues,x=jwe(),b=_we();if(!fe(p)||p<=0||!fe(y)||y<=0||!fe(d)||d!==+d||!fe(h)||h!==+h)return null;var _=f.verticalCoordinatesGenerator||D1e,j=f.horizontalCoordinatesGenerator||L1e,S=f.horizontalPoints,C=f.verticalPoints;if((!S||!S.length)&&ze(j)){var N=g&&g.length,A=j({yAxis:b?nn(nn({},b),{},{ticks:N?g:b.ticks}):void 0,width:l,height:c,offset:u},N?!0:m);Ja(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(A),"]")),Array.isArray(A)&&(S=A)}if((!C||!C.length)&&ze(_)){var E=v&&v.length,k=_({xAxis:x?nn(nn({},x),{},{ticks:E?v:x.ticks}):void 0,width:l,height:c,offset:u},E?!0:m);Ja(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ol(k),"]")),Array.isArray(k)&&(C=k)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(T1e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),O.createElement(R1e,sl({},f,{offset:u,horizontalPoints:S,xAxis:x,yAxis:b})),O.createElement(M1e,sl({},f,{offset:u,verticalPoints:C,xAxis:x,yAxis:b})),O.createElement($1e,sl({},f,{horizontalPoints:S})),O.createElement(I1e,sl({},f,{verticalPoints:C})))}sn.displayName="CartesianGrid";var F1e=["type","layout","connectNulls","ref"],B1e=["key"];function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function MT(e,t){if(e==null)return{};var r=z1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tc(e){return H1e(e)||W1e(e)||V1e(e)||U1e()}function U1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V1e(e,t){if(e){if(typeof e=="string")return Oj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oj(e,t)}}function W1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H1e(e){if(Array.isArray(e))return Oj(e)}function Oj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yF(n.key),n)}}function K1e(e,t,r){return t&&IT(e.prototype,t),r&&IT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G1e(e,t,r){return t=Lg(t),Y1e(e,gF()?Reflect.construct(t,r||[],Lg(e).constructor):t.apply(e,r))}function Y1e(e,t){if(t&&(Fu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1e(e)}function X1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!e})()}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(e)}function Q1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tj(e,t)}function Tj(e,t){return Tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tj(e,t)}function qa(e,t,r){return t=yF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=Z1e(e,"string");return Fu(t)=="symbol"?t:t+""}function Z1e(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $n=function(e){function t(){var r;q1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=G1e(this,t,[].concat(a)),qa(r,"state",{isAnimationFinished:!0,totalLength:0}),qa(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),qa(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(v,x){return v+x});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var f=Math.floor(s/u),d=s%u,h=l-s,p=[],y=0,m=0;y<c.length;m+=c[y],++y)if(m+c[y]>d){p=[].concat(tc(c.slice(0,y)),[d-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(tc(t.repeat(c,f)),tc(p),g).map(function(v){return"".concat(v,"px")}).join(", ")}),qa(r,"id",Eo("recharts-line-")),qa(r,"pathRef",function(s){r.mainCurve=s}),qa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),qa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Q1e(t,e),K1e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=wn(f,Od);if(!d)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:Bt(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(et,p,d.map(function(y){return O.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=Oe(this.props,!1),h=Oe(c,!0),p=u.map(function(m,g){var v=Hn(Hn(Hn({key:"dot-".concat(g),r:3},d),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:f,payload:m.payload,points:u});return t.renderDotItem(c,v)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return O.createElement(et,Lf({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=MT(l,F1e),h=Hn(Hn(Hn({},Oe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:f});return O.createElement(fo,Lf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,f=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,y=s.animateNewValues,m=s.width,g=s.height,v=this.state,x=v.prevPoints,b=v.totalLength;return O.createElement(Ca,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(x){var S=x.length/l.length,C=l.map(function(R,T){var P=Math.floor(T*S);if(x[P]){var $=x[P],I=Qt($.x,R.x),M=Qt($.y,R.y);return Hn(Hn({},R),{},{x:I(j),y:M(j)})}if(y){var D=Qt(m*2,R.x),L=Qt(g/2,R.y);return Hn(Hn({},R),{},{x:D(j),y:L(j)})}return Hn(Hn({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(C,n,a)}var N=Qt(0,b),A=N(j),E;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});E=i.getStrokeDasharray(A,b,k)}else E=i.generateSimpleStrokeDasharray(b,A);return i.renderCurveStatically(l,n,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&s&&s.length&&(!u&&f>0||!bo(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,y=a.height,m=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=Ye("recharts-line",c),_=u&&u.allowDataOverflow,j=f&&f.allowDataOverflow,S=_||j,C=Fe(g)?this.id:g,N=(n=Oe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=N.r,E=A===void 0?3:A,k=N.strokeWidth,R=k===void 0?2:k,T=s3(s)?s:{},P=T.clipDot,$=P===void 0?!0:P,I=E*2+R;return O.createElement(et,{className:b},_||j?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(C)},O.createElement("rect",{x:_?h:h-p/2,y:j?d:d-y/2,width:_?p:p*2,height:j?y:y*2})),!$&&O.createElement("clipPath",{id:"clipPath-dots-".concat(C)},O.createElement("rect",{x:h-I/2,y:d-I/2,width:p+I,height:y+I}))):null,!x&&this.renderCurve(S,C),this.renderErrorBar(S,C),(x||s)&&this.renderDots(S,$,C),(!m||v)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(tc(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(tc(s),tc(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(O.isValidElement(n))i=O.cloneElement(n,a);else if(ze(n))i=n(a);else{var s=a.key,l=MT(a,B1e),c=Ye("recharts-line-dot",typeof n!="boolean"?n.className:"");i=O.createElement(Ap,Lf({key:s},l,{className:c}))}return i}}])}(w.PureComponent);qa($n,"displayName","Line");qa($n,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});qa($n,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,p){var y=Bt(h,s);return f==="horizontal"?{x:Pu({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Fe(y)?null:n.scale(y),value:y,payload:h}:{x:Fe(y)?null:r.scale(y),y:Pu({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:y,payload:h}});return Hn({points:d,layout:f},u)});var J1e=["layout","type","stroke","connectNulls","isRange","ref"],eje=["key"],xF;function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function bF(e,t){if(e==null)return{};var r=tje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(this,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){xi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jF(n.key),n)}}function nje(e,t,r){return t&&LT(e.prototype,t),r&&LT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aje(e,t,r){return t=Fg(t),ije(e,wF()?Reflect.construct(t,r||[],Fg(e).constructor):t.apply(e,r))}function ije(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sje(e)}function sje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!e})()}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(e)}function oje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rj(e,t)}function Rj(e,t){return Rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rj(e,t)}function xi(e,t,r){return t=jF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jF(e){var t=lje(e,"string");return Bu(t)=="symbol"?t:t+""}function lje(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var na=function(e){function t(){var r;rje(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=aje(this,t,[].concat(a)),xi(r,"state",{isAnimationFinished:!0}),xi(r,"id",Eo("recharts-area-")),xi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ze(s)&&s()}),xi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ze(s)&&s()}),r}return oje(t,e),nje(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,f=c.points,d=c.dataKey,h=Oe(this.props,!1),p=Oe(u,!0),y=f.map(function(g,v){var x=ks(ks(ks({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:g.x,cy:g.y,dataKey:d,value:g.value,payload:g.payload,points:f});return t.renderDotItem(u,x)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return O.createElement(et,ol({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,f=n*Math.abs(c-u),d=Ys(s.map(function(h){return h.y||0}));return fe(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(Ys(i.map(function(h){return h.y||0})),d)),fe(d)?O.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(d+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,f=n*Math.abs(c-u),d=Ys(s.map(function(h){return h.x||0}));return fe(i)&&typeof i=="number"?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(Ys(i.map(function(h){return h.x||0})),d)),fe(d)?O.createElement("rect",{x:0,y:c<u?c:c-f,width:d+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var l=this.props,c=l.layout,u=l.type,f=l.stroke,d=l.connectNulls,h=l.isRange;l.ref;var p=bF(l,J1e);return O.createElement(et,{clipPath:i?"url(#clipPath-".concat(s,")"):null},O.createElement(fo,ol({},Oe(p,!0),{points:n,connectNulls:d,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&O.createElement(fo,ol({},Oe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:n})),f!=="none"&&h&&O.createElement(fo,ol({},Oe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:d,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,f=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,y=this.state,m=y.prevPoints,g=y.prevBaseLine;return O.createElement(Ca,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(m){var b=m.length/l.length,_=l.map(function(N,A){var E=Math.floor(A*b);if(m[E]){var k=m[E],R=Qt(k.x,N.x),T=Qt(k.y,N.y);return ks(ks({},N),{},{x:R(x),y:T(x)})}return N}),j;if(fe(c)&&typeof c=="number"){var S=Qt(g,c);j=S(x)}else if(Fe(c)||Sd(c)){var C=Qt(g,0);j=C(x)}else j=c.map(function(N,A){var E=Math.floor(A*b);if(g[E]){var k=g[E],R=Qt(k.x,N.x),T=Qt(k.y,N.y);return ks(ks({},N),{},{x:R(x),y:T(x)})}return N});return i.renderAreaStatically(_,j,n,a)}return O.createElement(et,null,O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),O.createElement(et,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,f=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!f&&h>0||!bo(f,s)||!bo(d,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.top,f=a.left,d=a.xAxis,h=a.yAxis,p=a.width,y=a.height,m=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,x=l.length===1,b=Ye("recharts-area",c),_=d&&d.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,C=Fe(g)?this.id:g,N=(n=Oe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=N.r,E=A===void 0?3:A,k=N.strokeWidth,R=k===void 0?2:k,T=s3(s)?s:{},P=T.clipDot,$=P===void 0?!0:P,I=E*2+R;return O.createElement(et,{className:b},_||j?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(C)},O.createElement("rect",{x:_?f:f-p/2,y:j?u:u-y/2,width:_?p:p*2,height:j?y:y*2})),!$&&O.createElement("clipPath",{id:"clipPath-dots-".concat(C)},O.createElement("rect",{x:f-I/2,y:u-I/2,width:p+I,height:y+I}))):null,x?null:this.renderArea(S,C),(s||x)&&this.renderDots(S,$,C),(!m||v)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(w.PureComponent);xF=na;xi(na,"displayName","Area");xi(na,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xi(na,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,l=s??i;if(fe(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return l==="dataMin"?d:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});xi(na,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=t.layout,y=u&&u.length,m=xF.getBaseValue(t,r,n,a),g=p==="horizontal",v=!1,x=d.map(function(_,j){var S;y?S=u[f+j]:(S=Bt(_,c),Array.isArray(S)?v=!0:S=[m,S]);var C=S[1]==null||y&&Bt(_,c)==null;return g?{x:Pu({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:C?null:a.scale(S[1]),value:S,payload:_}:{x:C?null:n.scale(S[1]),y:Pu({axis:a,ticks:s,bandSize:l,entry:_,index:j}),value:S,payload:_}}),b;return y||v?b=x.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:j!=null&&_.y!=null?a.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):b=g?a.scale(m):n.scale(m),ks({points:x,baseLine:b,layout:p,isRange:v},h)});xi(na,"renderDotItem",function(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(ze(e))r=e(t);else{var n=Ye("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=bF(t,eje);r=O.createElement(Ap,ol({},i,{key:a,className:n}))}return r});function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function cje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CF(n.key),n)}}function dje(e,t,r){return t&&uje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fje(e,t,r){return t=Bg(t),hje(e,_F()?Reflect.construct(t,r||[],Bg(e).constructor):t.apply(e,r))}function hje(e,t){if(t&&(zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pje(e)}function pje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!e})()}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(e)}function mje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mj(e,t)}function Mj(e,t){return Mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mj(e,t)}function SF(e,t,r){return t=CF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=vje(e,"string");return zu(t)=="symbol"?t:t+""}function vje(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lx=function(e){function t(){return cje(this,t),fje(this,t,arguments)}return mje(t,e),dje(t,[{key:"render",value:function(){return null}}])}(w.Component);SF(Lx,"displayName","ZAxis");SF(Lx,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var gje=["option","isActive"];function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ff.apply(this,arguments)}function yje(e,t){if(e==null)return{};var r=xje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bje(e){var t=e.option,r=e.isActive,n=yje(e,gje);return typeof t=="string"?w.createElement(Ng,Ff({option:w.createElement(fx,Ff({type:t},n)),isActive:r,shapeType:"symbols"},n)):w.createElement(Ng,Ff({option:t,isActive:r,shapeType:"symbols"},n))}function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bf.apply(this,arguments)}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PF(n.key),n)}}function jje(e,t,r){return t&&BT(e.prototype,t),r&&BT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _je(e,t,r){return t=zg(t),Sje(e,NF()?Reflect.construct(t,r||[],zg(e).constructor):t.apply(e,r))}function Sje(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cje(e)}function Cje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(e)}function Nje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$j(e,t)}function $j(e,t){return $j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$j(e,t)}function Qs(e,t,r){return t=PF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e){var t=Pje(e,"string");return Uu(t)=="symbol"?t:t+""}function Pje(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fx=function(e){function t(){var r;wje(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=_je(this,t,[].concat(a)),Qs(r,"state",{isAnimationFinished:!1}),Qs(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Qs(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Qs(r,"id",Eo("recharts-scatter-")),r}return Nje(t,e),jje(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.activeShape,c=i.activeIndex,u=Oe(this.props,!1);return n.map(function(f,d){var h=c===d,p=h?l:s,y=ha(ha({},u),f);return O.createElement(et,Bf({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(d)},xo(a.props,f,d),{role:"img"}),O.createElement(bje,Bf({option:p,isActive:h,key:"symbol-".concat(d)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,d=this.state.prevPoints;return O.createElement(Ca,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,y=i.map(function(m,g){var v=d&&d[g];if(v){var x=Qt(v.cx,m.cx),b=Qt(v.cy,m.cy),_=Qt(v.size,m.size);return ha(ha({},m),{},{cx:x(p),cy:b(p),size:_(p)})}var j=Qt(0,m.size);return ha(ha({},m),{},{size:j(p)})});return O.createElement(et,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,s=this.state.prevPoints;return i&&a&&a.length&&(!s||!bo(s,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,s=a.xAxis,l=a.yAxis,c=a.children,u=wn(c,Od);return u?u.map(function(f,d){var h=f.props,p=h.direction,y=h.dataKey;return O.cloneElement(f,{key:"".concat(p,"-").concat(y,"-").concat(i[d]),data:i,xAxis:s,yAxis:l,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(g,v){return{x:g.cx,y:g.cy,value:p==="x"?+g.node.x:+g.node.y,errorVal:Bt(g,v)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,s=n.lineType,l=n.lineJointType,c=Oe(this.props,!1),u=Oe(i,!1),f,d;if(s==="joint")f=a.map(function(b){return{x:b.cx,y:b.cy}});else if(s==="fitting"){var h=fee(a),p=h.xmin,y=h.xmax,m=h.a,g=h.b,v=function(_){return m*_+g};f=[{x:p,y:v(p)},{x:y,y:v(y)}]}var x=ha(ha(ha({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:f});return O.isValidElement(i)?d=O.cloneElement(i,x):ze(i)?d=i(x):d=O.createElement(fo,Bf({},x,{type:l})),O.createElement(et,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,s=n.line,l=n.className,c=n.xAxis,u=n.yAxis,f=n.left,d=n.top,h=n.width,p=n.height,y=n.id,m=n.isAnimationActive;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,v=Ye("recharts-scatter",l),x=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,_=x||b,j=Fe(y)?this.id:y;return O.createElement(et,{className:v,clipPath:_?"url(#clipPath-".concat(j,")"):null},x||b?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(j)},O.createElement("rect",{x:x?f:f-h/2,y:b?d:d-p/2,width:x?h:h*2,height:b?p:p*2}))):null,s&&this.renderLine(),this.renderErrorBar(),O.createElement(et,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&ei.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(w.PureComponent);Qs(Fx,"displayName","Scatter");Qs(Fx,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!wa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Qs(Fx,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,s=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,f=wn(a.props.children,Sp),d=Fe(t.dataKey)?a.props.dataKey:t.dataKey,h=Fe(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,y=n?n.range:Lx.defaultProps.range,m=y&&y[0],g=t.scale.bandwidth?t.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0,x=i.map(function(b,_){var j=Bt(b,d),S=Bt(b,h),C=!Fe(p)&&Bt(b,p)||"-",N=[{name:Fe(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:b,dataKey:d,type:u},{name:Fe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:u}];C!=="-"&&N.push({name:n.name||n.dataKey,unit:n.unit||"",value:C,payload:b,dataKey:p,type:u});var A=Pu({axis:t,ticks:s,bandSize:g,entry:b,index:_,dataKey:d}),E=Pu({axis:r,ticks:l,bandSize:v,entry:b,index:_,dataKey:h}),k=C!=="-"?n.scale(C):m,R=Math.sqrt(Math.max(k,0)/Math.PI);return ha(ha({},b),{},{cx:A,cy:E,x:A-R,y:E-R,xAxis:t,yAxis:r,zAxis:n,width:2*R,height:2*R,size:k,node:{x:j,y:S,z:C},tooltipPayload:N,tooltipPosition:{x:A,y:E},payload:b},f&&f[_]&&f[_].props)});return ha({points:x},c)});function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Eje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kF(n.key),n)}}function kje(e,t,r){return t&&Aje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oje(e,t,r){return t=Ug(t),Tje(e,EF()?Reflect.construct(t,r||[],Ug(e).constructor):t.apply(e,r))}function Tje(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rje(e)}function Rje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}function Mje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}function Ij(e,t){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ij(e,t)}function AF(e,t,r){return t=kF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=$je(e,"string");return Vu(t)=="symbol"?t:t+""}function $je(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dj(){return Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dj.apply(this,arguments)}function Ije(e){var t=e.xAxisId,r=zC(),n=UC(),a=iF(t);return a==null?null:w.createElement(Td,Dj({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Zi(s,!0)}}))}var dr=function(e){function t(){return Eje(this,t),Oje(this,t,arguments)}return Mje(t,e),kje(t,[{key:"render",value:function(){return w.createElement(Ije,this.props)}}])}(w.Component);AF(dr,"displayName","XAxis");AF(dr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Dje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RF(n.key),n)}}function Fje(e,t,r){return t&&Lje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bje(e,t,r){return t=Vg(t),zje(e,OF()?Reflect.construct(t,r||[],Vg(e).constructor):t.apply(e,r))}function zje(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uje(e)}function Uje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OF=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(e)}function Vje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lj(e,t)}function Lj(e,t){return Lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lj(e,t)}function TF(e,t,r){return t=RF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=Wje(e,"string");return Wu(t)=="symbol"?t:t+""}function Wje(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fj.apply(this,arguments)}var Hje=function(t){var r=t.yAxisId,n=zC(),a=UC(),i=sF(r);return i==null?null:w.createElement(Td,Fj({},i,{className:Ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Zi(l,!0)}}))},fr=function(e){function t(){return Dje(this,t),Bje(this,t,arguments)}return Vje(t,e),Fje(t,[{key:"render",value:function(){return w.createElement(Hje,this.props)}}])}(w.Component);TF(fr,"displayName","YAxis");TF(fr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zT(e){return Yje(e)||Gje(e)||Kje(e)||qje()}function qje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kje(e,t){if(e){if(typeof e=="string")return Bj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bj(e,t)}}function Gje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yje(e){if(Array.isArray(e))return Bj(e)}function Bj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zj=function(t,r,n,a,i){var s=wn(t,WC),l=wn(t,$x),c=[].concat(zT(s),zT(l)),u=wn(t,Dx),f="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(m,g){if(g.props[f]===n&&Pi(g.props,"extendDomain")&&fe(g.props[d])){var v=g.props[d];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),u.length){var p="".concat(d,"1"),y="".concat(d,"2");h=u.reduce(function(m,g){if(g.props[f]===n&&Pi(g.props,"extendDomain")&&fe(g.props[p])&&fe(g.props[y])){var v=g.props[p],x=g.props[y];return[Math.min(m[0],v,x),Math.max(m[1],v,x)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,g){return fe(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},MF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,y=new Array(p);h<p;h++)y[h]=d[h].fn;return y},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,x,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,h),!0;case 5:return g.fn.call(g.context,f,d,h,p),!0;case 6:return g.fn.call(g.context,f,d,h,p,y),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];g.fn.apply(g.context,x)}else{var _=g.length,j;for(b=0;b<_;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),v){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,f);break;case 3:g[b].fn.call(g[b].context,f,d);break;case 4:g[b].fn.call(g[b].context,f,d,h);break;default:if(!x)for(j=1,x=new Array(v-1);j<v;j++)x[j-1]=arguments[j];g[b].fn.apply(g[b].context,x)}}return!0},l.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!h||y.once)&&(!d||y.context===d)&&s(this,p);else{for(var m=0,g=[],v=y.length;m<v;m++)(y[m].fn!==f||h&&!y[m].once||d&&y[m].context!==d)&&g.push(y[m]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(MF);var Xje=MF.exports;const Qje=wt(Xje);var jb=new Qje,_b="recharts.syncMouseEvents";function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function Zje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$F(n.key),n)}}function e_e(e,t,r){return t&&Jje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sb(e,t,r){return t=$F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=t_e(e,"string");return ip(t)=="symbol"?t:t+""}function t_e(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var r_e=function(){function e(){Zje(this,e),Sb(this,"activeIndex",0),Sb(this,"coordinateList",[]),Sb(this,"layout","horizontal")}return e_e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+u,h=s+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function n_e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&fe(n)&&fe(a))return!0}return!1}function a_e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function IF(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Mt(t,r,n,a),l=Mt(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function i_e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Mt(l,c,u,d),p=Mt(l,c,f,d);n=h.x,a=h.y,i=p.x,s=p.y}else return IF(t);return[{x:n,y:a},{x:i,y:s}]}function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){s_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s_e(e,t,r){return t=o_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o_e(e){var t=l_e(e,"string");return sp(t)=="symbol"?t:t+""}function l_e(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c_e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var y,m=fo;if(h==="ScatterChart")y=s,m=Zye;else if(h==="BarChart")y=a_e(d,s,c,f),m=DC;else if(d==="radial"){var g=IF(s),v=g.cx,x=g.cy,b=g.radius,_=g.startAngle,j=g.endAngle;y={cx:v,cy:x,startAngle:_,endAngle:j,innerRadius:b,outerRadius:b},m=C4}else y={points:i_e(d,s,c)},m=fo;var S=Nm(Nm(Nm(Nm({stroke:"#ccc",pointerEvents:"none"},c),y),Oe(p,!1)),{},{payload:l,payloadIndex:u,className:Ye("recharts-tooltip-cursor",p.className)});return w.isValidElement(p)?w.cloneElement(p,S):w.createElement(m,S)}var u_e=["item"],d_e=["children","className","width","height","style","compact","title","desc"];function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(this,arguments)}function VT(e,t){return p_e(e)||h_e(e,t)||LF(e,t)||f_e()}function f_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function p_e(e){if(Array.isArray(e))return e}function WT(e,t){if(e==null)return{};var r=m_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FF(n.key),n)}}function y_e(e,t,r){return t&&g_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_e(e,t,r){return t=Wg(t),b_e(e,DF()?Reflect.construct(t,r||[],Wg(e).constructor):t.apply(e,r))}function b_e(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_e(e)}function w_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DF=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}function j_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uj(e,t)}function Uj(e,t){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uj(e,t)}function qu(e){return C_e(e)||S_e(e)||LF(e)||__e()}function __e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LF(e,t){if(e){if(typeof e=="string")return Vj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vj(e,t)}}function S_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C_e(e){if(Array.isArray(e))return Vj(e)}function Vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){Ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ve(e,t,r){return t=FF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=N_e(e,"string");return Hu(t)=="symbol"?t:t+""}function N_e(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P_e={xAxis:["bottom","top"],yAxis:["left","right"]},E_e={width:"100%",height:"100%"},BF={x:0,y:0};function Pm(e){return e}var A_e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},k_e=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,l=a.radius;return ne(ne(ne({},a),Mt(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return ne(ne(ne({},a),Mt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return BF},Bx=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(qu(l),qu(u)):l},[]);return s.length>0?s:t&&t.length&&fe(a)&&fe(i)?t.slice(a,i+1):[]};function zF(e){return e==="number"?[0,"auto"]:void 0}var Wj=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,l=Bx(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?l:d;h=zv(p,s.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(qu(c),[x4(u,h)]):c},[])},qT=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=A_e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=jme(s,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=Wj(t,r,f,d),p=k_e(n,l,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},O_e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=h4(f,i);return n.reduce(function(y,m){var g,v=m.type.defaultProps!==void 0?ne(ne({},m.type.defaultProps),m.props):m.props,x=v.type,b=v.dataKey,_=v.allowDataOverflow,j=v.allowDuplicatedCategory,S=v.scale,C=v.ticks,N=v.includeHidden,A=v[s];if(y[A])return y;var E=Bx(t.data,{graphicalItems:a.filter(function(G){var te,z=s in G.props?G.props[s]:(te=G.type.defaultProps)===null||te===void 0?void 0:te[s];return z===A}),dataStartIndex:c,dataEndIndex:u}),k=E.length,R,T,P;n_e(v.domain,_,x)&&(R=tj(v.domain,null,_),p&&(x==="number"||S!=="auto")&&(P=Mf(E,b,"category")));var $=zF(x);if(!R||R.length===0){var I,M=(I=v.domain)!==null&&I!==void 0?I:$;if(b){if(R=Mf(E,b,x),x==="category"&&p){var D=dee(R);j&&D?(T=R,R=Eg(0,k)):j||(R=uO(M,R,m).reduce(function(G,te){return G.indexOf(te)>=0?G:[].concat(qu(G),[te])},[]))}else if(x==="category")j?R=R.filter(function(G){return G!==""&&!Fe(G)}):R=uO(M,R,m).reduce(function(G,te){return G.indexOf(te)>=0||te===""||Fe(te)?G:[].concat(qu(G),[te])},[]);else if(x==="number"){var L=Pme(E,a.filter(function(G){var te,z,B=s in G.props?G.props[s]:(te=G.type.defaultProps)===null||te===void 0?void 0:te[s],V="hide"in G.props?G.props.hide:(z=G.type.defaultProps)===null||z===void 0?void 0:z.hide;return B===A&&(N||!V)}),b,i,f);L&&(R=L)}p&&(x==="number"||S!=="auto")&&(P=Mf(E,b,"category"))}else p?R=Eg(0,k):l&&l[A]&&l[A].hasStack&&x==="number"?R=h==="expand"?[0,1]:y4(l[A].stackGroups,c,u):R=f4(E,a.filter(function(G){var te=s in G.props?G.props[s]:G.type.defaultProps[s],z="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return te===A&&(N||!z)}),x,f,!0);if(x==="number")R=zj(d,R,A,i,C),M&&(R=tj(M,R,_));else if(x==="category"&&M){var U=M,X=R.every(function(G){return U.indexOf(G)>=0});X&&(R=U)}}return ne(ne({},y),{},Ve({},A,ne(ne({},v),{},{axisType:i,domain:R,categoricalDomain:P,duplicateDomain:T,originalDomain:(g=v.domain)!==null&&g!==void 0?g:$,isCategorical:p,layout:f})))},{})},T_e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=Bx(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=h4(f,i),m=-1;return n.reduce(function(g,v){var x=v.type.defaultProps!==void 0?ne(ne({},v.type.defaultProps),v.props):v.props,b=x[s],_=zF("number");if(!g[b]){m++;var j;return y?j=Eg(0,p):l&&l[b]&&l[b].hasStack?(j=y4(l[b].stackGroups,c,u),j=zj(d,j,b,i)):(j=tj(_,f4(h,n.filter(function(S){var C,N,A=s in S.props?S.props[s]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[s],E="hide"in S.props?S.props.hide:(N=S.type.defaultProps)===null||N===void 0?void 0:N.hide;return A===b&&!E}),"number",f),a.defaultProps.allowDataOverflow),j=zj(d,j,b,i)),ne(ne({},g),{},Ve({},b,ne(ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:ra(P_e,"".concat(i,".").concat(m%2),null),domain:j,originalDomain:_,isCategorical:y,layout:f})))}return g},{})},R_e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=wn(f,i),p={};return h&&h.length?p=O_e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=T_e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},M_e=function(t){var r=Bs(t),n=Zi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:uC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mg(r,n)}},KT=function(t){var r=t.children,n=t.defaultShowTooltip,a=Gn(r,Ru),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},$_e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ts(r&&r.type);return n&&n.indexOf("Bar")>=0})},GT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I_e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=Gn(d,Ru),y=Gn(d,Gr),m=Object.keys(c).reduce(function(j,S){var C=c[S],N=C.orientation;return!C.mirror&&!C.hide?ne(ne({},j),{},Ve({},N,j[N]+C.width)):j},{left:h.left||0,right:h.right||0}),g=Object.keys(s).reduce(function(j,S){var C=s[S],N=C.orientation;return!C.mirror&&!C.hide?ne(ne({},j),{},Ve({},N,ra(j,"".concat(N))+C.height)):j},{top:h.top||0,bottom:h.bottom||0}),v=ne(ne({},g),m),x=v.bottom;p&&(v.bottom+=p.props.height||Ru.defaultProps.height),y&&r&&(v=Cme(v,a,n,r));var b=u-v.left-v.right,_=f-v.top-v.bottom;return ne(ne({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(_,0)})},D_e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},kp=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(v,x){var b=x.graphicalItems,_=x.stackGroups,j=x.offset,S=x.updateId,C=x.dataStartIndex,N=x.dataEndIndex,A=v.barSize,E=v.layout,k=v.barGap,R=v.barCategoryGap,T=v.maxBarSize,P=GT(E),$=P.numericAxisName,I=P.cateAxisName,M=$_e(b),D=[];return b.forEach(function(L,U){var X=Bx(v.data,{graphicalItems:[L],dataStartIndex:C,dataEndIndex:N}),G=L.type.defaultProps!==void 0?ne(ne({},L.type.defaultProps),L.props):L.props,te=G.dataKey,z=G.maxBarSize,B=G["".concat($,"Id")],V=G["".concat(I,"Id")],H={},ce=c.reduce(function(K,ee){var ve=x["".concat(ee.axisType,"Map")],ae=G["".concat(ee.axisType,"Id")];ve&&ve[ae]||ee.axisType==="zAxis"||kl();var ue=ve[ae];return ne(ne({},K),{},Ve(Ve({},ee.axisType,ue),"".concat(ee.axisType,"Ticks"),Zi(ue)))},H),Q=ce[I],Z=ce["".concat(I,"Ticks")],W=_&&_[B]&&_[B].hasStack&&Ime(L,_[B].stackGroups),q=ts(L.type).indexOf("Bar")>=0,de=mg(Q,Z),ye=[],Ae=M&&_me({barSize:A,stackGroups:_,totalSize:D_e(ce,I)});if(q){var Ie,Ge,pt=Fe(z)?T:z,Gt=(Ie=(Ge=mg(Q,Z,!0))!==null&&Ge!==void 0?Ge:pt)!==null&&Ie!==void 0?Ie:0;ye=Sme({barGap:k,barCategoryGap:R,bandSize:Gt!==de?Gt:de,sizeList:Ae[V],maxBarSize:pt}),Gt!==de&&(ye=ye.map(function(K){return ne(ne({},K),{},{position:ne(ne({},K.position),{},{offset:K.position.offset-Gt/2})})}))}var F=L&&L.type&&L.type.getComposedData;F&&D.push({props:ne(ne({},F(ne(ne({},ce),{},{displayedData:X,props:v,dataKey:te,item:L,bandSize:de,barPosition:ye,offset:j,stackedData:W,layout:E,dataStartIndex:C,dataEndIndex:N}))),{},Ve(Ve(Ve({key:L.key||"item-".concat(U)},$,ce[$]),I,ce[I]),"animationId",S)),childIndex:See(L,v.children),item:L})}),D},p=function(v,x){var b=v.props,_=v.dataStartIndex,j=v.dataEndIndex,S=v.updateId;if(!aA({props:b}))return null;var C=b.children,N=b.layout,A=b.stackOffset,E=b.data,k=b.reverseStackOrder,R=GT(N),T=R.numericAxisName,P=R.cateAxisName,$=wn(C,n),I=Mme(E,$,"".concat(T,"Id"),"".concat(P,"Id"),A,k),M=c.reduce(function(G,te){var z="".concat(te.axisType,"Map");return ne(ne({},G),{},Ve({},z,R_e(b,ne(ne({},te),{},{graphicalItems:$,stackGroups:te.axisType===T&&I,dataStartIndex:_,dataEndIndex:j}))))},{}),D=I_e(ne(ne({},M),{},{props:b,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(G){M[G]=f(b,M[G],D,G.replace("Map",""),r)});var L=M["".concat(P,"Map")],U=M_e(L),X=h(b,ne(ne({},M),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:$,stackGroups:I,offset:D}));return ne(ne({formattedGraphicalItems:X,graphicalItems:$,offset:D,stackGroups:I},U),M)},y=function(g){function v(x){var b,_,j;return v_e(this,v),j=x_e(this,v,[x]),Ve(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(j,"accessibilityManager",new r_e),Ve(j,"handleLegendBBoxUpdate",function(S){if(S){var C=j.state,N=C.dataStartIndex,A=C.dataEndIndex,E=C.updateId;j.setState(ne({legendBBox:S},p({props:j.props,dataStartIndex:N,dataEndIndex:A,updateId:E},ne(ne({},j.state),{},{legendBBox:S}))))}}),Ve(j,"handleReceiveSyncEvent",function(S,C,N){if(j.props.syncId===S){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),Ve(j,"handleBrushChange",function(S){var C=S.startIndex,N=S.endIndex;if(C!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var A=j.state.updateId;j.setState(function(){return ne({dataStartIndex:C,dataEndIndex:N},p({props:j.props,dataStartIndex:C,dataEndIndex:N,updateId:A},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:N})}}),Ve(j,"handleMouseEnter",function(S){var C=j.getMouseInfo(S);if(C){var N=ne(ne({},C),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var A=j.props.onMouseEnter;ze(A)&&A(N,S)}}),Ve(j,"triggeredAfterMouseMove",function(S){var C=j.getMouseInfo(S),N=C?ne(ne({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var A=j.props.onMouseMove;ze(A)&&A(N,S)}),Ve(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ve(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ve(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ve(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var N=j.props.onMouseLeave;ze(N)&&N(C,S)}),Ve(j,"handleOuterEvent",function(S){var C=_ee(S),N=ra(j.props,"".concat(C));if(C&&ze(N)){var A,E;/.*touch.*/i.test(C)?E=j.getMouseInfo(S.changedTouches[0]):E=j.getMouseInfo(S),N((A=E)!==null&&A!==void 0?A:{},S)}}),Ve(j,"handleClick",function(S){var C=j.getMouseInfo(S);if(C){var N=ne(ne({},C),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var A=j.props.onClick;ze(A)&&A(N,S)}}),Ve(j,"handleMouseDown",function(S){var C=j.props.onMouseDown;if(ze(C)){var N=j.getMouseInfo(S);C(N,S)}}),Ve(j,"handleMouseUp",function(S){var C=j.props.onMouseUp;if(ze(C)){var N=j.getMouseInfo(S);C(N,S)}}),Ve(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ve(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ve(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ve(j,"handleDoubleClick",function(S){var C=j.props.onDoubleClick;if(ze(C)){var N=j.getMouseInfo(S);C(N,S)}}),Ve(j,"handleContextMenu",function(S){var C=j.props.onContextMenu;if(ze(C)){var N=j.getMouseInfo(S);C(N,S)}}),Ve(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&jb.emit(_b,j.props.syncId,S,j.eventEmitterSymbol)}),Ve(j,"applySyncEvent",function(S){var C=j.props,N=C.layout,A=C.syncMethod,E=j.state.updateId,k=S.dataStartIndex,R=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(ne({dataStartIndex:k,dataEndIndex:R},p({props:j.props,dataStartIndex:k,dataEndIndex:R,updateId:E},j.state)));else if(S.activeTooltipIndex!==void 0){var T=S.chartX,P=S.chartY,$=S.activeTooltipIndex,I=j.state,M=I.offset,D=I.tooltipTicks;if(!M)return;if(typeof A=="function")$=A(D,S);else if(A==="value"){$=-1;for(var L=0;L<D.length;L++)if(D[L].value===S.activeLabel){$=L;break}}var U=ne(ne({},M),{},{x:M.left,y:M.top}),X=Math.min(T,U.x+U.width),G=Math.min(P,U.y+U.height),te=D[$]&&D[$].value,z=Wj(j.state,j.props.data,$),B=D[$]?{x:N==="horizontal"?D[$].coordinate:X,y:N==="horizontal"?G:D[$].coordinate}:BF;j.setState(ne(ne({},S),{},{activeLabel:te,activeCoordinate:B,activePayload:z,activeTooltipIndex:$}))}else j.setState(S)}),Ve(j,"renderCursor",function(S){var C,N=j.state,A=N.isTooltipActive,E=N.activeCoordinate,k=N.activePayload,R=N.offset,T=N.activeTooltipIndex,P=N.tooltipAxisBandSize,$=j.getTooltipEventType(),I=(C=S.props.active)!==null&&C!==void 0?C:A,M=j.props.layout,D=S.key||"_recharts-cursor";return O.createElement(c_e,{key:D,activeCoordinate:E,activePayload:k,activeTooltipIndex:T,chartName:r,element:S,isActive:I,layout:M,offset:R,tooltipAxisBandSize:P,tooltipEventType:$})}),Ve(j,"renderPolarAxis",function(S,C,N){var A=ra(S,"type.axisType"),E=ra(j.state,"".concat(A,"Map")),k=S.type.defaultProps,R=k!==void 0?ne(ne({},k),S.props):S.props,T=E&&E[R["".concat(A,"Id")]];return w.cloneElement(S,ne(ne({},T),{},{className:Ye(A,T.className),key:S.key||"".concat(C,"-").concat(N),ticks:Zi(T,!0)}))}),Ve(j,"renderPolarGrid",function(S){var C=S.props,N=C.radialLines,A=C.polarAngles,E=C.polarRadius,k=j.state,R=k.radiusAxisMap,T=k.angleAxisMap,P=Bs(R),$=Bs(T),I=$.cx,M=$.cy,D=$.innerRadius,L=$.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(A)?A:Zi($,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(E)?E:Zi(P,!0).map(function(U){return U.coordinate}),cx:I,cy:M,innerRadius:D,outerRadius:L,key:S.key||"polar-grid",radialLines:N})}),Ve(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,C=j.props,N=C.children,A=C.width,E=C.height,k=j.props.margin||{},R=A-(k.left||0)-(k.right||0),T=u4({children:N,formattedGraphicalItems:S,legendWidth:R,legendContent:u});if(!T)return null;var P=T.item,$=WT(T,u_e);return w.cloneElement(P,ne(ne({},$),{},{chartWidth:A,chartHeight:E,margin:k,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ve(j,"renderTooltip",function(){var S,C=j.props,N=C.children,A=C.accessibilityLayer,E=Gn(N,Ft);if(!E)return null;var k=j.state,R=k.isTooltipActive,T=k.activeCoordinate,P=k.activePayload,$=k.activeLabel,I=k.offset,M=(S=E.props.active)!==null&&S!==void 0?S:R;return w.cloneElement(E,{viewBox:ne(ne({},I),{},{x:I.left,y:I.top}),active:M,label:$,payload:M?P:[],coordinate:T,accessibilityLayer:A})}),Ve(j,"renderBrush",function(S){var C=j.props,N=C.margin,A=C.data,E=j.state,k=E.offset,R=E.dataStartIndex,T=E.dataEndIndex,P=E.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:jm(j.handleBrushChange,S.props.onChange),data:A,x:fe(S.props.x)?S.props.x:k.left,y:fe(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(N.bottom||0),width:fe(S.props.width)?S.props.width:k.width,startIndex:R,endIndex:T,updateId:"brush-".concat(P)})}),Ve(j,"renderReferenceElement",function(S,C,N){if(!S)return null;var A=j,E=A.clipPathId,k=j.state,R=k.xAxisMap,T=k.yAxisMap,P=k.offset,$=S.type.defaultProps||{},I=S.props,M=I.xAxisId,D=M===void 0?$.xAxisId:M,L=I.yAxisId,U=L===void 0?$.yAxisId:L;return w.cloneElement(S,{key:S.key||"".concat(C,"-").concat(N),xAxis:R[D],yAxis:T[U],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:E})}),Ve(j,"renderActivePoints",function(S){var C=S.item,N=S.activePoint,A=S.basePoint,E=S.childIndex,k=S.isRange,R=[],T=C.props.key,P=C.item.type.defaultProps!==void 0?ne(ne({},C.item.type.defaultProps),C.item.props):C.item.props,$=P.activeDot,I=P.dataKey,M=ne(ne({index:E,dataKey:I,cx:N.x,cy:N.y,r:4,fill:IC(C.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Oe($,!1)),Uv($));return R.push(v.renderActiveDot($,M,"".concat(T,"-activePoint-").concat(E))),A?R.push(v.renderActiveDot($,ne(ne({},M),{},{cx:A.x,cy:A.y}),"".concat(T,"-basePoint-").concat(E))):k&&R.push(null),R}),Ve(j,"renderGraphicChild",function(S,C,N){var A=j.filterFormatItem(S,C,N);if(!A)return null;var E=j.getTooltipEventType(),k=j.state,R=k.isTooltipActive,T=k.tooltipAxis,P=k.activeTooltipIndex,$=k.activeLabel,I=j.props.children,M=Gn(I,Ft),D=A.props,L=D.points,U=D.isRange,X=D.baseLine,G=A.item.type.defaultProps!==void 0?ne(ne({},A.item.type.defaultProps),A.item.props):A.item.props,te=G.activeDot,z=G.hide,B=G.activeBar,V=G.activeShape,H=!!(!z&&R&&M&&(te||B||V)),ce={};E!=="axis"&&M&&M.props.trigger==="click"?ce={onClick:jm(j.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(ce={onMouseLeave:jm(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:jm(j.handleItemMouseEnter,S.props.onMouseEnter)});var Q=w.cloneElement(S,ne(ne({},A.props),ce));function Z(ee){return typeof T.dataKey=="function"?T.dataKey(ee.payload):null}if(H)if(P>=0){var W,q;if(T.dataKey&&!T.allowDuplicatedCategory){var de=typeof T.dataKey=="function"?Z:"payload.".concat(T.dataKey.toString());W=zv(L,de,$),q=U&&X&&zv(X,de,$)}else W=L==null?void 0:L[P],q=U&&X&&X[P];if(V||B){var ye=S.props.activeIndex!==void 0?S.props.activeIndex:P;return[w.cloneElement(S,ne(ne(ne({},A.props),ce),{},{activeIndex:ye})),null,null]}if(!Fe(W))return[Q].concat(qu(j.renderActivePoints({item:A,activePoint:W,basePoint:q,childIndex:P,isRange:U})))}else{var Ae,Ie=(Ae=j.getItemByXY(j.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:Q},Ge=Ie.graphicalItem,pt=Ge.item,Gt=pt===void 0?S:pt,F=Ge.childIndex,K=ne(ne(ne({},A.props),ce),{},{activeIndex:F});return[w.cloneElement(Gt,K),null,null]}return U?[Q,null,null]:[Q,null]}),Ve(j,"renderCustomized",function(S,C,N){return w.cloneElement(S,ne(ne({key:"recharts-customized-".concat(N)},j.props),j.state))}),Ve(j,"renderMap",{CartesianGrid:{handler:Pm,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Pm},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Pm},YAxis:{handler:Pm},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Eo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=cL(j.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return j_e(v,g),y_e(v,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,j=b.data,S=b.height,C=b.layout,N=Gn(_,Ft);if(N){var A=N.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,k=Wj(this.state,j,A,E),R=this.state.tooltipTicks[A].coordinate,T=(this.state.offset.top+S)/2,P=C==="horizontal",$=P?{x:R,y:T}:{y:R,x:T},I=this.state.formattedGraphicalItems.find(function(D){var L=D.item;return L.type.name==="Scatter"});I&&($=ne(ne({},$),I.props.points[A].tooltipPosition),k=I.props.points[A].tooltipPayload);var M={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:E,activePayload:k,activeCoordinate:$};this.setState(M),this.renderCursor(N),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){v1([Gn(b.children,Ft)],[Gn(this.props.children,Ft)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Gn(this.props.children,Ft);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=Xue(j),C={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},N=j.width/_.offsetWidth||1,A=this.inRange(C.chartX,C.chartY,N);if(!A)return null;var E=this.state,k=E.xAxisMap,R=E.yAxisMap,T=this.getTooltipEventType(),P=qT(this.state,this.props.data,this.props.layout,A);if(T!=="axis"&&k&&R){var $=Bs(k).scale,I=Bs(R).scale,M=$&&$.invert?$.invert(C.chartX):null,D=I&&I.invert?I.invert(C.chartY):null;return ne(ne({},C),{},{xValue:M,yValue:D},P)}return P?ne(ne({},C),P):null}},{key:"inRange",value:function(b,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=b/j,N=_/j;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,E=C>=A.left&&C<=A.left+A.width&&N>=A.top&&N<=A.top+A.height;return E?{x:C,y:N}:null}var k=this.state,R=k.angleAxisMap,T=k.radiusAxisMap;if(R&&T){var P=Bs(R);return hO({x:C,y:N},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),j=Gn(b,Ft),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Uv(this.props,this.handleOuterEvent);return ne(ne({},C),S)}},{key:"addListener",value:function(){jb.on(_b,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jb.removeListener(_b,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,j){for(var S=this.state.formattedGraphicalItems,C=0,N=S.length;C<N;C++){var A=S[C];if(A.item===b||A.props.key===b.key||_===ts(A.item.type)&&j===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,C=_.height,N=_.width;return O.createElement("defs",null,O.createElement("clipPath",{id:b},O.createElement("rect",{x:j,y:S,height:C,width:N})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=VT(j,2),C=S[0],N=S[1];return ne(ne({},_),{},Ve({},C,N.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,j){var S=VT(j,2),C=S[0],N=S[1];return ne(ne({},_),{},Ve({},C,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var C=0,N=j.length;C<N;C++){var A=j[C],E=A.props,k=A.item,R=k.type.defaultProps!==void 0?ne(ne({},k.type.defaultProps),k.props):k.props,T=ts(k.type);if(T==="Bar"){var P=(E.data||[]).find(function(D){return Tye(b,D)});if(P)return{graphicalItem:A,payload:P}}else if(T==="RadialBar"){var $=(E.data||[]).find(function(D){return hO(b,D)});if($)return{graphicalItem:A,payload:$}}else if(kx(A,S)||Ox(A,S)||ep(A,S)){var I=b0e({graphicalItem:A,activeTooltipItem:S,itemData:R.data}),M=R.activeIndex===void 0?I:R.activeIndex;return{graphicalItem:ne(ne({},A),{},{childIndex:M}),payload:ep(A,S)?R.data[I]:A.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!aA(this))return null;var _=this.props,j=_.children,S=_.className,C=_.width,N=_.height,A=_.style,E=_.compact,k=_.title,R=_.desc,T=WT(_,d_e),P=Oe(T,!1);if(E)return O.createElement(wT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(y1,Mc({},P,{width:C,height:N,title:k,desc:R}),this.renderClipPath(),sA(j,this.renderMap)));if(this.props.accessibilityLayer){var $,I;P.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,P.role=(I=this.props.role)!==null&&I!==void 0?I:"application",P.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},P.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return O.createElement(wT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",Mc({className:Ye("recharts-wrapper",S),style:ne({position:"relative",cursor:"default",width:C,height:N},A)},M,{ref:function(L){b.container=L}}),O.createElement(y1,Mc({},P,{width:C,height:N,title:k,desc:R,style:E_e}),this.renderClipPath(),sA(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Ve(y,"displayName",r),Ve(y,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ve(y,"getDerivedStateFromProps",function(g,v){var x=g.dataKey,b=g.data,_=g.children,j=g.width,S=g.height,C=g.layout,N=g.stackOffset,A=g.margin,E=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var R=KT(g);return ne(ne(ne({},R),{},{updateId:0},p(ne(ne({props:g},R),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:N,prevMargin:A,prevChildren:_})}if(x!==v.prevDataKey||b!==v.prevData||j!==v.prevWidth||S!==v.prevHeight||C!==v.prevLayout||N!==v.prevStackOffset||!Hc(A,v.prevMargin)){var T=KT(g),P={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=ne(ne({},qT(v,b,C)),{},{updateId:v.updateId+1}),I=ne(ne(ne({},T),P),$);return ne(ne(ne({},I),p(ne({props:g},I),v)),{},{prevDataKey:x,prevData:b,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:N,prevMargin:A,prevChildren:_})}if(!v1(_,v.prevChildren)){var M,D,L,U,X=Gn(_,Ru),G=X&&(M=(D=X.props)===null||D===void 0?void 0:D.startIndex)!==null&&M!==void 0?M:E,te=X&&(L=(U=X.props)===null||U===void 0?void 0:U.endIndex)!==null&&L!==void 0?L:k,z=G!==E||te!==k,B=!Fe(b),V=B&&!z?v.updateId:v.updateId+1;return ne(ne({updateId:V},p(ne(ne({props:g},v),{},{updateId:V,dataStartIndex:G,dataEndIndex:te}),v)),{},{prevChildren:_,dataStartIndex:G,dataEndIndex:te})}return null}),Ve(y,"renderActiveDot",function(g,v,x){var b;return w.isValidElement(g)?b=w.cloneElement(g,v):ze(g)?b=g(v):b=O.createElement(Ap,v),O.createElement(et,{className:"recharts-active-dot",key:x},b)});var m=w.forwardRef(function(v,x){return O.createElement(y,Mc({},v,{ref:x}))});return m.displayName=y.displayName,m},UF=kp({chartName:"LineChart",GraphicalChild:$n,axisComponents:[{axisType:"xAxis",AxisComp:dr},{axisType:"yAxis",AxisComp:fr}],formatAxisMap:Rx}),Rd=kp({chartName:"BarChart",GraphicalChild:qt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:dr},{axisType:"yAxis",AxisComp:fr}],formatAxisMap:Rx}),L_e=kp({chartName:"PieChart",GraphicalChild:ws,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ax},{axisType:"radiusAxis",AxisComp:Px}],formatAxisMap:qme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),VF=kp({chartName:"AreaChart",GraphicalChild:na,axisComponents:[{axisType:"xAxis",AxisComp:dr},{axisType:"yAxis",AxisComp:fr}],formatAxisMap:Rx}),Op=kp({chartName:"ComposedChart",GraphicalChild:[$n,na,qt,Fx],axisComponents:[{axisType:"xAxis",AxisComp:dr},{axisType:"yAxis",AxisComp:fr},{axisType:"zAxis",AxisComp:Lx}],formatAxisMap:Rx});function F_e({products:e,years:t}){const r=t.map(a=>{const i={year:a};return e.forEach(s=>{const l=s.volumesByYear[a]||0;i[s.name]=l*s.priceHT/1e3}),i}),n=["hsl(var(--primary))","hsl(var(--accent))","hsl(150, 60%, 40%)","hsl(38, 92%, 50%)"];return o.jsx(Ue,{title:"CA par Produit",children:o.jsx("div",{className:"h-64",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Rd,{data:r,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:a=>`${a}k`}),o.jsx(Ft,{formatter:a=>`${a.toFixed(0)}k`}),o.jsx(Gr,{}),e.map((a,i)=>o.jsx(qt,{dataKey:a.name,stackId:"a",fill:n[i%n.length]},a.id))]})})})})}function Md({pageTitle:e,fileName:t}){const r=()=>{window.print()};return o.jsxs(ie,{variant:"outline",size:"sm",onClick:r,children:[o.jsx(Ey,{className:"h-4 w-4 mr-1"}),"PDF"]})}const B_e=w.createContext(!1);function js({children:e,tabKey:t}){const{getTabPermission:r}=la(),a=r(t)==="read";return o.jsx(B_e.Provider,{value:a,children:o.jsxs("div",{className:a?"read-only-mode":"",children:[a&&o.jsx("div",{className:"mb-4 p-3 bg-muted border border-border rounded-md text-sm text-muted-foreground text-center font-medium",children:" Mode lecture seule  Vous pouvez consulter les donnes mais pas les modifier"}),e]})})}var Cb="rovingFocusGroup.onEntryFocus",z_e={bubbles:!1,cancelable:!0},Tp="RovingFocusGroup",[Hj,WF,U_e]=Sy(Tp),[V_e,zx]=Sn(Tp,[U_e]),[W_e,H_e]=V_e(Tp),HF=w.forwardRef((e,t)=>o.jsx(Hj.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Hj.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(q_e,{...e,ref:t})})}));HF.displayName=Tp;var q_e=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=w.useRef(null),p=Xe(t,h),y=pd(i),[m,g]=Fn({prop:s,defaultProp:l??null,onChange:c,caller:Tp}),[v,x]=w.useState(!1),b=Er(u),_=WF(r),j=w.useRef(!1),[S,C]=w.useState(0);return w.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Cb,b),()=>N.removeEventListener(Cb,b)},[b]),o.jsx(W_e,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:w.useCallback(N=>g(N),[g]),onItemShiftTab:w.useCallback(()=>x(!0),[]),onFocusableItemAdd:w.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:w.useCallback(()=>C(N=>N-1),[]),children:o.jsx(Te.div,{tabIndex:v||S===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:we(e.onMouseDown,()=>{j.current=!0}),onFocus:we(e.onFocus,N=>{const A=!j.current;if(N.target===N.currentTarget&&A&&!v){const E=new CustomEvent(Cb,z_e);if(N.currentTarget.dispatchEvent(E),!E.defaultPrevented){const k=_().filter(I=>I.focusable),R=k.find(I=>I.active),T=k.find(I=>I.id===m),$=[R,T,...k].filter(Boolean).map(I=>I.ref.current);GF($,f)}}j.current=!1}),onBlur:we(e.onBlur,()=>x(!1))})})}),qF="RovingFocusGroupItem",KF=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...l}=e,c=Si(),u=i||c,f=H_e(qF,r),d=f.currentTabStopId===u,h=WF(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=f;return w.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),o.jsx(Hj.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(Te.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:we(e.onMouseDown,g=>{n?f.onItemFocus(u):g.preventDefault()}),onFocus:we(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:we(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=Y_e(g,f.orientation,f.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const _=b.indexOf(g.currentTarget);b=f.loop?X_e(b,_+1):b.slice(_+1)}setTimeout(()=>GF(b))}}),children:typeof s=="function"?s({isCurrentTabStop:d,hasTabStop:m!=null}):s})})});KF.displayName=qF;var K_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G_e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Y_e(e,t,r){const n=G_e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return K_e[n]}function GF(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function X_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var YF=HF,XF=KF,Ux="Tabs",[Q_e,POe]=Sn(Ux,[zx]),QF=zx(),[Z_e,KC]=Q_e(Ux),ZF=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=pd(l),[d,h]=Fn({prop:n,onChange:a,defaultProp:i??"",caller:Ux});return o.jsx(Z_e,{scope:r,baseId:Si(),value:d,onValueChange:h,orientation:s,dir:f,activationMode:c,children:o.jsx(Te.div,{dir:f,"data-orientation":s,...u,ref:t})})});ZF.displayName=Ux;var JF="TabsList",eB=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=KC(JF,r),s=QF(r);return o.jsx(YF,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});eB.displayName=JF;var tB="TabsTrigger",rB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=KC(tB,r),l=QF(r),c=iB(s.baseId,n),u=sB(s.baseId,n),f=n===s.value;return o.jsx(XF,{asChild:!0,...l,focusable:!a,active:f,children:o.jsx(Te.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:we(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?s.onValueChange(n):d.preventDefault()}),onKeyDown:we(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(n)}),onFocus:we(e.onFocus,()=>{const d=s.activationMode!=="manual";!f&&!a&&d&&s.onValueChange(n)})})})});rB.displayName=tB;var nB="TabsContent",aB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,l=KC(nB,r),c=iB(l.baseId,n),u=sB(l.baseId,n),f=n===l.value,d=w.useRef(f);return w.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Bn,{present:a||f,children:({present:h})=>o.jsx(Te.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});aB.displayName=nB;function iB(e,t){return`${e}-trigger-${t}`}function sB(e,t){return`${e}-content-${t}`}var J_e=ZF,oB=eB,lB=rB,cB=aB;const Ea=J_e,ca=w.forwardRef(({className:e,...t},r)=>o.jsx(oB,{ref:r,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ca.displayName=oB.displayName;const ut=w.forwardRef(({className:e,...t},r)=>o.jsx(lB,{ref:r,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));ut.displayName=lB.displayName;const vt=w.forwardRef(({className:e,...t},r)=>o.jsx(cB,{ref:r,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));vt.displayName=cB.displayName;const eSe=[{id:"kpis",label:"KPIs Produits",elementId:"product-kpis"},{id:"revenue-viz",label:"Visualisation CA",elementId:"product-revenue-viz"},{id:"revenue-chart",label:"Projection CA",elementId:"product-revenue-chart"},{id:"pricing",label:"Pricing Produits",elementId:"product-pricing"},{id:"volumes",label:"Volumes par Anne",elementId:"product-volumes"}];function tSe(){var x;const{state:e,computed:t,updateProducts:r,addProduct:n,removeProduct:a,saveAll:i,setRevenueMode:s,updateGlobalRevenueConfig:l}=Mi(),c=e.scenarioSettings,u=Array.from({length:c.durationYears},(b,_)=>c.startYear+_),f=b=>{n(b)},d=b=>{const _=e.products.map(j=>j.id===b.id?b:j);r(_)},h=(b,_,j)=>{const S=e.products.map(C=>C.id!==b?C:{...C,volumesByYear:{...C.volumesByYear,[_]:j}});r(S)},p=t.totalDevCost,y=u[u.length-1],m=((x=t.revenueByYear.find(b=>b.year===y))==null?void 0:x.revenue)||0,g=t.revenueByYear.length>0?t.revenueByYear.reduce((b,_)=>b+(_.revenue>0?(_.revenue-_.cogs)/_.revenue:0),0)/t.revenueByYear.length:0,v=u.map(b=>{const _=t.revenueByYear.find(j=>j.year===b);return{year:b,revenue:((_==null?void 0:_.revenue)||0)/1e3,cogs:((_==null?void 0:_.cogs)||0)/1e3,margin:(((_==null?void 0:_.revenue)||0)-((_==null?void 0:_.cogs)||0))/1e3}});return o.jsx(js,{tabKey:"product-plan",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"ccd-evo",title:"Plan Produit",subtitle:"Source unique du chiffre d'affaires et des investissements R&D",height:"sm"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm font-medium",children:"Mode de calcul du CA :"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ie,{variant:e.revenueMode==="by-product"?"default":"outline",size:"sm",onClick:()=>s("by-product"),children:[o.jsx(sW,{className:"h-4 w-4 mr-1"}),"Par Produit"]}),o.jsxs(ie,{variant:e.revenueMode==="by-channel-global"?"default":"outline",size:"sm",onClick:()=>s("by-channel-global"),children:[o.jsx(ch,{className:"h-4 w-4 mr-1"}),"CA Global par Canal"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($e,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Dtail produits":"Global canaux"}),o.jsx(Md,{pageTitle:"Plan Produit",sections:eSe,fileName:"Plan_Produit"}),o.jsx(yd,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsxs("div",{id:"product-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(ot,{label:"Investissement R&D",value:J(p,!0),subValue:`${e.products.filter(b=>b.devCost>0).length} produits`}),o.jsx(ot,{label:`CA ${y}`,value:J(m,!0),subValue:"Projection",trend:"up"}),o.jsx(ot,{label:"Marge Brute Moy.",value:kr(g),subValue:"Sur la priode"}),o.jsx(ot,{label:"Produits Actifs",value:e.products.length.toString(),subValue:"En portefeuille"})]}),o.jsx("div",{id:"product-revenue-chart",children:o.jsx(Ue,{title:"Projection du Chiffre d'Affaires",children:o.jsx("div",{className:"h-64",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Rd,{data:v,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:b=>`${b}k`}),o.jsx(Ft,{formatter:b=>`${b.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"revenue",name:"CA",fill:"hsl(var(--primary))"}),o.jsx(qt,{dataKey:"margin",name:"Marge",fill:"hsl(150, 60%, 40%)"})]})})})})}),o.jsxs(Ea,{defaultValue:"visualization",className:"space-y-4",children:[o.jsxs(ca,{children:[o.jsxs(ut,{value:"visualization",children:[o.jsx(Q6,{className:"h-4 w-4 mr-1"}),"Visualisation CA"]}),o.jsxs(ut,{value:"pricing",children:[o.jsx(Cv,{className:"h-4 w-4 mr-1"}),"Pricing Produits"]}),o.jsxs(ut,{value:"volumes",children:[o.jsx(xp,{className:"h-4 w-4 mr-1"}),"Volumes par Anne"]})]}),e.revenueMode==="by-channel-global"&&o.jsx(vt,{value:"visualization",children:o.jsx(OK,{config:e.globalRevenueConfig,onChange:l,years:u})}),e.revenueMode==="by-product"&&o.jsx(vt,{value:"visualization",children:o.jsx("div",{id:"product-revenue-viz",children:o.jsx(F_e,{products:e.products,years:u})})}),o.jsx(vt,{value:"pricing",children:e.revenueMode==="by-product"?o.jsx("div",{id:"product-pricing",children:o.jsx(kX,{products:e.products,onUpdateProduct:d,onAddProduct:f,onRemoveProduct:a})}):o.jsx(Ue,{title:"Pricing Produits",children:o.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[o.jsx(ch,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium mb-2",children:"Mode CA Global actif"}),o.jsxs("p",{className:"text-sm",children:[`Le pricing par produit n'est pas disponible en mode "CA Global par Canal".`,o.jsx("br",{}),'Passez en mode "Par Produit" pour grer les prix individuellement.']})]})})}),o.jsx(vt,{value:"volumes",children:o.jsx("div",{id:"product-volumes",children:o.jsxs(Ue,{title:"Volumes par Anne",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Saisissez les volumes de vente prvisionnels par produit et par anne."}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Produit"}),o.jsx(le,{className:"text-right",children:"Cot Unit."}),u.map(b=>o.jsx(le,{className:"text-center",children:b},b)),o.jsx(le,{className:"text-right",children:"CA Total"})]})}),o.jsx(Wt,{children:e.products.map(b=>{const _=u.reduce((j,S)=>{const C=b.volumesByYear[S]||0;return j+C*b.priceHT},0);return o.jsxs(be,{children:[o.jsxs(Y,{children:[o.jsx("div",{className:"font-medium",children:b.name}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Lancement: ",b.launchYear]})]}),o.jsx(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:J(b.unitCost)}),u.map(j=>o.jsx(Y,{className:"text-center",children:j>=b.launchYear?o.jsx(_e,{type:"number",value:b.volumesByYear[j]||0,onChange:S=>h(b.id,j,Number(S.target.value)),className:"h-8 w-20 mx-auto text-center"}):o.jsx("span",{className:"text-muted-foreground",children:"-"})},j)),o.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:J(_,!0)})]},b.id)})})]})})]})})})]})]})})}const rSe=["R&D","Production","Sales","Support","Admin"];function nSe({roles:e,onEdit:t,onRemove:r,onAddToTeam:n}){return o.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-5 gap-4",children:rSe.map(a=>{const i=e.filter(s=>s.department===a);return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx($e,{variant:"outline",children:a}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>n(a),children:o.jsx(Tr,{className:"h-3 w-3"})})]}),o.jsx("div",{className:"space-y-2",children:i.map(s=>o.jsx(Zt,{className:"bg-muted/30",children:o.jsxs(Jt,{className:"p-3",children:[o.jsx("div",{className:"text-sm font-medium",children:s.title}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.startYear,"  ",(s.annualCostLoaded/1e3).toFixed(0),"k"]}),o.jsxs("div",{className:"flex gap-1 mt-2",children:[o.jsx(ie,{size:"sm",variant:"ghost",className:"h-6 px-2",onClick:()=>t(s),children:o.jsx(pS,{className:"h-3 w-3"})}),o.jsx(ie,{size:"sm",variant:"ghost",className:"h-6 px-2 text-destructive",onClick:()=>r(s.id),children:o.jsx(Xr,{className:"h-3 w-3"})})]})]})},s.id))})]},a)})})}var uB="Toggle",GC=w.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n,onPressedChange:a,...i}=e,[s,l]=Fn({prop:r,onChange:a,defaultProp:n??!1,caller:uB});return o.jsx(Te.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:we(e.onClick,()=>{e.disabled||l(!s)})})});GC.displayName=uB;var dB=GC,To="ToggleGroup",[fB,EOe]=Sn(To,[zx]),hB=zx(),YC=O.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return o.jsx(aSe,{...a,ref:t})}if(r==="multiple"){const a=n;return o.jsx(iSe,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${To}\``)});YC.displayName=To;var[pB,mB]=fB(To),aSe=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[s,l]=Fn({prop:r,defaultProp:n??"",onChange:a,caller:To});return o.jsx(pB,{scope:e.__scopeToggleGroup,type:"single",value:O.useMemo(()=>s?[s]:[],[s]),onItemActivate:l,onItemDeactivate:O.useCallback(()=>l(""),[l]),children:o.jsx(vB,{...i,ref:t})})}),iSe=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[s,l]=Fn({prop:r,defaultProp:n??[],onChange:a,caller:To}),c=O.useCallback(f=>l((d=[])=>[...d,f]),[l]),u=O.useCallback(f=>l((d=[])=>d.filter(h=>h!==f)),[l]);return o.jsx(pB,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:c,onItemDeactivate:u,children:o.jsx(vB,{...i,ref:t})})});YC.displayName=To;var[sSe,oSe]=fB(To),vB=O.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:i,dir:s,loop:l=!0,...c}=e,u=hB(r),f=pd(s),d={role:"group",dir:f,...c};return o.jsx(sSe,{scope:r,rovingFocus:a,disabled:n,children:a?o.jsx(YF,{asChild:!0,...u,orientation:i,dir:f,loop:l,children:o.jsx(Te.div,{...d,ref:t})}):o.jsx(Te.div,{...d,ref:t})})}),Hg="ToggleGroupItem",gB=O.forwardRef((e,t)=>{const r=mB(Hg,e.__scopeToggleGroup),n=oSe(Hg,e.__scopeToggleGroup),a=hB(e.__scopeToggleGroup),i=r.value.includes(e.value),s=n.disabled||e.disabled,l={...e,pressed:i,disabled:s},c=O.useRef(null);return n.rovingFocus?o.jsx(XF,{asChild:!0,...a,focusable:!s,active:i,ref:c,children:o.jsx(YT,{...l,ref:t})}):o.jsx(YT,{...l,ref:t})});gB.displayName=Hg;var YT=O.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,i=mB(Hg,r),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?s:void 0;return o.jsx(GC,{...l,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),yB=YC,xB=gB;const bB=ad("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),lSe=w.forwardRef(({className:e,variant:t,size:r,...n},a)=>o.jsx(dB,{ref:a,className:re(bB({variant:t,size:r,className:e})),...n}));lSe.displayName=dB.displayName;const wB=w.createContext({size:"default",variant:"default"}),jB=w.forwardRef(({className:e,variant:t,size:r,children:n,...a},i)=>o.jsx(yB,{ref:i,className:re("flex items-center justify-center gap-1",e),...a,children:o.jsx(wB.Provider,{value:{variant:t,size:r},children:n})}));jB.displayName=yB.displayName;const qj=w.forwardRef(({className:e,children:t,variant:r,size:n,...a},i)=>{const s=w.useContext(wB);return o.jsx(xB,{ref:i,className:re(bB({variant:s.variant||r,size:s.size||n}),e),...a,children:t})});qj.displayName=xB.displayName;var Nb=0;function XC(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??XT()),document.body.insertAdjacentElement("beforeend",e[1]??XT()),Nb++,()=>{Nb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nb--}},[])}function XT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pb="focusScope.autoFocusOnMount",Eb="focusScope.autoFocusOnUnmount",QT={bubbles:!1,cancelable:!0},cSe="FocusScope",Vx=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[l,c]=w.useState(null),u=Er(a),f=Er(i),d=w.useRef(null),h=Xe(t,m=>c(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const _=b.target;l.contains(_)?d.current=_:Os(d.current,{select:!0})},g=function(b){if(p.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||Os(d.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Os(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),x.disconnect()}}},[n,l,p.paused]),w.useEffect(()=>{if(l){JT.add(p);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(Pb,QT);l.addEventListener(Pb,u),l.dispatchEvent(v),v.defaultPrevented||(uSe(mSe(_B(l)),{select:!0}),document.activeElement===m&&Os(l))}return()=>{l.removeEventListener(Pb,u),setTimeout(()=>{const v=new CustomEvent(Eb,QT);l.addEventListener(Eb,f),l.dispatchEvent(v),v.defaultPrevented||Os(m??document.body,{select:!0}),l.removeEventListener(Eb,f),JT.remove(p)},0)}}},[l,u,f,p]);const y=w.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(g&&v){const x=m.currentTarget,[b,_]=dSe(x);b&&_?!m.shiftKey&&v===_?(m.preventDefault(),r&&Os(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),r&&Os(_,{select:!0})):v===x&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(Te.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});Vx.displayName=cSe;function uSe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Os(n,{select:t}),document.activeElement!==r)return}function dSe(e){const t=_B(e),r=ZT(t,e),n=ZT(t.reverse(),e);return[r,n]}function _B(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ZT(e,t){for(const r of e)if(!fSe(r,{upTo:t}))return r}function fSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hSe(e){return e instanceof HTMLInputElement&&"select"in e}function Os(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&hSe(e)&&t&&e.select()}}var JT=pSe();function pSe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=e2(e,t),e.unshift(t)},remove(t){var r;e=e2(e,t),(r=e[0])==null||r.resume()}}}function e2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function mSe(e){return e.filter(t=>t.tagName!=="A")}var vSe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rc=new WeakMap,Em=new WeakMap,Am={},Ab=0,SB=function(e){return e&&(e.host||SB(e.parentNode))},gSe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=SB(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ySe=function(e,t,r,n){var a=gSe(t,Array.isArray(e)?e:[e]);Am[r]||(Am[r]=new WeakMap);var i=Am[r],s=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",m=(rc.get(h)||0)+1,g=(i.get(h)||0)+1;rc.set(h,m),i.set(h,g),s.push(h),m===1&&y&&Em.set(h,!0),g===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return f(t),l.clear(),Ab++,function(){s.forEach(function(d){var h=rc.get(d)-1,p=i.get(d)-1;rc.set(d,h),i.set(d,p),h||(Em.has(d)||d.removeAttribute(n),Em.delete(d)),p||d.removeAttribute(r)}),Ab--,Ab||(rc=new WeakMap,rc=new WeakMap,Em=new WeakMap,Am={})}},QC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=vSe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),ySe(n,a,r,"aria-hidden")):function(){return null}},Zm="right-scroll-bar-position",Jm="width-before-scroll-bar",xSe="with-scroll-bars-hidden",bSe="--removed-body-scroll-bar-size";function kb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wSe(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var jSe=typeof window<"u"?w.useLayoutEffect:w.useEffect,t2=new WeakMap;function _Se(e,t){var r=wSe(null,function(n){return e.forEach(function(a){return kb(a,n)})});return jSe(function(){var n=t2.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(l){i.has(l)||kb(l,null)}),i.forEach(function(l){a.has(l)||kb(l,s)})}t2.set(r,e)},[e]),r}function SSe(e){return e}function CSe(e,t){t===void 0&&(t=SSe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(i),s=r}var c=function(){var f=s;s=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),r}}}};return a}function NSe(e){e===void 0&&(e={});var t=CSe(null);return t.options=pi({async:!0,ssr:!1},e),t}var CB=function(e){var t=e.sideCar,r=vd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,pi({},r))};CB.isSideCarExport=!0;function PSe(e,t){return e.useMedium(t),CB}var NB=NSe(),Ob=function(){},Wx=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:Ob,onWheelCapture:Ob,onTouchMoveCapture:Ob}),a=n[0],i=n[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,_=vd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=_Se([r,t]),C=pi(pi({},_),a);return w.createElement(w.Fragment,null,f&&w.createElement(j,{sideCar:NB,removeScrollBar:u,shards:d,noRelative:p,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),s?w.cloneElement(w.Children.only(l),pi(pi({},C),{ref:S})):w.createElement(x,pi({},C,{className:c,ref:S}),l))});Wx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wx.classNames={fullWidth:Jm,zeroRight:Zm};var ESe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ASe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ESe();return t&&e.setAttribute("nonce",t),e}function kSe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OSe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TSe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ASe())&&(kSe(t,r),OSe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RSe=function(){var e=TSe();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},PB=function(){var e=RSe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},MSe={left:0,top:0,right:0,gap:0},Tb=function(e){return parseInt(e||"",10)||0},$Se=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Tb(r),Tb(n),Tb(a)]},ISe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return MSe;var t=$Se(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},DSe=PB(),Gc="data-scroll-locked",LSe=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(xSe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Gc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Jm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zm," .").concat(Zm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Jm," .").concat(Jm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Gc,`] {
    `).concat(bSe,": ").concat(l,`px;
  }
`)},r2=function(){var e=parseInt(document.body.getAttribute(Gc)||"0",10);return isFinite(e)?e:0},FSe=function(){w.useEffect(function(){return document.body.setAttribute(Gc,(r2()+1).toString()),function(){var e=r2()-1;e<=0?document.body.removeAttribute(Gc):document.body.setAttribute(Gc,e.toString())}},[])},BSe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;FSe();var i=w.useMemo(function(){return ISe(a)},[a]);return w.createElement(DSe,{styles:LSe(i,!t,a,r?"":"!important")})},Kj=!1;if(typeof window<"u")try{var km=Object.defineProperty({},"passive",{get:function(){return Kj=!0,!0}});window.addEventListener("test",km,km),window.removeEventListener("test",km,km)}catch{Kj=!1}var nc=Kj?{passive:!1}:!1,zSe=function(e){return e.tagName==="TEXTAREA"},EB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!zSe(e)&&r[t]==="visible")},USe=function(e){return EB(e,"overflowY")},VSe=function(e){return EB(e,"overflowX")},n2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=AB(e,n);if(a){var i=kB(e,n),s=i[1],l=i[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},WSe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},HSe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},AB=function(e,t){return e==="v"?USe(t):VSe(t)},kB=function(e,t){return e==="v"?WSe(t):HSe(t)},qSe=function(e,t){return e==="h"&&t==="rtl"?-1:1},KSe=function(e,t,r,n,a){var i=qSe(e,window.getComputedStyle(t).direction),s=i*n,l=r.target,c=t.contains(l),u=!1,f=s>0,d=0,h=0;do{if(!l)break;var p=kB(e,l),y=p[0],m=p[1],g=p[2],v=m-g-i*y;(y||v)&&AB(e,l)&&(d+=v,h+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!a)||!f&&(Math.abs(h)<1||!a))&&(u=!0),u},Om=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},a2=function(e){return[e.deltaX,e.deltaY]},i2=function(e){return e&&"current"in e?e.current:e},GSe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YSe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},XSe=0,ac=[];function QSe(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(XSe++)[0],i=w.useState(PB)[0],s=w.useRef(e);w.useEffect(function(){s.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=DK([e.lockRef.current],(e.shards||[]).map(i2),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var v=Om(m),x=r.current,b="deltaX"in m?m.deltaX:x[0]-v[0],_="deltaY"in m?m.deltaY:x[1]-v[1],j,S=m.target,C=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&C==="h"&&S.type==="range")return!1;var N=n2(C,S);if(!N)return!0;if(N?j=C:(j=C==="v"?"h":"v",N=n2(C,S)),!N)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=j),!j)return!0;var A=n.current||j;return KSe(A,g,m,A==="h"?b:_,!0)},[]),c=w.useCallback(function(m){var g=m;if(!(!ac.length||ac[ac.length-1]!==i)){var v="deltaY"in g?a2(g):Om(g),x=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&GSe(j.delta,v)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var b=(s.current.shards||[]).map(i2).filter(Boolean).filter(function(j){return j.contains(g.target)}),_=b.length>0?l(g,b[0]):!s.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=w.useCallback(function(m,g,v,x){var b={name:m,delta:g,target:v,should:x,shadowParent:ZSe(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),f=w.useCallback(function(m){r.current=Om(m),n.current=void 0},[]),d=w.useCallback(function(m){u(m.type,a2(m),m.target,l(m,e.lockRef.current))},[]),h=w.useCallback(function(m){u(m.type,Om(m),m.target,l(m,e.lockRef.current))},[]);w.useEffect(function(){return ac.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,nc),document.addEventListener("touchmove",c,nc),document.addEventListener("touchstart",f,nc),function(){ac=ac.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,nc),document.removeEventListener("touchmove",c,nc),document.removeEventListener("touchstart",f,nc)}},[]);var p=e.removeScrollBar,y=e.inert;return w.createElement(w.Fragment,null,y?w.createElement(i,{styles:YSe(a)}):null,p?w.createElement(BSe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ZSe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JSe=PSe(NB,QSe);var Hx=w.forwardRef(function(e,t){return w.createElement(Wx,pi({},e,{ref:t,sideCar:JSe}))});Hx.classNames=Wx.classNames;var eCe=[" ","Enter","ArrowUp","ArrowDown"],tCe=[" ","Enter"],Tl="Select",[qx,Kx,rCe]=Sy(Tl),[$d,AOe]=Sn(Tl,[rCe,cd]),Gx=cd(),[nCe,Ro]=$d(Tl),[aCe,iCe]=$d(Tl),OB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:y}=e,m=Gx(t),[g,v]=w.useState(null),[x,b]=w.useState(null),[_,j]=w.useState(!1),S=pd(u),[C,N]=Fn({prop:n,defaultProp:a??!1,onChange:i,caller:Tl}),[A,E]=Fn({prop:s,defaultProp:l,onChange:c,caller:Tl}),k=w.useRef(null),R=g?y||!!g.closest("form"):!0,[T,P]=w.useState(new Set),$=Array.from(T).map(I=>I.props.value).join(";");return o.jsx(AS,{...m,children:o.jsxs(nCe,{required:p,scope:t,trigger:g,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Si(),value:A,onValueChange:E,open:C,onOpenChange:N,dir:S,triggerPointerDownPosRef:k,disabled:h,children:[o.jsx(qx.Provider,{scope:t,children:o.jsx(aCe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(I=>{P(M=>new Set(M).add(I))},[]),onNativeOptionRemove:w.useCallback(I=>{P(M=>{const D=new Set(M);return D.delete(I),D})},[]),children:r})}),R?o.jsxs(t5,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:A,onChange:I=>E(I.target.value),disabled:h,form:y,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(T)]},$):null]})})};OB.displayName=Tl;var TB="SelectTrigger",RB=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Gx(r),s=Ro(TB,r),l=s.disabled||n,c=Xe(t,s.onTriggerChange),u=Kx(r),f=w.useRef("touch"),[d,h,p]=n5(m=>{const g=u().filter(b=>!b.disabled),v=g.find(b=>b.value===s.value),x=a5(g,m,v);x!==void 0&&s.onValueChange(x.value)}),y=m=>{l||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(Ry,{asChild:!0,...i,children:o.jsx(Te.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":r5(s.value)?"":void 0,...a,ref:c,onClick:we(a.onClick,m=>{m.currentTarget.focus(),f.current!=="mouse"&&y(m)}),onPointerDown:we(a.onPointerDown,m=>{f.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:we(a.onKeyDown,m=>{const g=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&eCe.includes(m.key)&&(y(),m.preventDefault())})})})});RB.displayName=TB;var MB="SelectValue",$B=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...l}=e,c=Ro(MB,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,d=Xe(t,c.onValueNodeChange);return Fr(()=>{u(f)},[u,f]),o.jsx(Te.span,{...l,ref:d,style:{pointerEvents:"none"},children:r5(c.value)?o.jsx(o.Fragment,{children:s}):i})});$B.displayName=MB;var sCe="SelectIcon",IB=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(Te.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});IB.displayName=sCe;var oCe="SelectPortal",DB=e=>o.jsx(gp,{asChild:!0,...e});DB.displayName=oCe;var Rl="SelectContent",LB=w.forwardRef((e,t)=>{const r=Ro(Rl,e.__scopeSelect),[n,a]=w.useState();if(Fr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Ll.createPortal(o.jsx(FB,{scope:e.__scopeSelect,children:o.jsx(qx.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(BB,{...e,ref:t})});LB.displayName=Rl;var Ia=10,[FB,Mo]=$d(Rl),lCe="SelectContentImpl",cCe=Sl("SelectContent.RemoveScroll"),BB=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g,...v}=e,x=Ro(Rl,r),[b,_]=w.useState(null),[j,S]=w.useState(null),C=Xe(t,H=>_(H)),[N,A]=w.useState(null),[E,k]=w.useState(null),R=Kx(r),[T,P]=w.useState(!1),$=w.useRef(!1);w.useEffect(()=>{if(b)return QC(b)},[b]),XC();const I=w.useCallback(H=>{const[ce,...Q]=R().map(q=>q.ref.current),[Z]=Q.slice(-1),W=document.activeElement;for(const q of H)if(q===W||(q==null||q.scrollIntoView({block:"nearest"}),q===ce&&j&&(j.scrollTop=0),q===Z&&j&&(j.scrollTop=j.scrollHeight),q==null||q.focus(),document.activeElement!==W))return},[R,j]),M=w.useCallback(()=>I([N,b]),[I,N,b]);w.useEffect(()=>{T&&M()},[T,M]);const{onOpenChange:D,triggerPointerDownPosRef:L}=x;w.useEffect(()=>{if(b){let H={x:0,y:0};const ce=Z=>{var W,q;H={x:Math.abs(Math.round(Z.pageX)-(((W=L.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((q=L.current)==null?void 0:q.y)??0))}},Q=Z=>{H.x<=10&&H.y<=10?Z.preventDefault():b.contains(Z.target)||D(!1),document.removeEventListener("pointermove",ce),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",Q,{capture:!0})}}},[b,D,L]),w.useEffect(()=>{const H=()=>D(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[D]);const[U,X]=n5(H=>{const ce=R().filter(W=>!W.disabled),Q=ce.find(W=>W.ref.current===document.activeElement),Z=a5(ce,H,Q);Z&&setTimeout(()=>Z.ref.current.focus())}),G=w.useCallback((H,ce,Q)=>{const Z=!$.current&&!Q;(x.value!==void 0&&x.value===ce||Z)&&(A(H),Z&&($.current=!0))},[x.value]),te=w.useCallback(()=>b==null?void 0:b.focus(),[b]),z=w.useCallback((H,ce,Q)=>{const Z=!$.current&&!Q;(x.value!==void 0&&x.value===ce||Z)&&k(H)},[x.value]),B=n==="popper"?Gj:zB,V=B===Gj?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return o.jsx(FB,{scope:r,content:b,viewport:j,onViewportChange:S,itemRefCallback:G,selectedItem:N,onItemLeave:te,itemTextRefCallback:z,focusSelectedItem:M,selectedItemText:E,position:n,isPositioned:T,searchRef:U,children:o.jsx(Hx,{as:cCe,allowPinchZoom:!0,children:o.jsx(Vx,{asChild:!0,trapped:x.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:we(a,H=>{var ce;(ce=x.trigger)==null||ce.focus({preventScroll:!0}),H.preventDefault()}),children:o.jsx(nd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(B,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:H=>H.preventDefault(),...v,...V,onPlaced:()=>P(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:we(v.onKeyDown,H=>{const ce=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!ce&&H.key.length===1&&X(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let Z=R().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(H.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const W=H.target,q=Z.indexOf(W);Z=Z.slice(q+1)}setTimeout(()=>I(Z)),H.preventDefault()}})})})})})})});BB.displayName=lCe;var uCe="SelectItemAlignedPosition",zB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ro(Rl,r),s=Mo(Rl,r),[l,c]=w.useState(null),[u,f]=w.useState(null),d=Xe(t,C=>f(C)),h=Kx(r),p=w.useRef(!1),y=w.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:x}=s,b=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&g&&v){const C=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(i.dir!=="rtl"){const W=E.left-N.left,q=A.left-W,de=C.left-q,ye=C.width+de,Ae=Math.max(ye,N.width),Ie=window.innerWidth-Ia,Ge=yh(q,[Ia,Math.max(Ia,Ie-Ae)]);l.style.minWidth=ye+"px",l.style.left=Ge+"px"}else{const W=N.right-E.right,q=window.innerWidth-A.right-W,de=window.innerWidth-C.right-q,ye=C.width+de,Ae=Math.max(ye,N.width),Ie=window.innerWidth-Ia,Ge=yh(q,[Ia,Math.max(Ia,Ie-Ae)]);l.style.minWidth=ye+"px",l.style.right=Ge+"px"}const k=h(),R=window.innerHeight-Ia*2,T=m.scrollHeight,P=window.getComputedStyle(u),$=parseInt(P.borderTopWidth,10),I=parseInt(P.paddingTop,10),M=parseInt(P.borderBottomWidth,10),D=parseInt(P.paddingBottom,10),L=$+I+T+D+M,U=Math.min(g.offsetHeight*5,L),X=window.getComputedStyle(m),G=parseInt(X.paddingTop,10),te=parseInt(X.paddingBottom,10),z=C.top+C.height/2-Ia,B=R-z,V=g.offsetHeight/2,H=g.offsetTop+V,ce=$+I+H,Q=L-ce;if(ce<=z){const W=k.length>0&&g===k[k.length-1].ref.current;l.style.bottom="0px";const q=u.clientHeight-m.offsetTop-m.offsetHeight,de=Math.max(B,V+(W?te:0)+q+M),ye=ce+de;l.style.height=ye+"px"}else{const W=k.length>0&&g===k[0].ref.current;l.style.top="0px";const de=Math.max(z,$+m.offsetTop+(W?G:0)+V)+Q;l.style.height=de+"px",m.scrollTop=ce-z+m.offsetTop}l.style.margin=`${Ia}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,g,v,i.dir,n]);Fr(()=>b(),[b]);const[_,j]=w.useState();Fr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=w.useCallback(C=>{C&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return o.jsx(fCe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Te.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});zB.displayName=uCe;var dCe="SelectPopperPosition",Gj=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ia,...i}=e,s=Gx(r);return o.jsx(kS,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gj.displayName=dCe;var[fCe,ZC]=$d(Rl,{}),Yj="SelectViewport",UB=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Mo(Yj,r),s=ZC(Yj,r),l=Xe(t,i.onViewportChange),c=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(qx.Slot,{scope:r,children:o.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:we(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const y=window.innerHeight-Ia*2,m=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),v=Math.max(m,g);if(v<y){const x=v+p,b=Math.min(y,x),_=x-b;d.style.height=b+"px",d.style.bottom==="0px"&&(f.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});UB.displayName=Yj;var VB="SelectGroup",[hCe,pCe]=$d(VB),mCe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Si();return o.jsx(hCe,{scope:r,id:a,children:o.jsx(Te.div,{role:"group","aria-labelledby":a,...n,ref:t})})});mCe.displayName=VB;var WB="SelectLabel",HB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=pCe(WB,r);return o.jsx(Te.div,{id:a.id,...n,ref:t})});HB.displayName=WB;var qg="SelectItem",[vCe,qB]=$d(qg),KB=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,l=Ro(qg,r),c=Mo(qg,r),u=l.value===n,[f,d]=w.useState(i??""),[h,p]=w.useState(!1),y=Xe(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),m=Si(),g=w.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(vCe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:w.useCallback(x=>{d(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(qx.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:o.jsx(Te.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:y,onFocus:we(s.onFocus,()=>p(!0)),onBlur:we(s.onBlur,()=>p(!1)),onClick:we(s.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:we(s.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:we(s.onPointerDown,x=>{g.current=x.pointerType}),onPointerMove:we(s.onPointerMove,x=>{var b;g.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(s.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:we(s.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(tCe.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});KB.displayName=qg;var gf="SelectItemText",GB=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=Ro(gf,r),l=Mo(gf,r),c=qB(gf,r),u=iCe(gf,r),[f,d]=w.useState(null),h=Xe(t,v=>d(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),p=f==null?void 0:f.textContent,y=w.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return Fr(()=>(m(y),()=>g(y)),[m,g,y]),o.jsxs(o.Fragment,{children:[o.jsx(Te.span,{id:c.textId,...i,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ll.createPortal(i.children,s.valueNode):null]})});GB.displayName=gf;var YB="SelectItemIndicator",XB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return qB(YB,r).isSelected?o.jsx(Te.span,{"aria-hidden":!0,...n,ref:t}):null});XB.displayName=YB;var Xj="SelectScrollUpButton",QB=w.forwardRef((e,t)=>{const r=Mo(Xj,e.__scopeSelect),n=ZC(Xj,e.__scopeSelect),[a,i]=w.useState(!1),s=Xe(t,n.onScrollButtonChange);return Fr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(JB,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});QB.displayName=Xj;var Qj="SelectScrollDownButton",ZB=w.forwardRef((e,t)=>{const r=Mo(Qj,e.__scopeSelect),n=ZC(Qj,e.__scopeSelect),[a,i]=w.useState(!1),s=Xe(t,n.onScrollButtonChange);return Fr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(JB,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ZB.displayName=Qj;var JB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Mo("SelectScrollButton",r),s=w.useRef(null),l=Kx(r),c=w.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Fr(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(Te.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:we(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:we(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:we(a.onPointerLeave,()=>{c()})})}),gCe="SelectSeparator",e5=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Te.div,{"aria-hidden":!0,...n,ref:t})});e5.displayName=gCe;var Zj="SelectArrow",yCe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Gx(r),i=Ro(Zj,r),s=Mo(Zj,r);return i.open&&s.position==="popper"?o.jsx(OS,{...a,...n,ref:t}):null});yCe.displayName=Zj;var xCe="SelectBubbleInput",t5=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),i=Xe(n,a),s=Uy(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[s,t]),o.jsx(Te.select,{...r,style:{...k$,...r.style},ref:i,defaultValue:t})});t5.displayName=xCe;function r5(e){return e===""||e===void 0}function n5(e){const t=Er(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(s=>{const l=r.current+s;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function a5(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=bCe(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function bCe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wCe=OB,i5=RB,jCe=$B,_Ce=IB,SCe=DB,s5=LB,CCe=UB,o5=HB,l5=KB,NCe=GB,PCe=XB,c5=QB,u5=ZB,d5=e5;const it=wCe,st=jCe,rt=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(i5,{ref:n,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(_Ce,{asChild:!0,children:o.jsx(tI,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=i5.displayName;const f5=w.forwardRef(({className:e,...t},r)=>o.jsx(c5,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(eW,{className:"h-4 w-4"})}));f5.displayName=c5.displayName;const h5=w.forwardRef(({className:e,...t},r)=>o.jsx(u5,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(tI,{className:"h-4 w-4"})}));h5.displayName=u5.displayName;const nt=w.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(SCe,{children:o.jsxs(s5,{ref:a,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(f5,{}),o.jsx(CCe,{className:re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(h5,{})]})}));nt.displayName=s5.displayName;const ECe=w.forwardRef(({className:e,...t},r)=>o.jsx(o5,{ref:r,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ECe.displayName=o5.displayName;const De=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(l5,{ref:n,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(PCe,{children:o.jsx(oh,{className:"h-4 w-4"})})}),o.jsx(NCe,{children:t})]}));De.displayName=l5.displayName;const ACe=w.forwardRef(({className:e,...t},r)=>o.jsx(d5,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));ACe.displayName=d5.displayName;var Yx="Dialog",[p5,m5]=Sn(Yx),[kCe,ii]=p5(Yx),v5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,f]=Fn({prop:n,defaultProp:a??!1,onChange:i,caller:Yx});return o.jsx(kCe,{scope:t,triggerRef:l,contentRef:c,contentId:Si(),titleId:Si(),descriptionId:Si(),open:u,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(d=>!d),[f]),modal:s,children:r})};v5.displayName=Yx;var g5="DialogTrigger",y5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(g5,r),i=Xe(t,a.triggerRef);return o.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tN(a.open),...n,ref:i,onClick:we(e.onClick,a.onOpenToggle)})});y5.displayName=g5;var JC="DialogPortal",[OCe,x5]=p5(JC,{forceMount:void 0}),b5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ii(JC,t);return o.jsx(OCe,{scope:t,forceMount:r,children:w.Children.map(n,s=>o.jsx(Bn,{present:r||i.open,children:o.jsx(gp,{asChild:!0,container:a,children:s})}))})};b5.displayName=JC;var Kg="DialogOverlay",w5=w.forwardRef((e,t)=>{const r=x5(Kg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ii(Kg,e.__scopeDialog);return i.modal?o.jsx(Bn,{present:n||i.open,children:o.jsx(RCe,{...a,ref:t})}):null});w5.displayName=Kg;var TCe=Sl("DialogOverlay.RemoveScroll"),RCe=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(Kg,r);return o.jsx(Hx,{as:TCe,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(Te.div,{"data-state":tN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ml="DialogContent",j5=w.forwardRef((e,t)=>{const r=x5(Ml,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ii(Ml,e.__scopeDialog);return o.jsx(Bn,{present:n||i.open,children:i.modal?o.jsx(MCe,{...a,ref:t}):o.jsx($Ce,{...a,ref:t})})});j5.displayName=Ml;var MCe=w.forwardRef((e,t)=>{const r=ii(Ml,e.__scopeDialog),n=w.useRef(null),a=Xe(t,r.contentRef,n);return w.useEffect(()=>{const i=n.current;if(i)return QC(i)},[]),o.jsx(_5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:we(e.onFocusOutside,i=>i.preventDefault())})}),$Ce=w.forwardRef((e,t)=>{const r=ii(Ml,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return o.jsx(_5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),_5=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,l=ii(Ml,r),c=w.useRef(null),u=Xe(t,c);return XC(),o.jsxs(o.Fragment,{children:[o.jsx(Vx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(nd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tN(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(DCe,{titleId:l.titleId}),o.jsx(FCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),eN="DialogTitle",S5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(eN,r);return o.jsx(Te.h2,{id:a.titleId,...n,ref:t})});S5.displayName=eN;var C5="DialogDescription",N5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(C5,r);return o.jsx(Te.p,{id:a.descriptionId,...n,ref:t})});N5.displayName=C5;var P5="DialogClose",E5=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ii(P5,r);return o.jsx(Te.button,{type:"button",...n,ref:t,onClick:we(e.onClick,()=>a.onOpenChange(!1))})});E5.displayName=P5;function tN(e){return e?"open":"closed"}var A5="DialogTitleWarning",[ICe,k5]=n6(A5,{contentName:Ml,titleName:eN,docsSlug:"dialog"}),DCe=({titleId:e})=>{const t=k5(A5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},LCe="DialogDescriptionWarning",FCe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${k5(LCe).contentName}}.`;return w.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},O5=v5,T5=y5,R5=b5,rN=w5,nN=j5,aN=S5,iN=N5,sN=E5;const Rr=O5,Xx=T5,BCe=R5,M5=w.forwardRef(({className:e,...t},r)=>o.jsx(rN,{ref:r,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));M5.displayName=rN.displayName;const xr=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(BCe,{children:[o.jsx(M5,{}),o.jsxs(nN,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(sN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Ai,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xr.displayName=nN.displayName;const br=({className:e,...t})=>o.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});br.displayName="DialogHeader";const Qx=({className:e,...t})=>o.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qx.displayName="DialogFooter";const wr=w.forwardRef(({className:e,...t},r)=>o.jsx(aN,{ref:r,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));wr.displayName=aN.displayName;const zCe=w.forwardRef(({className:e,...t},r)=>o.jsx(iN,{ref:r,className:re("text-sm text-muted-foreground",e),...t}));zCe.displayName=iN.displayName;const UCe=["R&D","Production","Sales","Support","Admin"],VCe=[2025,2026,2027,2028,2029,2030],WCe=[{id:"kpis",label:"KPIs RH",elementId:"org-kpis"},{id:"payroll-chart",label:"volution Masse Salariale",elementId:"org-payroll-chart"},{id:"hiring-plan",label:"Plan de Recrutement",elementId:"org-hiring-plan"},{id:"team",label:"quipe / Organigramme",elementId:"org-team"}];function HCe(){var _;const{state:e,computed:t,updateRoles:r,addRole:n,removeRole:a,saveAll:i}=Mi(),[s,l]=w.useState("orgchart"),[c,u]=w.useState(null),[f,d]=w.useState(!1),[h,p]=w.useState({}),y=j=>{const S={id:`role-${Date.now()}`,title:"Nouveau Poste",department:j||"R&D",startYear:2026,annualCostLoaded:5e4};p(S),u(null),d(!0)},m=j=>{u(j),p(j),d(!0)},g=()=>{if(h.title&&h.department){if(c){const j=e.roles.map(S=>S.id===c.id?{...S,...h}:S);r(j)}else n(h);d(!1),p({}),u(null)}},v=t.payrollByYear.map(j=>({year:j.year,payroll:j.payroll/1e3,headcount:j.headcount})),x=e.roles.filter(j=>j.startYear>2025),b=VCe.slice(1).map(j=>({year:j,count:e.roles.filter(S=>S.startYear===j).length,cost:e.roles.filter(S=>S.startYear===j).reduce((S,C)=>S+C.annualCostLoaded,0)})).filter(j=>j.count>0);return o.jsx(js,{tabKey:"organisation",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Organisation & Masse Salariale",subtitle:"Structure de l'quipe et projection des cots RH",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs($e,{variant:"outline",className:"text-xs",children:[t.totalHeadcount," collaborateurs"]}),o.jsxs(jB,{type:"single",value:s,onValueChange:j=>j&&l(j),children:[o.jsx(qj,{value:"orgchart","aria-label":"Vue organigramme",children:o.jsx(nW,{className:"h-4 w-4"})}),o.jsx(qj,{value:"table","aria-label":"Vue tableau",children:o.jsx(lW,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Md,{pageTitle:"Organisation & RH",sections:WCe,fileName:"Organisation_RH"}),o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>y(),children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Ajouter Poste"]}),o.jsx(yd,{onSave:i,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsxs("div",{id:"org-kpis",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(ot,{label:"Masse Salariale 2025",value:J(t.currentPayroll,!0),subValue:`${t.totalHeadcount} personnes`}),o.jsx(ot,{label:"Recrutements Prvus",value:x.length.toString(),subValue:"2026-2030"}),o.jsx(ot,{label:"Cot Moyen / ETP",value:J(t.currentPayroll/(t.totalHeadcount||1),!0),subValue:"Charg"}),o.jsx(ot,{label:"Masse Salariale 2030",value:J(((_=t.payrollByYear.find(j=>j.year===2030))==null?void 0:_.payroll)||0,!0),subValue:"Projection",trend:"up"})]}),o.jsx("div",{id:"org-payroll-chart",children:o.jsx(Ue,{title:"volution de la Masse Salariale",children:o.jsx("div",{className:"h-64",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(VF,{data:v,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:j=>`${j}k`}),o.jsx(Ft,{formatter:(j,S)=>S==="payroll"?`${j.toFixed(0)}k`:j}),o.jsx(Gr,{}),o.jsx(na,{type:"monotone",dataKey:"payroll",name:"Masse salariale",fill:"hsl(var(--primary))",stroke:"hsl(var(--primary))",fillOpacity:.3})]})})})})}),o.jsx("div",{id:"org-hiring-plan",children:b.length>0&&o.jsx(Ue,{title:"Plan de Recrutement",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:b.map(({year:j,count:S,cost:C})=>o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg text-center",children:[o.jsx("div",{className:"text-lg font-semibold",children:j}),o.jsxs("div",{className:"text-2xl font-bold text-primary",children:["+",S]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:J(C,!0)})]},j))})})}),o.jsx("div",{id:"org-team",children:s==="orgchart"?o.jsx(Ue,{title:"Organigramme",children:o.jsx(nSe,{roles:e.roles,onEdit:m,onRemove:a,onAddToTeam:y})}):o.jsx(Ue,{title:"quipe & Recrutements",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Poste"}),o.jsx(le,{children:"Dpartement"}),o.jsx(le,{children:"Dbut"}),o.jsx(le,{className:"text-right",children:"Cot Annuel"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.roles.map(j=>o.jsxs(be,{className:j.startYear>2025?"bg-muted/20":"",children:[o.jsxs(Y,{className:"font-medium",children:[j.title,j.startYear>2025&&o.jsx($e,{variant:"secondary",className:"ml-2 text-xs",children:"Prvu"})]}),o.jsx(Y,{children:o.jsx($e,{variant:"outline",children:j.department})}),o.jsx(Y,{children:j.startYear}),o.jsx(Y,{className:"text-right font-mono-numbers",children:J(j.annualCostLoaded)}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>m(j),children:"Modifier"}),o.jsx(ie,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>a(j.id),children:"Suppr."})]})})]},j.id))})]})})})}),o.jsx(Rr,{open:f,onOpenChange:d,children:o.jsxs(xr,{children:[o.jsx(br,{children:o.jsx(wr,{children:c?"Modifier le poste":"Nouveau poste"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Titre du poste"}),o.jsx(_e,{value:h.title||"",onChange:j=>p({...h,title:j.target.value}),placeholder:"Ex: Dveloppeur Full Stack"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Dpartement"}),o.jsxs(it,{value:h.department,onValueChange:j=>p({...h,department:j}),children:[o.jsx(rt,{children:o.jsx(st,{placeholder:"Slectionner un dpartement"})}),o.jsx(nt,{children:UCe.map(j=>o.jsx(De,{value:j,children:j},j))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Anne de dbut"}),o.jsx(_e,{type:"number",value:h.startYear||2026,onChange:j=>p({...h,startYear:Number(j.target.value)}),min:2025,max:2030})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Cot annuel charg ()"}),o.jsx(_e,{type:"number",value:h.annualCostLoaded||5e4,onChange:j=>p({...h,annualCostLoaded:Number(j.target.value)}),step:1e3})]})]})]}),o.jsxs(Qx,{children:[o.jsx(ie,{variant:"outline",onClick:()=>d(!1),children:"Annuler"}),o.jsx(ie,{onClick:g,children:"Sauvegarder"})]})]})})]})})}const s2=["R&D","Production","Sales & Marketing","G&A","Logistics","IT & Tools"],o2=[{value:"fixed",label:"Fixe"},{value:"growth_rate",label:"Taux de croissance"},{value:"linked_to_revenue",label:"Li au CA"},{value:"linked_to_volume",label:"Li aux volumes"},{value:"step",label:"Par paliers"}],qCe=["hsl(0, 85%, 50%)","hsl(0, 0%, 30%)","hsl(38, 92%, 50%)","hsl(210, 70%, 50%)","hsl(150, 60%, 40%)","hsl(280, 60%, 50%)"],KCe=[0,.02,.03,.05,.07,.1,.15,.2],GCe=[{id:"kpis",label:"KPIs Charges",elementId:"charges-kpis"},{id:"chart",label:"Graphique OPEX",elementId:"charges-chart"},{id:"breakdown",label:"Rpartition par Catgorie",elementId:"charges-breakdown"},{id:"table",label:"Tableau des Charges",elementId:"charges-table"}];function YCe(){var P,$,I;const{state:e,computed:t,updateExpenses:r,addExpense:n,removeExpense:a,setOpexMode:i,updateSimpleOpexConfig:s,saveAll:l}=Mi(),[c,u]=w.useState(null),[f,d]=w.useState({}),{startYear:h,durationYears:p}=e.scenarioSettings,y=Array.from({length:p},(M,D)=>h+D),[m,g]=w.useState(h),v=()=>{const M={id:`expense-${Date.now()}`,name:"Nouvelle Charge",category:"G&A",startYear:h,baseAnnualCost:1e4,evolutionType:"fixed",description:"Description de la charge"};n(M)},x=M=>{u(M.id),d(M)},b=()=>{if(c&&f){const M=e.expenses.map(D=>D.id===c?{...D,...f}:D);r(M),u(null),d({})}},_=()=>{u(null),d({})},j=y[0],S=y[y.length-1],C=((P=t.opexByYear.find(M=>M.year===j))==null?void 0:P.opex)||0,N=(($=t.opexByYear.find(M=>M.year===S))==null?void 0:$.opex)||0,A=((I=t.revenueByYear.find(M=>M.year===j))==null?void 0:I.revenue)||1,E=C/A,k=t.opexByYear.find(M=>M.year===m),R=k?s2.map((M,D)=>({name:M,value:k.byCategory[M]||0,color:qCe[D]})).filter(M=>M.value>0):[],T=t.opexByYear.map(M=>({year:M.year,opex:M.opex/1e3}));return o.jsx(js,{tabKey:"charges",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Structure des Charges",subtitle:"OPEX dtailles avec volution automatique",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs($e,{variant:"outline",className:"text-xs",children:[e.opexMode==="detailed"?`${e.expenses.length} postes de charges`:"Mode simplifi","  volution automatique"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Md,{pageTitle:"Structure des Charges",sections:GCe,fileName:"Charges_OPEX"}),e.opexMode==="detailed"&&o.jsxs(ie,{variant:"outline",size:"sm",onClick:v,children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Ajouter Charge"]}),o.jsx(yd,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsx(Ue,{title:"Mode de Calcul",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:()=>i("detailed"),className:re("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="detailed"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[o.jsx(oW,{className:re("h-8 w-8 mb-2",e.opexMode==="detailed"?"text-primary":"text-muted-foreground")}),o.jsx("span",{className:re("font-medium",e.opexMode==="detailed"?"text-primary":"text-foreground"),children:"Dtail par Poste"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Saisie poste par poste avec volution spcifique"})]}),o.jsxs("button",{onClick:()=>i("simple"),className:re("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all",e.opexMode==="simple"?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"),children:[o.jsx(Cv,{className:re("h-8 w-8 mb-2",e.opexMode==="simple"?"text-primary":"text-muted-foreground")}),o.jsx("span",{className:re("font-medium",e.opexMode==="simple"?"text-primary":"text-foreground"),children:"Montant Global"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Un montant total avec taux d'volution"})]})]})}),e.opexMode==="simple"&&o.jsxs(Ue,{title:"Configuration Simplifie",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(je,{children:["Montant OPEX annuel de base (",j,")"]}),o.jsx(_e,{type:"number",value:e.simpleOpexConfig.baseAmount,onChange:M=>s({baseAmount:Number(M.target.value)}),className:"font-mono-numbers"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Montant total des charges oprationnelles pour l'anne de dpart"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"volution annuelle (%)"}),o.jsxs(it,{value:(e.simpleOpexConfig.growthRate*100).toString(),onValueChange:M=>s({growthRate:Number(M)/100}),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsx(nt,{children:KCe.map(M=>o.jsxs(De,{value:(M*100).toString(),children:["+",(M*100).toFixed(0),"% / an"]},M))})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Taux d'augmentation appliqu chaque anne"})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Projection sur la priode"}),o.jsx("div",{className:"flex gap-4 flex-wrap",children:y.map((M,D)=>{const L=e.simpleOpexConfig.baseAmount*Math.pow(1+e.simpleOpexConfig.growthRate,D);return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:M}),o.jsx("div",{className:"font-mono-numbers text-sm font-medium",children:J(L,!0)})]},M)})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"charges-kpis",children:[o.jsx(ot,{label:`OPEX ${j}`,value:J(C,!0),subValue:e.opexMode==="detailed"?`${e.expenses.length} postes`:"Mode simplifi"}),o.jsx(ot,{label:"Ratio OPEX / CA",value:kr(E),subValue:j.toString()}),o.jsx(ot,{label:`OPEX ${S}`,value:J(N,!0),subValue:"Projection",trend:"up"}),o.jsx(ot,{label:"Croissance OPEX",value:C>0?kr(N/C-1):"N/A",subValue:`${j}-${S}`})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(Ue,{title:"volution des Charges",id:"charges-chart",children:o.jsx("div",{className:"h-64",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Rd,{data:T,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:M=>`${M}k`}),o.jsx(Ft,{formatter:M=>`${M.toFixed(0)}k`}),o.jsx(qt,{dataKey:"opex",name:"OPEX",fill:"hsl(0, 85%, 50%)"})]})})})}),e.opexMode==="detailed"&&R.length>0&&o.jsxs(Ue,{title:"Rpartition par Catgorie",id:"charges-breakdown",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs(it,{value:m.toString(),onValueChange:M=>g(parseInt(M)),children:[o.jsx(rt,{className:"w-24 h-8",children:o.jsx(st,{})}),o.jsx(nt,{children:y.map(M=>o.jsx(De,{value:M.toString(),children:M},M))})]})}),o.jsx("div",{className:"h-56",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(L_e,{children:[o.jsx(ws,{data:R,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",label:({name:M})=>M,children:R.map((M,D)=>o.jsx(Sp,{fill:M.color},`cell-${D}`))}),o.jsx(Ft,{formatter:M=>J(M)})]})})}),o.jsxs("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:["Total ",m,": ",o.jsx("span",{className:"font-mono-numbers font-medium",children:J((k==null?void 0:k.opex)||0,!0)})]})]}),e.opexMode==="simple"&&o.jsx(Ue,{title:"Rcapitulatif",id:"charges-breakdown",children:o.jsx("div",{className:"flex flex-col items-center justify-center h-56",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Montant de base"}),o.jsx("div",{className:"text-3xl font-mono-numbers font-bold",children:J(e.simpleOpexConfig.baseAmount,!0)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"volution annuelle"}),o.jsxs("div",{className:"text-xl font-medium text-primary",children:["+",(e.simpleOpexConfig.growthRate*100).toFixed(0),"%"]})]}),o.jsx("div",{className:"text-xs text-muted-foreground pt-2",children:"Les donnes sont synchronises avec les autres modules (Financement, Synthse)"})]})})})]}),e.opexMode==="detailed"&&o.jsx(Ue,{title:"Dtail des Charges",id:"charges-table",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Charge"}),o.jsx(le,{children:"Catgorie"}),o.jsx(le,{children:"Type d'volution"}),o.jsx(le,{className:"text-right",children:"Cot Base"}),o.jsx(le,{children:"Paramtre"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.expenses.map(M=>{var D,L;return o.jsx(be,{children:c===M.id?o.jsxs(o.Fragment,{children:[o.jsx(Y,{children:o.jsx(_e,{value:f.name||"",onChange:U=>d({...f,name:U.target.value}),className:"h-8"})}),o.jsx(Y,{children:o.jsxs(it,{value:f.category,onValueChange:U=>d({...f,category:U}),children:[o.jsx(rt,{className:"h-8 w-40",children:o.jsx(st,{})}),o.jsx(nt,{children:s2.map(U=>o.jsx(De,{value:U,children:U},U))})]})}),o.jsx(Y,{children:o.jsxs(it,{value:f.evolutionType,onValueChange:U=>d({...f,evolutionType:U}),children:[o.jsx(rt,{className:"h-8 w-40",children:o.jsx(st,{})}),o.jsx(nt,{children:o2.map(U=>o.jsx(De,{value:U.value,children:U.label},U.value))})]})}),o.jsx(Y,{children:o.jsx(_e,{type:"number",value:f.baseAnnualCost||0,onChange:U=>d({...f,baseAnnualCost:Number(U.target.value)}),className:"h-8 w-28 text-right"})}),o.jsxs(Y,{children:[f.evolutionType==="growth_rate"&&o.jsx(_e,{type:"number",step:"0.01",value:(f.growthRate||0)*100,onChange:U=>d({...f,growthRate:Number(U.target.value)/100}),className:"h-8 w-20",placeholder:"%"}),f.evolutionType==="linked_to_revenue"&&o.jsx(_e,{type:"number",step:"0.01",value:(f.revenueRatio||0)*100,onChange:U=>d({...f,revenueRatio:Number(U.target.value)/100}),className:"h-8 w-20",placeholder:"% CA"})]}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ie,{size:"icon",variant:"ghost",onClick:b,children:o.jsx(oh,{className:"h-4 w-4 text-accent"})}),o.jsx(ie,{size:"icon",variant:"ghost",onClick:_,children:o.jsx(Ai,{className:"h-4 w-4 text-destructive"})})]})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Y,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[M.name,M.description&&o.jsxs(v9,{children:[o.jsx(g9,{children:o.jsx(lh,{className:"h-3 w-3 text-muted-foreground"})}),o.jsx(YI,{children:o.jsx("p",{className:"max-w-xs",children:M.description})})]})]})}),o.jsx(Y,{children:o.jsx($e,{variant:"outline",children:M.category})}),o.jsx(Y,{children:o.jsx($e,{variant:"secondary",children:(D=o2.find(U=>U.value===M.evolutionType))==null?void 0:D.label})}),o.jsx(Y,{className:"text-right font-mono-numbers",children:J(M.baseAnnualCost)}),o.jsxs(Y,{className:"text-muted-foreground text-sm",children:[M.evolutionType==="growth_rate"&&`+${kr(M.growthRate||0)}/an`,M.evolutionType==="linked_to_revenue"&&`${kr(M.revenueRatio||0)} du CA`,M.evolutionType==="linked_to_volume"&&`${M.volumeRatio||0}/unit`,M.evolutionType==="step"&&`${((L=M.steps)==null?void 0:L.length)||0} paliers`,M.evolutionType==="fixed"&&"Constant"]}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ie,{size:"icon",variant:"ghost",onClick:()=>x(M),children:o.jsx(pS,{className:"h-4 w-4"})}),o.jsx(ie,{size:"icon",variant:"ghost",onClick:()=>a(M.id),children:o.jsx(Xr,{className:"h-4 w-4 text-destructive"})})]})})]})},M.id)})})]})})})]})})}function XCe({customers:e,selectedId:t,onSelect:r,onRefresh:n,onCreate:a}){const[i,s]=w.useState(!1),[l,c]=w.useState({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),u=async()=>{if(!a||!l.company_name.trim())return;const f=await a({...l,address:null,postal_code:null,country:"France",latitude:null,longitude:null,notes:null});f&&(s(!1),c({company_name:"",contact_name:"",email:"",phone:"",city:"",status:"prospect",pricing_tier:"bronze"}),r(f.id))};return o.jsxs(o.Fragment,{children:[o.jsxs(Zt,{children:[o.jsx(cn,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(un,{className:"text-lg",children:"Clients"}),o.jsxs("div",{className:"flex gap-1",children:[a&&o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>s(!0),children:o.jsx(Tr,{className:"h-4 w-4"})}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:n,children:o.jsx(dW,{className:"h-4 w-4"})})]})]})}),o.jsxs(Jt,{className:"space-y-1",children:[e.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun client"}),e.map(f=>o.jsxs("button",{onClick:()=>r(f.id),className:re("w-full text-left p-3 rounded-lg transition-colors",t===f.id?"bg-primary/10 border border-primary/30":"hover:bg-muted/50"),children:[o.jsx("div",{className:"font-medium text-sm",children:f.company_name}),o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[f.city&&o.jsx("span",{children:f.city}),o.jsx($e,{variant:"outline",className:"text-[10px]",children:f.pricing_tier})]})]},f.id))]})]}),o.jsx(Rr,{open:i,onOpenChange:s,children:o.jsxs(xr,{children:[o.jsx(br,{children:o.jsx(wr,{children:"Nouveau Client"})}),o.jsxs("div",{className:"space-y-3 py-2",children:[o.jsx(_e,{placeholder:"Nom de l'entreprise *",value:l.company_name,onChange:f=>c(d=>({...d,company_name:f.target.value}))}),o.jsx(_e,{placeholder:"Nom du contact",value:l.contact_name,onChange:f=>c(d=>({...d,contact_name:f.target.value}))}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(_e,{placeholder:"Email",value:l.email,onChange:f=>c(d=>({...d,email:f.target.value}))}),o.jsx(_e,{placeholder:"Tlphone",value:l.phone,onChange:f=>c(d=>({...d,phone:f.target.value}))})]}),o.jsx(_e,{placeholder:"Ville",value:l.city,onChange:f=>c(d=>({...d,city:f.target.value}))}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(it,{value:l.status,onValueChange:f=>c(d=>({...d,status:f})),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsxs(nt,{children:[o.jsx(De,{value:"prospect",children:"Prospect"}),o.jsx(De,{value:"active",children:"Actif"}),o.jsx(De,{value:"inactive",children:"Inactif"})]})]}),o.jsxs(it,{value:l.pricing_tier,onValueChange:f=>c(d=>({...d,pricing_tier:f})),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsxs(nt,{children:[o.jsx(De,{value:"bronze",children:"Bronze"}),o.jsx(De,{value:"silver",children:"Silver"}),o.jsx(De,{value:"gold",children:"Gold"})]})]})]})]}),o.jsxs(Qx,{children:[o.jsx(ie,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),o.jsx(ie,{onClick:u,disabled:!l.company_name.trim(),children:"Crer"})]})]})})]})}function QCe({customer:e,orders:t}){const r=t.reduce((n,a)=>n+(a.total_amount||0),0);return o.jsxs(Zt,{children:[o.jsx(cn,{children:o.jsxs(un,{className:"flex items-center justify-between",children:[e.company_name,o.jsx($e,{children:e.status})]})}),o.jsxs(Jt,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("span",{className:"ml-2",children:e.contact_name||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("span",{className:"ml-2",children:e.email||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Ville:"}),o.jsx("span",{className:"ml-2",children:e.city||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"CA Total:"}),o.jsx("span",{className:"ml-2 font-mono-numbers",children:J(r,!0)})]})]}),t.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-sm mb-2",children:["Commandes (",t.length,")"]}),o.jsx("div",{className:"space-y-1",children:t.slice(0,5).map(n=>o.jsxs("div",{className:"flex justify-between text-sm p-2 bg-muted/30 rounded",children:[o.jsx("span",{children:n.order_reference}),o.jsx("span",{className:"font-mono-numbers",children:J(n.total_amount,!0)})]},n.id))})]})]})]})}function ZCe({customers:e}){const t=e.filter(r=>r.latitude&&r.longitude);return o.jsx("div",{className:"h-[400px] bg-muted/30 rounded-lg flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(Bw,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),o.jsxs("p",{children:[t.length," clients golocaliss"]}),o.jsx("p",{className:"text-xs mt-1",children:"Carte interactive (Leaflet)"})]})})}function JCe({tiers:e}){return o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.map(t=>o.jsxs(Zt,{children:[o.jsx(cn,{children:o.jsxs(un,{className:"flex items-center justify-between",children:[o.jsx($e,{variant:t.tier==="gold"?"default":"outline",children:t.tier}),o.jsxs("span",{className:"text-2xl font-bold font-mono-numbers",children:["-",t.discount_percentage,"%"]})]})}),o.jsx(Jt,{children:o.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"Grille tarifaire"})})]},t.id)),e.length===0&&o.jsx("p",{className:"text-muted-foreground col-span-3 text-center py-8",children:"Aucune grille tarifaire configure"})]})}function eNe({appointments:e,customers:t}){const r=e.filter(n=>!n.is_completed&&new Date(n.appointment_date)>=new Date).slice(0,10);return o.jsxs(Zt,{children:[o.jsx(cn,{children:o.jsxs(un,{className:"flex items-center gap-2",children:[o.jsx(fu,{className:"h-5 w-5"}),"Rendez-vous  venir"]})}),o.jsxs(Jt,{children:[r.length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun rendez-vous planifi"}),o.jsx("div",{className:"space-y-2",children:r.map(n=>{const a=t.find(i=>i.id===n.customer_id);return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:n.title}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[a==null?void 0:a.company_name,"  ",new Date(n.appointment_date).toLocaleDateString("fr-FR")]})]}),n.location&&o.jsx($e,{variant:"outline",className:"text-xs",children:n.location})]},n.id)})})]})]})}function tNe(){const{toast:e}=w$(),{user:t}=la(),[r,n]=w.useState([]),[a,i]=w.useState([]),[s,l]=w.useState([]),[c,u]=w.useState([]),[f,d]=w.useState([]),[h,p]=w.useState(!0),y=w.useCallback(async()=>{if(!t){p(!1);return}try{p(!0);const[b,_]=await Promise.all([pe.from("customers").select("*").order("company_name"),pe.from("customer_orders").select("*").order("order_date",{ascending:!1})]);b.data&&n(b.data),_.data&&u(_.data)}catch{}finally{p(!1)}},[t]);w.useEffect(()=>{y()},[y]);const m=w.useCallback(async b=>{if(!t)return null;try{const{data:_,error:j}=await pe.from("customers").insert({...b,user_id:t.id}).select().single();if(j)throw j;const S=_;return n(C=>[...C,S].sort((N,A)=>N.company_name.localeCompare(A.company_name))),e({title:"Client cr",description:`${S.company_name} ajout.`}),S}catch(_){return console.error("Failed to create customer:",_),e({title:"Erreur",description:"Impossible de crer le client.",variant:"destructive"}),null}},[t,e]),g=w.useCallback(async(b,_)=>{if(!t)return!1;try{const{error:j}=await pe.from("customers").update(_).eq("id",b);if(j)throw j;return n(S=>S.map(C=>C.id===b?{...C,..._,updated_at:new Date().toISOString()}:C)),e({title:"Client mis  jour"}),!0}catch(j){return console.error("Failed to update customer:",j),e({title:"Erreur",description:"Impossible de mettre  jour le client.",variant:"destructive"}),!1}},[t,e]),v=w.useCallback(async b=>{if(!t)return!1;try{const{error:_}=await pe.from("customers").delete().eq("id",b);if(_)throw _;return n(j=>j.filter(S=>S.id!==b)),e({title:"Client supprim"}),!0}catch(_){return console.error("Failed to delete customer:",_),e({title:"Erreur",description:"Impossible de supprimer le client.",variant:"destructive"}),!1}},[t,e]),x=w.useCallback(async b=>{if(!t)return null;try{const{data:_,error:j}=await pe.from("customer_orders").insert({...b,user_id:t.id}).select().single();if(j)throw j;const S=_;return u(C=>[S,...C]),e({title:"Commande cre"}),S}catch(_){return console.error("Failed to create order:",_),e({title:"Erreur",description:"Impossible de crer la commande.",variant:"destructive"}),null}},[t,e]);return{customers:r,interactions:a,appointments:s,orders:c,pricingTiers:f,isLoading:h,refreshData:y,createCustomer:m,updateCustomer:g,deleteCustomer:v,createOrder:x,getCustomerInteractions:b=>a.filter(_=>_.customer_id===b),getCustomerAppointments:b=>s.filter(_=>_.customer_id===b),getCustomerOrders:b=>c.filter(_=>_.customer_id===b)}}function rNe(){const{customers:e,orders:t,appointments:r,pricingTiers:n,isLoading:a,refreshData:i,createCustomer:s,updateCustomer:l,deleteCustomer:c}=tNe(),[u,f]=w.useState(null),d=e.find(v=>v.id===u),h=e.length,p=e.filter(v=>v.status==="active").length,y=t.reduce((v,x)=>v+(x.total_amount||0),0),m=t.filter(v=>["draft","confirmed","in_progress"].includes(v.status)).length,g=r.filter(v=>!v.is_completed&&new Date(v.appointment_date)>=new Date).length;return a?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CRM"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestion des clients, suivi commercial et commandes"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[o.jsx(ot,{label:"Total Clients",value:h}),o.jsx(ot,{label:"Clients Actifs",value:p,trend:p>0?"up":"neutral"}),o.jsx(ot,{label:"CA Total",value:`${(y/1e3).toFixed(0)} k`}),o.jsx(ot,{label:"Commandes en cours",value:m}),o.jsx(ot,{label:"RDV  venir",value:g})]}),o.jsxs(Ea,{defaultValue:"customers",className:"space-y-4",children:[o.jsxs(ca,{children:[o.jsxs(ut,{value:"customers",children:[o.jsx(pu,{className:"h-4 w-4 mr-2"}),"Clients"]}),o.jsxs(ut,{value:"map",children:[o.jsx(Bw,{className:"h-4 w-4 mr-2"}),"Carte"]}),o.jsxs(ut,{value:"pricing",children:[o.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Grille Tarifaire"]}),o.jsxs(ut,{value:"agenda",children:[o.jsx(fu,{className:"h-4 w-4 mr-2"}),"Agenda"]})]}),o.jsx(vt,{value:"customers",className:"space-y-4",children:o.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx(XCe,{customers:e,selectedId:u,onSelect:f,onRefresh:i,onCreate:s})}),o.jsx("div",{className:"lg:col-span-2",children:d?o.jsx(QCe,{customer:d,orders:t.filter(v=>v.customer_id===u),onRefresh:i}):o.jsx(Zt,{className:"h-full min-h-[400px] flex items-center justify-center",children:o.jsxs(Jt,{className:"text-center text-muted-foreground",children:[o.jsx(pu,{className:"h-12 w-12 mx-auto mb-4 opacity-30"}),o.jsx("p",{children:"Slectionnez un client pour voir ses dtails"})]})})})]})}),o.jsx(vt,{value:"map",className:"space-y-4",children:o.jsxs(Zt,{children:[o.jsx(cn,{children:o.jsxs(un,{className:"flex items-center gap-2",children:[o.jsx(Bw,{className:"h-5 w-5"}),"Localisation des clients"]})}),o.jsx(Jt,{children:o.jsx(ZCe,{customers:e,selectedId:u,onSelectCustomer:f})})]})}),o.jsx(vt,{value:"pricing",className:"space-y-4",children:o.jsx(JCe,{tiers:n,onRefresh:i})}),o.jsx(vt,{value:"agenda",className:"space-y-4",children:o.jsx(eNe,{appointments:r,customers:e,onRefresh:i})})]})]})}var Zx="Switch",[nNe,kOe]=Sn(Zx),[aNe,iNe]=nNe(Zx),$5=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=w.useState(null),y=Xe(t,b=>p(b)),m=w.useRef(!1),g=h?f||!!h.closest("form"):!0,[v,x]=Fn({prop:a,defaultProp:i??!1,onChange:u,caller:Zx});return o.jsxs(aNe,{scope:r,checked:v,disabled:l,children:[o.jsx(Te.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":F5(v),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:y,onClick:we(e.onClick,b=>{x(_=>!_),g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),g&&o.jsx(L5,{control:h,bubbles:!m.current,name:n,value:c,checked:v,required:s,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});$5.displayName=Zx;var I5="SwitchThumb",D5=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=iNe(I5,r);return o.jsx(Te.span,{"data-state":F5(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});D5.displayName=I5;var sNe="SwitchBubbleInput",L5=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=w.useRef(null),l=Xe(s,i),c=Uy(r),u=Ty(t);return w.useEffect(()=>{const f=s.current;if(!f)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&p){const y=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(y)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});L5.displayName=sNe;function F5(e){return e?"checked":"unchecked"}var B5=$5,oNe=D5;const z5=w.forwardRef(({className:e,...t},r)=>o.jsx(B5,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(oNe,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));z5.displayName=B5.displayName;var Jx="Checkbox",[lNe,OOe]=Sn(Jx),[cNe,oN]=lNe(Jx);function uNe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:d}=e,[h,p]=Fn({prop:r,defaultProp:a??!1,onChange:c,caller:Jx}),[y,m]=w.useState(null),[g,v]=w.useState(null),x=w.useRef(!1),b=y?!!s||!!y.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:y,setControl:m,name:l,form:s,value:f,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:ho(a)?!1:a,isFormControl:b,bubbleInput:g,setBubbleInput:v};return o.jsx(cNe,{scope:t,..._,children:dNe(d)?d(_):n})}var U5="CheckboxTrigger",V5=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:s,disabled:l,checked:c,required:u,setControl:f,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=oN(U5,e),m=Xe(a,f),g=w.useRef(c);return w.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const x=()=>d(g.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[i,d]),o.jsx(Te.button,{type:"button",role:"checkbox","aria-checked":ho(c)?"mixed":c,"aria-required":u,"data-state":G5(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:m,onKeyDown:we(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:we(r,v=>{d(x=>ho(x)?!0:!x),y&&p&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});V5.displayName=U5;var lN=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c,onCheckedChange:u,form:f,...d}=e;return o.jsx(uNe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:s,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(V5,{...d,ref:t,__scopeCheckbox:r}),h&&o.jsx(K5,{__scopeCheckbox:r})]})})});lN.displayName=Jx;var W5="CheckboxIndicator",H5=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=oN(W5,r);return o.jsx(Bn,{present:n||ho(i.checked)||i.checked===!0,children:o.jsx(Te.span,{"data-state":G5(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});H5.displayName=W5;var q5="CheckboxBubbleInput",K5=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:l,disabled:c,name:u,value:f,form:d,bubbleInput:h,setBubbleInput:p}=oN(q5,e),y=Xe(r,p),m=Uy(i),g=Ty(n);w.useEffect(()=>{const x=h;if(!x)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,S=!a.current;if(m!==i&&j){const C=new Event("click",{bubbles:S});x.indeterminate=ho(i),j.call(x,ho(i)?!1:i),x.dispatchEvent(C)}},[h,m,i,a]);const v=w.useRef(ho(i)?!1:i);return o.jsx(Te.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??v.current,required:l,disabled:c,name:u,value:f,form:d,...t,tabIndex:-1,ref:y,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});K5.displayName=q5;function dNe(e){return typeof e=="function"}function ho(e){return e==="indeterminate"}function G5(e){return ho(e)?"indeterminate":e?"checked":"unchecked"}const Rp=w.forwardRef(({className:e,...t},r)=>o.jsx(lN,{ref:r,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(H5,{className:re("flex items-center justify-center text-current"),children:o.jsx(oh,{className:"h-4 w-4"})})}));Rp.displayName=lN.displayName;var e0="Popover",[Y5,TOe]=Sn(e0,[cd]),Mp=cd(),[fNe,$o]=Y5(e0),X5=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=e,l=Mp(t),c=w.useRef(null),[u,f]=w.useState(!1),[d,h]=Fn({prop:n,defaultProp:a??!1,onChange:i,caller:e0});return o.jsx(AS,{...l,children:o.jsx(fNe,{scope:t,contentId:Si(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>f(!0),[]),onCustomAnchorRemove:w.useCallback(()=>f(!1),[]),modal:s,children:r})})};X5.displayName=e0;var Q5="PopoverAnchor",hNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$o(Q5,r),i=Mp(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return w.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(Ry,{...i,...n,ref:t})});hNe.displayName=Q5;var Z5="PopoverTrigger",J5=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$o(Z5,r),i=Mp(r),s=Xe(t,a.triggerRef),l=o.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":az(a.open),...n,ref:s,onClick:we(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(Ry,{asChild:!0,...i,children:l})});J5.displayName=Z5;var cN="PopoverPortal",[pNe,mNe]=Y5(cN,{forceMount:void 0}),ez=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=$o(cN,t);return o.jsx(pNe,{scope:t,forceMount:r,children:o.jsx(Bn,{present:r||i.open,children:o.jsx(gp,{asChild:!0,container:a,children:n})})})};ez.displayName=cN;var Ku="PopoverContent",tz=w.forwardRef((e,t)=>{const r=mNe(Ku,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=$o(Ku,e.__scopePopover);return o.jsx(Bn,{present:n||i.open,children:i.modal?o.jsx(gNe,{...a,ref:t}):o.jsx(yNe,{...a,ref:t})})});tz.displayName=Ku;var vNe=Sl("PopoverContent.RemoveScroll"),gNe=w.forwardRef((e,t)=>{const r=$o(Ku,e.__scopePopover),n=w.useRef(null),a=Xe(t,n),i=w.useRef(!1);return w.useEffect(()=>{const s=n.current;if(s)return QC(s)},[]),o.jsx(Hx,{as:vNe,allowPinchZoom:!0,children:o.jsx(rz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:we(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),yNe=w.forwardRef((e,t)=>{const r=$o(Ku,e.__scopePopover),n=w.useRef(!1),a=w.useRef(!1);return o.jsx(rz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),rz=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,h=$o(Ku,r),p=Mp(r);return XC(),o.jsx(Vx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(nd,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(kS,{"data-state":az(h.open),role:"dialog",id:h.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nz="PopoverClose",xNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$o(nz,r);return o.jsx(Te.button,{type:"button",...n,ref:t,onClick:we(e.onClick,()=>a.onOpenChange(!1))})});xNe.displayName=nz;var bNe="PopoverArrow",wNe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Mp(r);return o.jsx(OS,{...a,...n,ref:t})});wNe.displayName=bNe;function az(e){return e?"open":"closed"}var jNe=X5,_Ne=J5,SNe=ez,iz=tz;const CNe=jNe,NNe=_Ne,sz=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(SNe,{children:o.jsx(iz,{ref:a,align:t,sideOffset:r,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sz.displayName=iz.displayName;function PNe(){const{computed:e}=Mi(),{monthlyTreasuryProjection:t}=e;if(!t.months.length)return o.jsx(Ue,{title:"Plan de Trsorerie Mensuel",children:o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Aucune donne mensuelle disponible."})});const r=[...new Set(t.months.map(n=>n.year))];return o.jsx("div",{className:"space-y-6",children:r.map(n=>{const a=t.months.filter(i=>i.year===n);return o.jsx(Ue,{title:`Trsorerie ${n}`,children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-2",children:"Mois"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Entres"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Sorties"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Solde"}),o.jsx("th",{className:"text-right py-2 px-2",children:"Trsorerie"})]})}),o.jsx("tbody",{children:a.map(i=>o.jsxs("tr",{className:re("border-b",i.treasuryEnd<0&&"bg-destructive/5"),children:[o.jsx("td",{className:"py-1.5 px-2",children:i.monthName}),o.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers",children:J(i.totalInflows,!0)}),o.jsx("td",{className:"py-1.5 px-2 text-right font-mono-numbers text-muted-foreground",children:J(i.totalOutflows,!0)}),o.jsxs("td",{className:re("py-1.5 px-2 text-right font-mono-numbers",i.netCashFlow>=0?"text-[hsl(var(--positive))]":"text-destructive"),children:[i.netCashFlow>=0?"+":"",J(i.netCashFlow,!0)]}),o.jsx("td",{className:re("py-1.5 px-2 text-right font-mono-numbers font-medium",i.treasuryEnd<0&&"text-destructive"),children:J(i.treasuryEnd,!0)})]},`${i.year}-${i.month}`))})]})})},n)})})}const Rb={name:"",inputMode:"calculated",principalAmount:5e4,interestRate:.03,fixedPaymentAmount:0,startDate:{year:2025,month:0},endDate:{year:2028,month:0},frequency:"monthly"},Mb={monthly:"Mensuel",quarterly:"Trimestriel",annual:"Annuel"},ENe={monthly:"/mois",quarterly:"/trim.",annual:"/an"};function ANe({loans:e,onChange:t,startYear:r,durationYears:n}){const[a,i]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState(Rb),f=Array.from({length:n+2},(v,x)=>r+x),d=()=>{l(null),u({...Rb,startDate:{year:r,month:0},endDate:{year:r+3,month:0}}),i(!0)},h=v=>{l(v.id);const{id:x,...b}=v;u({...Rb,...b}),i(!0)},p=()=>{c.name.trim()&&(t(s?e.map(v=>v.id===s?{...v,...c}:v):[...e,{id:`loan-${Date.now()}`,...c}]),i(!1))},y=v=>{t(e.filter(x=>x.id!==v))},m=v=>{if(v.inputMode==="fixed")return v.fixedPaymentAmount||0;const x=v.startDate.year*12+v.startDate.month,_=v.endDate.year*12+v.endDate.month-x;if(_<=0)return 0;if(v.frequency==="annual"){const S=Math.max(1,Math.round(_/12)),C=v.interestRate;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}if(v.frequency==="quarterly"){const S=Math.max(1,Math.round(_/3)),C=v.interestRate/4;return C===0?v.principalAmount/S:v.principalAmount*C*Math.pow(1+C,S)/(Math.pow(1+C,S)-1)}const j=v.interestRate/12;return j===0?v.principalAmount/_:v.principalAmount*j*Math.pow(1+j,_)/(Math.pow(1+j,_)-1)},g=v=>{const x=m(v),b=v.startDate.year*12+v.startDate.month,j=v.endDate.year*12+v.endDate.month-b;return j<=0?0:v.frequency==="annual"?x*Math.max(1,Math.round(j/12)):v.frequency==="quarterly"?x*Math.max(1,Math.round(j/3)):x*j};return o.jsxs(o.Fragment,{children:[o.jsx(Ue,{title:"Gestion des Prts",action:o.jsxs(ie,{variant:"outline",size:"sm",onClick:d,children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Ajouter un Prt"]}),children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(iW,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),o.jsx("p",{children:"Aucun prt configur"}),o.jsx("p",{className:"text-xs mt-1",children:"Ajoutez vos prts pour intgrer les chances dans le plan de trsorerie."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Mode"}),o.jsx(le,{className:"text-right",children:"Capital"}),o.jsx(le,{className:"text-right",children:"Taux"}),o.jsx(le,{children:"Frquence"}),o.jsx(le,{children:"Priode"}),o.jsx(le,{className:"text-right",children:"chance"}),o.jsx(le,{className:"text-right",children:"Cot Total"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.map(v=>{const x=m(v),b=g(v);return o.jsxs(be,{children:[o.jsx(Y,{className:"font-medium",children:v.name}),o.jsx(Y,{children:o.jsx($e,{variant:"outline",className:"text-xs",children:v.inputMode==="fixed"?o.jsxs(o.Fragment,{children:[o.jsx(UP,{className:"h-3 w-3 mr-1"}),"Fixe"]}):o.jsxs(o.Fragment,{children:[o.jsx(Cv,{className:"h-3 w-3 mr-1"}),"Calcul"]})})}),o.jsx(Y,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?J(v.principalAmount,!0):"-"}),o.jsx(Y,{className:"text-right font-mono-numbers",children:v.inputMode==="calculated"?`${(v.interestRate*100).toFixed(1)}%`:"-"}),o.jsx(Y,{children:o.jsx($e,{variant:"secondary",className:"text-xs",children:Mb[v.frequency]})}),o.jsxs(Y,{className:"text-xs",children:[tl[v.startDate.month].slice(0,3)," ",v.startDate.year,"  ",tl[v.endDate.month].slice(0,3)," ",v.endDate.year]}),o.jsxs(Y,{className:"text-right font-mono-numbers font-medium",children:[J(x),o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:ENe[v.frequency]})]}),o.jsx(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:J(b,!0)}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>h(v),children:o.jsx(pS,{className:"h-3 w-3"})}),o.jsx(ie,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y(v.id),children:o.jsx(Xr,{className:"h-3 w-3"})})]})})]},v.id)})})]})})}),o.jsx(Rr,{open:a,onOpenChange:i,children:o.jsxs(xr,{className:"max-w-lg",children:[o.jsx(br,{children:o.jsx(wr,{children:s?"Modifier le Prt":"Nouveau Prt"})}),o.jsxs("div",{className:"space-y-4 py-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Nom du prt"}),o.jsx(_e,{value:c.name,onChange:v=>u(x=>({...x,name:v.target.value})),placeholder:"Ex: BPI Innovation"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Mode de saisie"}),o.jsx(Ea,{value:c.inputMode,onValueChange:v=>u(x=>({...x,inputMode:v})),children:o.jsxs(ca,{className:"w-full",children:[o.jsxs(ut,{value:"calculated",className:"flex-1",children:[o.jsx(Cv,{className:"h-4 w-4 mr-1"}),"Calculer l'chance"]}),o.jsxs(ut,{value:"fixed",className:"flex-1",children:[o.jsx(UP,{className:"h-4 w-4 mr-1"}),"Saisir l'chance"]})]})})]}),c.inputMode==="calculated"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Montant emprunt ()"}),o.jsx(_e,{type:"number",value:c.principalAmount,onChange:v=>u(x=>({...x,principalAmount:Number(v.target.value)}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Taux d'intrt annuel (%)"}),o.jsx(_e,{type:"number",step:"0.1",value:(c.interestRate*100).toFixed(1),onChange:v=>u(x=>({...x,interestRate:Number(v.target.value)/100}))})]})]}),c.inputMode==="fixed"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Montant de l'chance ()"}),o.jsx(_e,{type:"number",value:c.fixedPaymentAmount||0,onChange:v=>u(x=>({...x,fixedPaymentAmount:Number(v.target.value)})),placeholder:"Montant fixe par priode"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ce montant sera appliqu  chaque chance (",Mb[c.frequency].toLowerCase(),")."]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Frquence des chances"}),o.jsxs(it,{value:c.frequency,onValueChange:v=>u(x=>({...x,frequency:v})),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsxs(nt,{children:[o.jsx(De,{value:"monthly",children:"Mensuel"}),o.jsx(De,{value:"quarterly",children:"Trimestriel"}),o.jsx(De,{value:"annual",children:"Annuel"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Date de dbut"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(it,{value:c.startDate.month.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,month:Number(v)}})),children:[o.jsx(rt,{className:"flex-1",children:o.jsx(st,{})}),o.jsx(nt,{children:tl.map((v,x)=>o.jsx(De,{value:x.toString(),children:v.slice(0,3)},x))})]}),o.jsxs(it,{value:c.startDate.year.toString(),onValueChange:v=>u(x=>({...x,startDate:{...x.startDate,year:Number(v)}})),children:[o.jsx(rt,{className:"w-24",children:o.jsx(st,{})}),o.jsx(nt,{children:f.map(v=>o.jsx(De,{value:v.toString(),children:v},v))})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Date de fin"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(it,{value:c.endDate.month.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,month:Number(v)}})),children:[o.jsx(rt,{className:"flex-1",children:o.jsx(st,{})}),o.jsx(nt,{children:tl.map((v,x)=>o.jsx(De,{value:x.toString(),children:v.slice(0,3)},x))})]}),o.jsxs(it,{value:c.endDate.year.toString(),onValueChange:v=>u(x=>({...x,endDate:{...x.endDate,year:Number(v)}})),children:[o.jsx(rt,{className:"w-24",children:o.jsx(st,{})}),o.jsx(nt,{children:f.map(v=>o.jsx(De,{value:v.toString(),children:v},v))})]})]})]})]}),c.name.trim()&&o.jsxs("div",{className:"p-3 rounded-lg bg-muted/40 border text-sm space-y-1",children:[o.jsx("div",{className:"font-medium",children:"Aperu"}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-muted-foreground",children:["chance ",Mb[c.frequency].toLowerCase()," :"]}),o.jsx("span",{className:"font-mono-numbers font-medium",children:J(m({id:"",...c}))})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Cot total :"}),o.jsx("span",{className:"font-mono-numbers",children:J(g({id:"",...c}),!0)})]})]})]}),o.jsxs(Qx,{children:[o.jsx(ie,{variant:"outline",onClick:()=>i(!1),children:"Annuler"}),o.jsx(ie,{onClick:p,disabled:!c.name.trim(),children:"Sauvegarder"})]})]})})]})}function kNe({capexPayments:e,onChange:t,products:r,startYear:n,durationYears:a}){const i=Array.from({length:a},(d,h)=>n+h),s=w.useMemo(()=>{const d=new Map;return e.forEach(h=>{const p=d.get(h.productId)||[];p.push(h),d.set(h.productId,p)}),d},[e]),l=r.filter(d=>d.devCost>0),c=d=>{const p=e.filter(v=>v.productId===d.id).reduce((v,x)=>v+x.percentageOfTotal,0),y=Math.max(0,100-p),m=Math.min(y,25),g={id:`capex-${Date.now()}`,productId:d.id,productName:d.name,year:d.launchYear,month:0,percentageOfTotal:m,amount:d.devCost*m/100};t([...e,g])},u=(d,h)=>{t(e.map(p=>{if(p.id!==d)return p;const y={...p,...h},m=r.find(g=>g.id===y.productId);return m&&(y.amount=m.devCost*y.percentageOfTotal/100),y}))},f=d=>{t(e.filter(h=>h.id!==d))};return o.jsx(Ue,{title:"Dblocage CAPEX Produits",children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(xp,{className:"h-10 w-10 mx-auto mb-3 opacity-40"}),o.jsx("p",{children:"Aucun produit avec cot de dveloppement"})]}):o.jsx("div",{className:"space-y-6",children:l.map(d=>{const h=s.get(d.id)||[],p=h.reduce((y,m)=>y+m.percentageOfTotal,0);return h.reduce((y,m)=>y+m.amount,0),o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:d.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["R&D : ",J(d.devCost,!0),"  Lancement : ",d.launchYear]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs($e,{variant:p===100?"default":"secondary",children:[p,"% planifi"]}),o.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>c(d),disabled:p>=100,children:[o.jsx(Tr,{className:"h-3 w-3 mr-1"}),"Tranche"]})]})]}),h.length>0&&o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Mois"}),o.jsx(le,{children:"Anne"}),o.jsx(le,{className:"text-right",children:"% du total"}),o.jsx(le,{className:"text-right",children:"Montant"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:h.map(y=>o.jsxs(be,{children:[o.jsx(Y,{children:o.jsxs(it,{value:y.month.toString(),onValueChange:m=>u(y.id,{month:Number(m)}),children:[o.jsx(rt,{className:"h-8 w-28",children:o.jsx(st,{})}),o.jsx(nt,{children:tl.map((m,g)=>o.jsx(De,{value:g.toString(),children:m},g))})]})}),o.jsx(Y,{children:o.jsxs(it,{value:y.year.toString(),onValueChange:m=>u(y.id,{year:Number(m)}),children:[o.jsx(rt,{className:"h-8 w-20",children:o.jsx(st,{})}),o.jsx(nt,{children:i.map(m=>o.jsx(De,{value:m.toString(),children:m},m))})]})}),o.jsx(Y,{className:"text-right",children:o.jsx(_e,{type:"number",className:"h-8 w-20 text-right ml-auto",value:y.percentageOfTotal,min:1,max:100,onChange:m=>u(y.id,{percentageOfTotal:Number(m.target.value)})})}),o.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:J(y.amount,!0)}),o.jsx(Y,{children:o.jsx(ie,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>f(y.id),children:o.jsx(Xr,{className:"h-3 w-3"})})})]},y.id))})]}),h.length===0&&o.jsx("p",{className:"text-xs text-muted-foreground text-center py-2",children:"Aucune tranche planifie. Le CAPEX sera considr  l'anne de lancement."})]},d.id)})})})}function ONe({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("full-period"),[i,s]=w.useState(t),l=Array.from({length:r},(d,h)=>t+h),c=w.useMemo(()=>{const d=hd(e.months);return l.map(h=>{const p=d.get(h);if(!p)return{label:h.toString(),ca:0,cogs:0,payroll:0,opex:0,capex:0,loans:0,tresorerie:0,cashFlow:0};const m=e.months.filter(v=>v.year===h).reduce((v,x)=>v+x.capexPayments,0),g=p.loanPayments;return{label:h.toString(),ca:p.revenue/1e3,cogs:p.cogs/1e3,payroll:p.payroll/1e3,opex:p.opex/1e3,capex:m/1e3,loans:g/1e3,tresorerie:p.treasuryEnd/1e3,cashFlow:p.netCashFlow/1e3}})},[e,l]),u=w.useMemo(()=>e.months.filter(d=>d.year===i).map(d=>({label:d.monthName.slice(0,3),ca:d.revenue/1e3,cogs:d.cogs/1e3,payroll:d.payroll/1e3,opex:d.opex/1e3,capex:d.capexPayments/1e3,loans:d.loanPayments/1e3,tresorerie:d.treasuryEnd/1e3,cashFlow:d.netCashFlow/1e3})),[e,i]),f=n==="annual"?u:c;return o.jsx(Ue,{title:"Suivi de Trsorerie Dtaill",action:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(it,{value:n,onValueChange:d=>a(d),children:[o.jsx(rt,{className:"h-8 w-40",children:o.jsx(st,{})}),o.jsxs(nt,{children:[o.jsx(De,{value:"full-period",children:"Toute la priode"}),o.jsx(De,{value:"annual",children:"Vue annuelle"})]})]}),n==="annual"&&o.jsxs(it,{value:i.toString(),onValueChange:d=>s(Number(d)),children:[o.jsx(rt,{className:"h-8 w-24",children:o.jsx(st,{})}),o.jsx(nt,{children:l.map(d=>o.jsx(De,{value:d.toString(),children:d},d))})]})]}),children:o.jsx("div",{className:"h-80",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Op,{data:f,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"label"}),o.jsx(fr,{tickFormatter:d=>`${d}k`}),o.jsx(Ft,{formatter:d=>`${d.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"cogs",name:"Achats matire",stackId:"costs",fill:"hsl(38, 92%, 50%)"}),o.jsx(qt,{dataKey:"payroll",name:"Masse salariale",stackId:"costs",fill:"hsl(210, 70%, 50%)"}),o.jsx(qt,{dataKey:"opex",name:"OPEX",stackId:"costs",fill:"hsl(280, 60%, 50%)"}),o.jsx(qt,{dataKey:"capex",name:"CAPEX",stackId:"costs",fill:"hsl(0, 0%, 45%)"}),o.jsx(qt,{dataKey:"loans",name:"chances prts",stackId:"costs",fill:"hsl(0, 85%, 50%)"}),o.jsx($n,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",stroke:"hsl(150, 60%, 40%)",strokeWidth:3,dot:{r:4}})]})})})})}function TNe({projection:e,startYear:t,durationYears:r}){const[n,a]=w.useState("annual"),[i,s]=w.useState(t),l=Array.from({length:r},(d,h)=>t+h),c=w.useMemo(()=>hd(e.months),[e]),u=w.useMemo(()=>e.months.filter(d=>d.year===i),[e,i]),f=(d,h,p,y)=>o.jsxs(be,{className:p,children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:d}),h.map((m,g)=>o.jsx(Y,{className:re("text-right font-mono-numbers",y&&m>0&&"text-destructive"),children:y&&m>0?`(${J(m,!0)})`:J(m,!0)},g))]});if(n==="monthly"){const d=u;return o.jsx(Ue,{title:"Dtail Prvisionnel",action:o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(it,{value:n,onValueChange:h=>a(h),children:[o.jsx(rt,{className:"h-8 w-36",children:o.jsx(st,{})}),o.jsxs(nt,{children:[o.jsx(De,{value:"annual",children:"Par anne"}),o.jsx(De,{value:"monthly",children:"Par mois"})]})]}),o.jsxs(it,{value:i.toString(),onValueChange:h=>s(Number(h)),children:[o.jsx(rt,{className:"h-8 w-24",children:o.jsx(st,{})}),o.jsx(nt,{children:l.map(h=>o.jsx(De,{value:h.toString(),children:h},h))})]})]}),children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Poste"}),d.map(h=>o.jsx(le,{className:"text-right min-w-20",children:tl[h.month].slice(0,3)},h.month))]})}),o.jsxs(Wt,{children:[f("CA (encaissements)",d.map(h=>h.revenue),"bg-muted/30"),f("Achats matire (COGS)",d.map(h=>h.cogs),"",!0),f("Masse salariale",d.map(h=>h.payroll),"",!0),f("OPEX",d.map(h=>h.opex),"",!0),f("Charges variables",d.map(h=>h.variableCharges),"",!0),f("chances prts",d.map(h=>h.loanPayments),"",!0),f("CAPEX produits",d.map(h=>h.capexPayments),"",!0),o.jsxs(be,{className:"border-t-2",children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),d.map((h,p)=>o.jsxs(Y,{className:re("text-right font-mono-numbers font-bold",h.netCashFlow<0?"text-destructive":"text-green-600"),children:[h.netCashFlow>=0?"+":"",J(h.netCashFlow,!0)]},p))]}),o.jsxs(be,{className:"bg-primary/5",children:[o.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),d.map((h,p)=>o.jsx(Y,{className:re("text-right font-mono-numbers font-bold",h.treasuryEnd<0&&"text-destructive"),children:J(h.treasuryEnd,!0)},p))]})]})]})})})}return o.jsx(Ue,{title:"Dtail Prvisionnel",action:o.jsxs(it,{value:n,onValueChange:d=>a(d),children:[o.jsx(rt,{className:"h-8 w-36",children:o.jsx(st,{})}),o.jsxs(nt,{children:[o.jsx(De,{value:"annual",children:"Par anne"}),o.jsx(De,{value:"monthly",children:"Par mois"})]})]}),children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Poste"}),l.map(d=>o.jsx(le,{className:"text-right min-w-24",children:d},d))]})}),o.jsxs(Wt,{children:[f("CA (encaissements)",l.map(d=>{var h;return((h=c.get(d))==null?void 0:h.revenue)||0}),"bg-muted/30"),f("Achats matire (COGS)",l.map(d=>{var h;return((h=c.get(d))==null?void 0:h.cogs)||0}),"",!0),f("Masse salariale",l.map(d=>{var h;return((h=c.get(d))==null?void 0:h.payroll)||0}),"",!0),f("OPEX",l.map(d=>{var h;return((h=c.get(d))==null?void 0:h.opex)||0}),"",!0),f("Charges variables",l.map(d=>{var h;return((h=c.get(d))==null?void 0:h.variableCharges)||0}),"",!0),f("chances prts",l.map(d=>{var h;return((h=c.get(d))==null?void 0:h.loanPayments)||0}),"",!0),f("CAPEX produits",l.map(d=>e.months.filter(p=>p.year===d).reduce((p,y)=>p+y.capexPayments,0)),"",!0),f("Leves de fonds",l.map(d=>{var h;return((h=c.get(d))==null?void 0:h.fundingInjection)||0}),"bg-green-50 dark:bg-green-950/20"),o.jsxs(be,{className:"border-t-2",children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-bold",children:"Cash Flow Net"}),l.map(d=>{const h=c.get(d),p=(h==null?void 0:h.netCashFlow)||0;return o.jsxs(Y,{className:re("text-right font-mono-numbers font-bold",p<0?"text-destructive":"text-green-600"),children:[p>=0?"+":"",J(p,!0)]},d)})]}),o.jsxs(be,{className:"bg-primary/5",children:[o.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"Trsorerie Fin"}),l.map(d=>{const h=c.get(d),p=(h==null?void 0:h.treasuryEnd)||0;return o.jsx(Y,{className:re("text-right font-mono-numbers font-bold",p<0&&"text-destructive"),children:J(p,!0)},d)})]})]})]})})})}const $b=[{id:"grossMargin",name:"Marge Brute",description:"CA - Cot des ventes",calculate:e=>e.grossMargin,format:"currency",category:"margin",defaultVisible:!0},{id:"grossMarginRate",name:"Taux de Marge Brute",description:"Marge Brute / CA",calculate:e=>e.revenue>0?e.grossMargin/e.revenue:0,format:"percent",category:"margin",defaultVisible:!0},{id:"valueAdded",name:"Valeur Ajoute",description:"Marge Brute - Charges externes (OPEX hors salaires)",calculate:e=>e.grossMargin-e.opex,format:"currency",category:"margin",defaultVisible:!0},{id:"valueAddedRate",name:"Taux de Valeur Ajoute",description:"Valeur Ajoute / CA",calculate:e=>e.revenue>0?(e.grossMargin-e.opex)/e.revenue:0,format:"percent",category:"margin",defaultVisible:!1},{id:"ebitda",name:"EBITDA (EBE)",description:"Excdent Brut d'Exploitation",calculate:e=>e.ebitda,format:"currency",category:"profitability",defaultVisible:!0},{id:"ebitdaMargin",name:"Marge EBITDA",description:"EBITDA / CA",calculate:e=>e.revenue>0?e.ebitda/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!0},{id:"operatingResult",name:"Rsultat d'Exploitation",description:"EBITDA - Amortissements",calculate:e=>e.operatingResult,format:"currency",category:"profitability",defaultVisible:!0},{id:"operatingMargin",name:"Marge Oprationnelle",description:"Rsultat d'Exploitation / CA",calculate:e=>e.revenue>0?e.operatingResult/e.revenue:0,format:"percent",category:"profitability",defaultVisible:!1},{id:"cashFlow",name:"Cash Flow Oprationnel",description:"CA - COGS - OPEX - Salaires - CAPEX",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!0},{id:"freeCashFlow",name:"Free Cash Flow",description:"Cash Flow hors financement",calculate:e=>e.cashFlow,format:"currency",category:"cash",defaultVisible:!1},{id:"treasuryEnd",name:"Trsorerie Fin de Priode",description:"Position de trsorerie en fin d'anne",calculate:e=>e.treasuryEnd,format:"currency",category:"cash",defaultVisible:!0},{id:"cashBurn",name:"Cash Burn",description:"Consommation de trsorerie (si ngatif)",calculate:e=>e.cashFlow<0?Math.abs(e.cashFlow):0,format:"currency",category:"cash",defaultVisible:!1},{id:"payrollRatio",name:"Ratio Masse Salariale / CA",description:"Poids des salaires dans le CA",calculate:e=>e.revenue>0?e.payroll/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"opexRatio",name:"Ratio OPEX / CA",description:"Poids des charges oprationnelles",calculate:e=>e.revenue>0?e.opex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!0},{id:"capexRatio",name:"Ratio CAPEX / CA",description:"Intensit capitalistique",calculate:e=>e.revenue>0?e.capex/e.revenue:0,format:"percent",category:"ratio",defaultVisible:!1},{id:"productivityRatio",name:"Productivit par ",description:"CA / Masse Salariale",calculate:e=>e.payroll>0?e.revenue/e.payroll:0,format:"currency",category:"ratio",defaultVisible:!1}],RNe=[{id:"kpis",label:"KPIs Prvisionnel",elementId:"previsionnel-kpis"},{id:"treasury",label:"volution Trsorerie",elementId:"previsionnel-treasury"},{id:"cashflow",label:"Cash Flow",elementId:"previsionnel-cashflow"},{id:"sig",label:"Tableau SIG",elementId:"previsionnel-sig"}],MNe=[{id:"monthly-kpis",label:"KPIs Trsorerie",elementId:"monthly-treasury-kpis"},{id:"monthly-chart",label:"Graphique Trsorerie",elementId:"monthly-treasury-chart"},{id:"monthly-summary",label:"Rsum",elementId:"monthly-treasury-summary"}],$Ne={margin:"Marges",profitability:"Rentabilit",cash:"Trsorerie",ratio:"Ratios"};function INe(){var A;const{state:e,computed:t,saveAll:r,setExcludeFundingFromTreasury:n,updateMonthlyTreasuryConfig:a}=Mi(),[i,s]=w.useState(()=>{const E=new Set;return $b.forEach(k=>{k.defaultVisible&&E.add(k.id)}),E}),[l,c]=w.useState("annual"),{startYear:u,durationYears:f}=e.scenarioSettings,d=Array.from({length:f},(E,k)=>u+k),h=e.excludeFundingFromTreasury,{monthlyTreasuryProjection:p}=t,y=w.useMemo(()=>{const E=hd(p.months);return d.map(k=>{const R=E.get(k);if(!R)return{year:k,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,capex:0,depreciation:0,ebitda:0,operatingResult:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0};const T=t.treasuryProjection.years.find(I=>I.year===k),P=(T==null?void 0:T.capex)||0,$=(T==null?void 0:T.depreciation)||0;return{year:R.year,revenue:R.revenue,cogs:R.cogs,grossMargin:R.grossMargin,payroll:R.payroll,opex:R.opex,capex:P,depreciation:$,ebitda:R.ebitda,operatingResult:R.ebitda-$,cashFlow:R.netCashFlow,treasuryStart:R.treasuryStart,treasuryEnd:R.treasuryEnd,fundingInjection:R.fundingInjection}})},[p,t.treasuryProjection,d]),m=y.map(E=>({year:E.year,tresorerie:E.treasuryEnd/1e3,cashFlow:E.cashFlow/1e3,levee:E.fundingInjection/1e3})),g=y.map(E=>({year:E.year,ca:E.revenue/1e3,margeBrute:E.grossMargin/1e3,ebitda:E.ebitda/1e3,resultat:E.operatingResult/1e3})),v=y[0],x=y[y.length-1],b=y.reduce((E,k)=>E+k.cashFlow,0),_=((A=p.breakEvenMonth)==null?void 0:A.year)||null,j=p.minTreasury,S=E=>{s(k=>{const R=new Set(k);return R.has(E)?R.delete(E):R.add(E),R})},C=$b.filter(E=>i.has(E.id)),N=(E,k)=>k==="percent"?kr(E):J(E,!0);return o.jsx(js,{tabKey:"previsionnel",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Prvisionnel Financier",subtitle:"Projections de trsorerie, cash flow et SIG",height:"sm"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx(Ea,{value:l,onValueChange:E=>c(E),children:o.jsxs(ca,{children:[o.jsxs(ut,{value:"annual",className:"flex items-center gap-2",children:[o.jsx(fS,{className:"h-4 w-4"}),"Vue Annuelle"]}),o.jsxs(ut,{value:"monthly",className:"flex items-center gap-2",children:[o.jsx(Ym,{className:"h-4 w-4"}),"Plan de Trsorerie"]}),o.jsxs(ut,{value:"params",className:"flex items-center gap-2",children:[o.jsx(WP,{className:"h-4 w-4"}),"Prts & CAPEX"]})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Mode CA :"}),o.jsx($e,{variant:e.revenueMode==="by-product"?"default":"secondary",children:e.revenueMode==="by-product"?"Par Produit":"Global Canaux"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rp,{id:"exclude-funding",checked:h,onCheckedChange:E=>n(E===!0)}),o.jsx(je,{htmlFor:"exclude-funding",className:"text-sm cursor-pointer",children:"Ne pas intgrer le montant  lever dans la trsorerie"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs($e,{variant:"outline",className:"text-xs",children:[f," annes  ",C.length," indicateurs actifs"]}),o.jsx(Md,{pageTitle:l==="monthly"?"Plan de Trsorerie Mensuel":"Prvisionnel Financier",sections:l==="monthly"?MNe:RNe,fileName:l==="monthly"?"Plan_Tresorerie_Mensuel":"Previsionnel_Financier"}),o.jsx(yd,{onSave:r,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),l==="params"?o.jsxs("div",{className:"space-y-6",children:[o.jsx(ANe,{loans:e.monthlyTreasuryConfig.loans,onChange:E=>a({...e.monthlyTreasuryConfig,loans:E}),startYear:u,durationYears:f}),o.jsx(kNe,{capexPayments:e.monthlyTreasuryConfig.capexPayments,onChange:E=>a({...e.monthlyTreasuryConfig,capexPayments:E}),products:e.products,startYear:u,durationYears:f})]}):l==="monthly"?o.jsxs("div",{className:"space-y-6",children:[o.jsx(ONe,{projection:p,startYear:u,durationYears:f}),o.jsx(TNe,{projection:p,startYear:u,durationYears:f}),o.jsx(PNe,{})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"previsionnel-kpis",children:[o.jsx(ot,{label:`CA ${(x==null?void 0:x.year)||""}`,value:J((x==null?void 0:x.revenue)||0,!0),subValue:`vs ${J((v==null?void 0:v.revenue)||0,!0)} en ${v==null?void 0:v.year}`,trend:"up"}),o.jsx(ot,{label:"Cash Flow Cumul",value:J(b,!0),subValue:`${v==null?void 0:v.year}-${x==null?void 0:x.year}`,trend:b>=0?"up":"down"}),o.jsx(ot,{label:"Trsorerie Min",value:J(j,!0),subValue:"Point bas projet",trend:j>=0?"neutral":"down"}),o.jsx(ot,{label:"Break-even",value:_?_.toString():"N/A",subValue:"Cash flow positif"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(Ue,{title:"volution de la Trsorerie",id:"previsionnel-treasury",children:o.jsx("div",{className:"h-72",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Op,{data:m,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:E=>`${E}k`}),o.jsx(Ft,{formatter:E=>`${E.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(na,{type:"monotone",dataKey:"tresorerie",name:"Trsorerie",fill:"hsl(210, 70%, 50%)",fillOpacity:.3,stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),o.jsx(qt,{dataKey:"levee",name:"Leve",fill:"hsl(150, 60%, 40%)"})]})})})}),o.jsx(Ue,{title:"Cash Flow Annuel",id:"previsionnel-cashflow",children:o.jsx("div",{className:"h-72",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Rd,{data:m,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:E=>`${E}k`}),o.jsx(Ft,{formatter:E=>`${E.toFixed(0)}k`}),o.jsx(qt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(0, 85%, 50%)"})]})})})})]}),o.jsx(Ue,{title:"Soldes Intermdiaires de Gestion",children:o.jsx("div",{className:"h-72",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(UF,{data:g,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:E=>`${E}k`}),o.jsx(Ft,{formatter:E=>`${E.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx($n,{type:"monotone",dataKey:"ca",name:"CA",stroke:"hsl(210, 70%, 50%)",strokeWidth:2}),o.jsx($n,{type:"monotone",dataKey:"margeBrute",name:"Marge Brute",stroke:"hsl(150, 60%, 40%)",strokeWidth:2}),o.jsx($n,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stroke:"hsl(38, 92%, 50%)",strokeWidth:2}),o.jsx($n,{type:"monotone",dataKey:"resultat",name:"Rs. Exploitation",stroke:"hsl(0, 85%, 50%)",strokeWidth:2})]})})})}),o.jsxs(Ue,{title:"Tableau des Indicateurs",id:"previsionnel-sig",action:o.jsxs(CNe,{children:[o.jsx(NNe,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"sm",children:[o.jsx(WP,{className:"h-4 w-4 mr-2"}),"Personnaliser"]})}),o.jsx(sz,{className:"w-80 max-h-96 overflow-y-auto",align:"end",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Indicateurs visibles"}),Object.entries($Ne).map(([E,k])=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:k}),$b.filter(R=>R.category===E).map(R=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[o.jsx(je,{htmlFor:R.id,className:"text-sm cursor-pointer",children:R.name}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:R.description})]}),o.jsx(z5,{id:R.id,checked:i.has(R.id),onCheckedChange:()=>S(R.id)})]},R.id))]},E))]})})]}),children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Indicateur"}),d.map(E=>o.jsx(le,{className:"text-right min-w-24",children:E},E)),o.jsx(le,{className:"text-right min-w-28",children:"volution"})]})}),o.jsx(Wt,{children:C.map(E=>{const k=y.map($=>E.calculate($)),R=k[0]||0,T=k[k.length-1]||0,P=R!==0?(T-R)/Math.abs(R):0;return o.jsxs(be,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:o.jsxs("div",{children:[o.jsx("span",{children:E.name}),o.jsx("span",{className:"block text-xs text-muted-foreground",children:E.description})]})}),k.map(($,I)=>o.jsx(Y,{className:re("text-right font-mono-numbers",E.format==="currency"&&$<0&&"text-destructive"),children:N($,E.format)},I)),o.jsx(Y,{className:"text-right",children:o.jsxs("div",{className:re("flex items-center justify-end gap-1",P>0?"text-green-600":P<0?"text-destructive":"text-muted-foreground"),children:[P>0?o.jsx(Fl,{className:"h-3 w-3"}):P<0?o.jsx(yS,{className:"h-3 w-3"}):null,o.jsxs("span",{className:"font-mono-numbers text-sm",children:[P>0?"+":"",kr(P)]})]})})]},E.id)})})]})}),C.length===0&&o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(iI,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"Aucun indicateur slectionn"}),o.jsx("p",{className:"text-sm",children:'Cliquez sur "Personnaliser" pour ajouter des indicateurs'})]})]}),o.jsx(Ue,{title:"Compte de Rsultat Simplifi",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Poste"}),d.map(E=>o.jsx(le,{className:"text-right min-w-24",children:E},E))]})}),o.jsxs(Wt,{children:[o.jsxs(be,{className:"bg-muted/30",children:[o.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"Chiffre d'Affaires"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:J(E.revenue,!0)},k))]}),o.jsxs(be,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Cot des Ventes"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",J(E.cogs,!0),")"]},k))]}),o.jsxs(be,{className:"border-t-2",children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Marge Brute"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers font-medium",children:J(E.grossMargin,!0)},k))]}),o.jsxs(be,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Masse Salariale"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",J(E.payroll,!0),")"]},k))]}),o.jsxs(be,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Charges Oprationnelles"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",J(E.opex,!0),")"]},k))]}),o.jsxs(be,{className:"border-t-2 bg-muted/30",children:[o.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"= EBITDA"}),y.map((E,k)=>o.jsx(Y,{className:re("text-right font-mono-numbers font-medium",E.ebitda<0&&"text-destructive"),children:J(E.ebitda,!0)},k))]}),o.jsxs(be,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Amortissements"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-muted-foreground",children:["(",J(E.depreciation,!0),")"]},k))]}),o.jsxs(be,{className:"border-t-2 bg-primary/5",children:[o.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Rsultat d'Exploitation"}),y.map((E,k)=>o.jsx(Y,{className:re("text-right font-mono-numbers font-bold",E.operatingResult<0&&"text-destructive"),children:J(E.operatingResult,!0)},k))]})]})]})})}),o.jsx(Ue,{title:"Tableau des Flux de Trsorerie",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{className:"sticky left-0 bg-background z-10",children:"Flux"}),d.map(E=>o.jsx(le,{className:"text-right min-w-24",children:E},E))]})}),o.jsxs(Wt,{children:[o.jsxs(be,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10",children:"Trsorerie Dbut"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers",children:J(E.treasuryStart,!0)},k))]}),o.jsxs(be,{className:"bg-muted/30",children:[o.jsx(Y,{className:"sticky left-0 bg-muted/30 z-10 font-medium",children:"+ Encaissements (CA)"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-green-600",children:["+",J(E.revenue,!0)]},k))]}),o.jsxs(be,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Dcaissements Exploitation"}),y.map((E,k)=>o.jsxs(Y,{className:"text-right font-mono-numbers text-destructive",children:["-",J(E.cogs+E.payroll+E.opex,!0)]},k))]}),o.jsxs(be,{children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 text-muted-foreground",children:"- Investissements (CAPEX)"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers text-destructive",children:E.capex>0?`-${J(E.capex,!0)}`:"-"},k))]}),o.jsxs(be,{className:"border-t",children:[o.jsx(Y,{className:"sticky left-0 bg-background z-10 font-medium",children:"= Cash Flow Oprationnel"}),y.map((E,k)=>o.jsxs(Y,{className:re("text-right font-mono-numbers font-medium",E.cashFlow<0?"text-destructive":"text-green-600"),children:[E.cashFlow>=0?"+":"",J(E.cashFlow,!0)]},k))]}),o.jsxs(be,{className:"bg-green-50 dark:bg-green-950/20",children:[o.jsx(Y,{className:"sticky left-0 bg-green-50 dark:bg-green-950/20 z-10",children:"+ Leve de Fonds"}),y.map((E,k)=>o.jsx(Y,{className:"text-right font-mono-numbers text-green-600",children:E.fundingInjection>0?`+${J(E.fundingInjection,!0)}`:"-"},k))]}),o.jsxs(be,{className:"border-t-2 bg-primary/5",children:[o.jsx(Y,{className:"sticky left-0 bg-primary/5 z-10 font-bold",children:"= Trsorerie Fin"}),y.map((E,k)=>o.jsx(Y,{className:re("text-right font-mono-numbers font-bold",E.treasuryEnd<0&&"text-destructive"),children:J(E.treasuryEnd,!0)},k))]})]})]})})})]})]})})}const l2=[{key:"hiring",label:"Recrutement",color:"hsl(var(--primary))"},{key:"rd",label:"R&D",color:"hsl(var(--accent))"},{key:"marketing",label:"Marketing",color:"hsl(150, 60%, 40%)"},{key:"inventory",label:"Stock",color:"hsl(38, 92%, 50%)"},{key:"buffer",label:"Buffer",color:"hsl(0, 0%, 60%)"}];function DNe(){const{state:e}=Mi(),t=e.fundingRounds[0];if(!t)return null;const r=t.amount;return o.jsx(Ue,{title:"Allocation des Fonds",children:o.jsx("div",{className:"space-y-3",children:l2.map(n=>{const a=1/l2.length,i=r*a;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:n.label}),o.jsx("span",{className:"font-mono-numbers",children:J(i,!0)})]}),o.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full",style:{width:`${a*100}%`,backgroundColor:n.color}})})]},n.key)})})})}function LNe(){var k,R,T;const{state:e,computed:t,updateFundingRounds:r,updateScenarioSettings:n}=Mi(),{startYear:a,durationYears:i,initialCash:s}=e.scenarioSettings,l=Array.from({length:i},(P,$)=>a+$),c=e.fundingRounds[0]||{id:"round-1",name:"Leve",amount:15e5,preMoneyValuation:4e6,year:a,quarter:"Q1"},{monthlyTreasuryProjection:u}=t,f=w.useMemo(()=>{const P=hd(u.months);return l.map($=>{const I=P.get($);return I?{year:I.year,revenue:I.revenue,totalCosts:I.cogs+I.payroll+I.opex,cashFlow:I.netCashFlow,treasuryStart:I.treasuryStart,treasuryEnd:I.treasuryEnd,fundingInjection:I.fundingInjection,minTreasuryInYear:I.treasuryEnd}:{year:$,revenue:0,totalCosts:0,cashFlow:0,treasuryStart:0,treasuryEnd:0,fundingInjection:0,minTreasuryInYear:0}})},[u,l]),d=c.amount,h=c.preMoneyValuation,p=h+d,y=d/p,m=u.minTreasury,g=Math.max(0,-m),v=g>0?d/g:1,x=((k=u.breakEvenMonth)==null?void 0:k.year)||null,b=f.map(P=>({year:P.year,revenue:P.revenue/1e3,costs:P.totalCosts/1e3,cashFlow:P.cashFlow/1e3,treasury:P.treasuryEnd/1e3,isNegative:P.treasuryEnd<0})),_=P=>{r([{...c,amount:P}])},j=P=>{r([{...c,preMoneyValuation:P}])},S=P=>{r([{...c,year:parseInt(P)}])},C=P=>{r([{...c,quarter:P}])},N=P=>{n({initialCash:P})},A=m<0,E=((R=u.breakEvenMonth)==null?void 0:R.year)||((T=f.find(P=>P.treasuryEnd<0))==null?void 0:T.year);return o.jsx(js,{tabKey:"funding",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Besoin de Financement",subtitle:"Calcul automatiquement  Autosave activ",height:"sm"}),A&&o.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[o.jsx(hu,{className:"h-5 w-5 text-destructive"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-destructive",children:"Alerte Trsorerie"}),o.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["Point bas de ",J(m,!0)," en ",E]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsx(ot,{label:"Besoin Calcul",value:J(g,!0),subValue:"max(0, -trso min)",trend:g>0?"down":void 0}),o.jsx(ot,{label:"Montant  Lever",value:J(d,!0),subValue:"Ajustable ci-dessous"}),o.jsx(ot,{label:"Pre-Money",value:J(h,!0),subValue:"Valorisation"}),o.jsx(ot,{label:"Post-Money",value:J(p,!0),subValue:"Aprs leve"}),o.jsx(ot,{label:"Dilution",value:kr(y),subValue:"Sur le round"})]}),o.jsx(Ue,{title:"Calibrage de la Leve",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Trsorerie Initiale T0"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:J(s,!0)})]}),o.jsx(vn,{value:[s/1e3],onValueChange:([P])=>N(P*1e3),min:0,max:500,step:10}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"500k"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Montant  lever"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:J(d,!0)})]}),o.jsx(vn,{value:[d/1e3],onValueChange:([P])=>_(P*1e3),min:0,max:5e3,step:50}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"5M"})]}),d===0&&o.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:" Montant  lever rgl  0  Les projections de trsorerie n'incluent aucune leve de fonds."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Valorisation Pre-Money"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:J(h,!0)})]}),o.jsx(vn,{value:[h/1e3],onValueChange:([P])=>j(P*1e3),min:200,max:2e4,step:100}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"200k"}),o.jsx("span",{children:"20M"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(fu,{className:"h-4 w-4"}),"Anne"]}),o.jsxs(it,{value:c.year.toString(),onValueChange:S,children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsx(nt,{children:l.map(P=>o.jsx(De,{value:P.toString(),children:P},P))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Trimestre"}),o.jsxs(it,{value:c.quarter,onValueChange:C,children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsx(nt,{children:aK.map(P=>o.jsx(De,{value:P,children:P},P))})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Besoin calcul (depuis hypothses)"}),o.jsx($e,{variant:"secondary",children:"Auto"})]}),o.jsx("div",{className:"text-3xl font-bold font-mono-numbers",children:J(g,!0)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"= max(0, -trsorerie minimale projete)"})]}),o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Couverture du besoin"}),o.jsx("span",{className:"font-mono-numbers",children:kr(Math.min(v,2))})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:re("h-2 rounded-full transition-all",v>=1?"bg-accent":v>=.8?"bg-primary":"bg-destructive"),style:{width:`${Math.min(v*100,100)}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Break-even"}),o.jsx("div",{className:"text-lg font-bold",children:x||"N/A"})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-center",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Point bas trso"}),o.jsx("div",{className:re("text-lg font-bold font-mono-numbers",m<0?"text-destructive":""),children:J(m,!0)})]})]})]})]})}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(Ue,{title:"Projection Cash Flow & Trsorerie",children:o.jsx("div",{className:"h-64",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Op,{data:b,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:P=>`${P}k`}),o.jsx(Ft,{formatter:P=>`${P.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(var(--accent))"}),o.jsx($n,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})}),o.jsx(DNe,{})]}),o.jsx(Ue,{title:"Projection Dtaille",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-3",children:"Anne"}),o.jsx("th",{className:"text-right py-2 px-3",children:"CA"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Cots Totaux"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Cash Flow"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Leve"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Trso Dbut"}),o.jsx("th",{className:"text-right py-2 px-3",children:"Trso Fin"})]})}),o.jsx("tbody",{children:f.map(P=>o.jsxs("tr",{className:re("border-b",P.treasuryEnd<0&&"bg-destructive/5"),children:[o.jsx("td",{className:"py-2 px-3 font-medium",children:P.year}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:J(P.revenue,!0)}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-muted-foreground",children:J(P.totalCosts,!0)}),o.jsxs("td",{className:re("py-2 px-3 text-right font-mono-numbers font-medium",P.cashFlow>=0?"text-accent":"text-destructive"),children:[P.cashFlow>=0?"+":"",J(P.cashFlow,!0)]}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers text-accent",children:P.fundingInjection>0?`+${J(P.fundingInjection,!0)}`:"-"}),o.jsx("td",{className:"py-2 px-3 text-right font-mono-numbers",children:J(P.treasuryStart,!0)}),o.jsx("td",{className:re("py-2 px-3 text-right font-mono-numbers font-bold",P.treasuryEnd<0?"text-destructive":""),children:J(P.treasuryEnd,!0)})]},P.year))})]})})})]})})}const FNe=[{id:"settings",label:"Paramtres du Scnario",elementId:"scenario-settings"},{id:"treasury-params",label:"Paramtres Trsorerie",elementId:"treasury-params"},{id:"kpis",label:"KPIs par Scnario",elementId:"scenario-kpis"},{id:"adjustments",label:"Ajustements",elementId:"scenario-adjustments"},{id:"chart",label:"Comparaison des Scnarios",elementId:"scenario-chart"},{id:"cashflow",label:"Projection Cash Flow",elementId:"scenario-cashflow"}];function BNe(){var k,R,T;const{state:e,computed:t,setActiveScenario:r,updateScenarioConfig:n,updateScenarioSettings:a,updateFundingRounds:i,setExcludeFundingFromTreasury:s,saveAll:l}=Mi();e.scenarioConfigs[e.activeScenarioId];const{startYear:c,durationYears:u,initialCash:f}=e.scenarioSettings,d=e.fundingRounds[e.fundingRounds.length-1],h=(d==null?void 0:d.amount)||0,p=Array.from({length:u},(P,$)=>c+$),y=(P,$)=>{const I=e.scenarioConfigs[P];if(e.revenueMode==="by-channel-global")return xh(e.globalRevenueConfig,$)*(1+I.volumeAdjustment)*(1+I.priceAdjustment);let M=0;return e.products.forEach(D=>{const L=D.volumesByChannel;if(L){const U=D.priceHT||D.priceTTC_B2C/(1+(D.vatRate||.2)),X=D.coef_shop||1.6,G=D.coef_dist||1.3,te=D.coef_oem||1.4,z=U/X/G,B=D.unitCost*te,V=Math.round((L.B2C[$]||0)*(1+I.volumeAdjustment)),H=Math.round((L.B2B[$]||0)*(1+I.volumeAdjustment)),ce=Math.round((L.OEM[$]||0)*(1+I.volumeAdjustment));M+=V*U*(1+I.priceAdjustment),M+=H*z*(1+I.priceAdjustment),M+=ce*B*(1+I.priceAdjustment)}else if(D.volumesByYear[$]){const U=Math.round(D.volumesByYear[$]*(1+I.volumeAdjustment));M+=U*D.priceHT*(1+I.priceAdjustment)}}),M},m=P=>{const $=p.map(D=>y(P,D)),I=$[$.length-1]||0,M=$[0]||0;return{revenueLastYear:I,totalRevenue:$.reduce((D,L)=>D+L,0),cagr:I>0&&M>0&&u>1?Math.pow(I/M,1/(u-1))-1:0}},g=[{id:"conservative",name:"Prudent",color:"hsl(38, 92%, 50%)"},{id:"base",name:"Base",color:"hsl(0, 85%, 50%)"},{id:"ambitious",name:"Ambitieux",color:"hsl(150, 60%, 40%)"}],v=p.map(P=>{const $={year:P};return g.forEach(I=>{$[I.id]=y(I.id,P)/1e3}),$}),x=g.map(P=>{const $=m(P.id);return{...P,...$,config:e.scenarioConfigs[P.id]}}),b=P=>{a({startYear:P})},_=P=>{a({durationYears:P})},j=P=>{a({initialCash:P})},S=P=>{if(d){const $=e.fundingRounds.map(I=>I.id===d.id?{...I,amount:P}:I);i($)}},{monthlyTreasuryProjection:C}=t,N=w.useMemo(()=>{const P=hd(C.months);return p.map($=>{const I=P.get($);return I?{year:I.year,revenue:I.revenue/1e3,cogs:I.cogs/1e3,payroll:I.payroll/1e3,opex:I.opex/1e3,grossMargin:I.grossMargin/1e3,ebitda:I.ebitda/1e3,cashFlow:I.netCashFlow/1e3,treasury:I.treasuryEnd/1e3}:{year:$,revenue:0,cogs:0,payroll:0,opex:0,grossMargin:0,ebitda:0,cashFlow:0,treasury:0}})},[C,p]),A=C.minTreasury/1e3,E=((k=C.breakEvenMonth)==null?void 0:k.year)||"N/A";return o.jsx(js,{tabKey:"scenarios",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Scnarios",subtitle:"Modulation des projections bases sur le Plan Produit",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs($e,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),o.jsxs($e,{variant:"secondary",className:"text-xs",children:[c,"  ",c+u-1," (",u," ans)"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Md,{pageTitle:"Scnarios",sections:FNe,fileName:"Scenarios"}),o.jsx(yd,{onSave:l,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),o.jsx(Ue,{title:"Paramtres du Scnario",id:"scenario-settings",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fu,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(je,{children:"Anne de dbut"})]}),o.jsx("div",{className:"flex gap-2",children:[2024,2025,2026,2027].map(P=>o.jsx(ie,{size:"sm",variant:c===P?"default":"outline",onClick:()=>b(P),children:P},P))}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Premire anne des projections"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Py,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(je,{children:"Dure (annes)"})]}),o.jsx("div",{className:"flex gap-2",children:[3,4,5,6,7].map(P=>o.jsxs(ie,{size:"sm",variant:u===P?"default":"outline",onClick:()=>_(P),children:[P," ans"]},P))}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Horizon de projection: ",c,"  ",c+u-1]})]})]})}),o.jsxs(Ue,{title:"Paramtres Trsorerie",id:"treasury-params",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 rounded-lg border bg-muted/30",children:[o.jsx(Rp,{id:"funding-toggle",checked:!e.excludeFundingFromTreasury,onCheckedChange:P=>s(!P)}),o.jsx(je,{htmlFor:"funding-toggle",className:"cursor-pointer text-sm font-medium",children:"Activer la leve de fonds dans le scnario"}),o.jsx($e,{variant:e.excludeFundingFromTreasury?"outline":"default",className:"ml-auto text-xs",children:e.excludeFundingFromTreasury?"Dsactive":"Active"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(cI,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(je,{children:"Trsorerie initiale (T0)"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"Cash disponible au dmarrage"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:J(f,!0)})]}),o.jsx(vn,{value:[f/1e3],onValueChange:([P])=>j(P*1e3),min:0,max:1e3,step:10}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"1M"})]})]})]}),!e.excludeFundingFromTreasury&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Fl,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(je,{children:"Montant Lev"}),o.jsx($e,{variant:"outline",className:"text-xs ml-auto",children:"Depuis Financement"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:(d==null?void 0:d.name)||"Tour de table"}),o.jsx("span",{className:"text-lg font-bold font-mono-numbers",children:J(h,!0)})]}),o.jsx(vn,{value:[h/1e3],onValueChange:([P])=>S(P*1e3),min:100,max:5e3,step:50}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"100k"}),o.jsx("span",{children:"5M"})]})]})]})]}),o.jsxs("div",{className:"mt-6 pt-4 border-t grid md:grid-cols-4 gap-4",children:[o.jsx(ot,{label:"Cash Total T0",value:J(f+(e.excludeFundingFromTreasury?0:h),!0),subValue:e.excludeFundingFromTreasury?"Trso seule":"Trso + Leve"}),o.jsx(ot,{label:"Point Bas Trso",value:J(A*1e3,!0),subValue:"Sur la priode",trend:A<0?"down":void 0}),o.jsx(ot,{label:"Break-even",value:E.toString(),subValue:"Cash flow positif"}),o.jsx(ot,{label:"Trso Finale",value:J((((R=N[N.length-1])==null?void 0:R.treasury)||0)*1e3,!0),subValue:`En ${c+u-1}`})]})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(P=>o.jsxs("div",{className:re("p-4 rounded-lg border-2 transition-all cursor-pointer",e.activeScenarioId===P.id?"border-accent bg-accent/5":"border-border hover:border-accent/50"),onClick:()=>r(P.id),children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"font-semibold",children:P.name}),e.activeScenarioId===P.id&&o.jsx($e,{children:"Actif"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),o.jsx("p",{className:"font-mono-numbers font-semibold",children:J(P.revenueLastYear,!0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),o.jsx("p",{className:"font-mono-numbers font-semibold",children:kr(P.cagr)})]})]}),o.jsxs("div",{className:"space-y-3",onClick:$=>$.stopPropagation(),children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Volumes"}),o.jsxs("span",{className:re("font-mono-numbers",P.config.volumeAdjustment>0?"text-green-600":P.config.volumeAdjustment<0?"text-destructive":""),children:[P.config.volumeAdjustment>0?"+":"",(P.config.volumeAdjustment*100).toFixed(0),"%"]})]}),o.jsx(vn,{value:[(P.config.volumeAdjustment+.5)*100],onValueChange:([$])=>n(P.id,{volumeAdjustment:$/100-.5}),min:0,max:100,step:5})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Prix"}),o.jsxs("span",{className:re("font-mono-numbers",P.config.priceAdjustment>0?"text-green-600":P.config.priceAdjustment<0?"text-destructive":""),children:[P.config.priceAdjustment>0?"+":"",(P.config.priceAdjustment*100).toFixed(0),"%"]})]}),o.jsx(vn,{value:[(P.config.priceAdjustment+.2)*250],onValueChange:([$])=>n(P.id,{priceAdjustment:$/250-.2}),min:0,max:100,step:5})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"OPEX"}),o.jsxs("span",{className:re("font-mono-numbers",P.config.opexAdjustment<0?"text-green-600":P.config.opexAdjustment>0?"text-destructive":""),children:[P.config.opexAdjustment>0?"+":"",(P.config.opexAdjustment*100).toFixed(0),"%"]})]}),o.jsx(vn,{value:[(P.config.opexAdjustment+.3)*166],onValueChange:([$])=>n(P.id,{opexAdjustment:$/166-.3}),min:0,max:100,step:5})]})]})]},P.id))}),o.jsx(Ue,{title:"Comparaison des Trajectoires CA",id:"scenario-chart",children:o.jsx("div",{className:"h-80",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(UF,{data:v,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:P=>`${P}k`}),o.jsx(Ft,{formatter:P=>`${P.toFixed(0)}k`}),o.jsx(Gr,{}),g.map(P=>o.jsx($n,{type:"monotone",dataKey:P.id,name:P.name,stroke:P.color,strokeWidth:e.activeScenarioId===P.id?3:1,dot:{fill:P.color}},P.id))]})})})}),o.jsxs(Ue,{title:"Projection Cash Flow & Trsorerie",id:"scenario-cashflow",children:[o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Bas sur le scnario ",o.jsx($e,{variant:"outline",children:(T=g.find(P=>P.id===e.activeScenarioId))==null?void 0:T.name})," avec trso initiale ",J(f,!0),!e.excludeFundingFromTreasury&&` + leve ${J(h,!0)}`," "," ",o.jsx("span",{className:"italic",children:"Source: moteur de trsorerie mensuel (identique au Prvisionnel)"})]}),o.jsx("div",{className:"h-80",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Op,{data:N,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:P=>`${P}k`}),o.jsx(Ft,{formatter:P=>`${P.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"cashFlow",name:"Cash Flow",fill:"hsl(38, 92%, 50%)"}),o.jsx($n,{type:"monotone",dataKey:"treasury",name:"Trsorerie",stroke:"hsl(0, 85%, 50%)",strokeWidth:3,dot:{r:4}})]})})})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x.map(P=>o.jsx(Ue,{title:P.name,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:["CA ",c+u-1]}),o.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:J(P.revenueLastYear,!0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"TCAM"}),o.jsx("p",{className:"text-xl font-bold font-mono-numbers",children:kr(P.cagr)})]})]}),o.jsxs("div",{className:"pt-4 border-t space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Volumes"}),o.jsxs("span",{className:"font-mono-numbers",children:[P.config.volumeAdjustment>0?"+":"",(P.config.volumeAdjustment*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Prix"}),o.jsxs("span",{className:"font-mono-numbers",children:[P.config.priceAdjustment>0?"+":"",(P.config.priceAdjustment*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"OPEX"}),o.jsxs("span",{className:"font-mono-numbers",children:[P.config.opexAdjustment>0?"+":"",(P.config.opexAdjustment*100).toFixed(0),"%"]})]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground pt-2",children:[P.id==="conservative"&&"Hypothses prudentes avec volumes rduits de 20%",P.id==="base"&&"Trajectoire nominale aligne sur le Plan Produit",P.id==="ambitious"&&"Forte traction avec volumes augments de 25%"]})]})},P.id))})]})})}const Gg=e=>(e.salesB2B||0)+(e.salesB2C||0)+(e.salesOEM||0)||e.revenue,oz=e=>(e.stockVariation||0)+(e.purchasesGoods||0)+(e.transportCosts||0),lz=e=>Gg(e)-oz(e),cz=e=>(e.productionExercice||0)-(e.rawMaterials||0)-(e.subcontracting||0),uN=e=>lz(e)+cz(e),uz=e=>uN(e)-(e.otherPurchases||e.externalCosts||0),dz=e=>uz(e)+(e.operatingSubsidies||0)-(e.taxesAndDuties||0)-e.payroll,fz=e=>dz(e)+(e.otherOperatingIncome||0)-(e.otherOperatingExpenses||0)-e.depreciation,hz=e=>fz(e)+(e.financialIncome||0)-(e.financialExpenses||0),pz=e=>(e.exceptionalIncome||0)-(e.exceptionalExpenses||0),zNe=e=>hz(e)+pz(e)-(e.employeeParticipation||0)-(e.corporateTax||0),UNe=[{id:"h_ca",label:"CHIFFRE D'AFFAIRE",type:"calculated",calculate:Gg,bold:!0,highlight:!0},{id:"salesB2B",label:"Dont Ventes B2B",type:"input",field:"salesB2B",indent:2},{id:"salesB2C",label:"Dont Ventes B2C",type:"input",field:"salesB2C",indent:2},{id:"salesOEM",label:"Dont Ventes OEM",type:"input",field:"salesOEM",indent:2},{id:"sep1",label:"",type:"separator"},{id:"h_cogs",label:"- Cots d'achat des marchandises vendues",type:"calculated",calculate:oz,bold:!0,sign:"negative"},{id:"stockVariation",label:"Variation de stock",type:"input",field:"stockVariation",indent:2},{id:"purchasesGoods",label:"Achat de marchandises",type:"input",field:"purchasesGoods",indent:2},{id:"transportCosts",label:"Transport de marchandises",type:"input",field:"transportCosts",indent:2},{id:"sep2",label:"",type:"separator"},{id:"margeComm",label:"MARGE COMMERCIALE",type:"calculated",calculate:lz,bold:!0,highlight:!0},{id:"sep3",label:"",type:"separator"},{id:"prodExercice",label:"PRODUCTION DE L'EXERCICE",type:"input",field:"productionExercice"},{id:"rawMaterials",label:"- MP, appro. Consomms",type:"input",field:"rawMaterials",indent:1},{id:"subcontracting",label:"- Sous-traitance directe",type:"input",field:"subcontracting",indent:1},{id:"margeProd",label:"MARGE BRUTE DE PRODUCTION",type:"calculated",calculate:cz,bold:!0},{id:"sep4",label:"",type:"separator"},{id:"margeBrute",label:"MARGE (BRUTE GLOBALE) TOTALE",type:"calculated",calculate:uN,bold:!0,highlight:!0},{id:"otherPurchases",label:"- Autres achats & Charges externes",type:"input",field:"otherPurchases",sign:"negative"},{id:"sep5",label:"",type:"separator"},{id:"va",label:"VALEUR AJOUTE",type:"calculated",calculate:uz,bold:!0,highlight:!0},{id:"operatingSubsidies",label:"+ Subventions d'exploitation",type:"input",field:"operatingSubsidies",indent:1},{id:"taxesAndDuties",label:"- Impts, taxes et versements assimils",type:"input",field:"taxesAndDuties",indent:1,sign:"negative"},{id:"payroll",label:"- Charges de personnel",type:"input",field:"payroll",sign:"negative"},{id:"sep6",label:"",type:"separator"},{id:"ebe",label:"EXCDENT BRUT D'EXPLOITATION (EBE)",type:"calculated",calculate:dz,bold:!0,highlight:!0},{id:"otherOpIncome",label:"+ Autres produits de gestion courante",type:"input",field:"otherOperatingIncome",indent:1},{id:"depreciation",label:"- Dotations aux amortissements et aux provisions",type:"input",field:"depreciation",indent:1,sign:"negative"},{id:"otherOpExpenses",label:"- Autres charges de gestion courante",type:"input",field:"otherOperatingExpenses",indent:1,sign:"negative"},{id:"sep7",label:"",type:"separator"},{id:"rex",label:"RSULTAT D'EXPLOITATION",type:"calculated",calculate:fz,bold:!0,highlight:!0},{id:"financialIncome",label:"+ QP de rsultat positif & Produits Financiers",type:"input",field:"financialIncome",indent:1},{id:"financialExpenses",label:"- QP de rsultat ngatif & Charges Financires",type:"input",field:"financialExpenses",indent:1,sign:"negative"},{id:"sep8",label:"",type:"separator"},{id:"rcai",label:"RSULTAT COURANT AVANT IMPTS",type:"calculated",calculate:hz,bold:!0,highlight:!0},{id:"exceptionalIncome",label:"+ Produits exceptionnels",type:"input",field:"exceptionalIncome",indent:1},{id:"exceptionalExpenses",label:"- Charges exceptionnelles",type:"input",field:"exceptionalExpenses",indent:1,sign:"negative"},{id:"sep9",label:"",type:"separator"},{id:"rexcep",label:"RSULTAT EXCEPTIONNEL",type:"calculated",calculate:pz,bold:!0},{id:"employeeParticipation",label:"Participation des salaris",type:"input",field:"employeeParticipation",indent:1},{id:"corporateTax",label:"Impts sur les bnfices & CIR",type:"input",field:"corporateTax",indent:1},{id:"sep10",label:"",type:"separator"},{id:"rnet",label:"RSULTAT NET",type:"calculated",calculate:zNe,bold:!0,highlight:!0}];function VNe(e){return{year:e,revenue:0,grossMargin:0,payroll:0,externalCosts:0,depreciation:0}}function WNe({data:e,onChange:t}){const[r,n]=w.useState(new Date().getFullYear()),a=(c,u,f)=>{const d=[...e];d[c]={...d[c],[u]:f};const h=d[c],p=Gg(h);h.revenue=p;const y=uN(h);h.grossMargin=p>0?y/p:0,h.externalCosts=h.otherPurchases??h.externalCosts,t(d)},i=c=>{t(e.filter(u=>u.year!==c))},s=new Date().getFullYear(),l=Array.from({length:10},(c,u)=>s-9+u).filter(c=>!e.some(u=>u.year===c));return o.jsxs(Ue,{title:"Compte de Rsultat Historique",id:"valuation-historical",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6 p-3 bg-muted/30 rounded-lg border",children:[o.jsx("span",{className:"text-sm font-medium",children:"Ajouter une anne :"}),o.jsx("div",{className:"flex gap-1 flex-wrap",children:l.map(c=>o.jsx(ie,{size:"sm",variant:r===c?"default":"outline",className:"h-7 text-xs",onClick:()=>{if(n(c),!e.some(u=>u.year===c)){const u=[...e,VNe(c)].sort((f,d)=>f.year-d.year);t(u)}},children:c},c))})]}),e.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Slectionnez une anne ci-dessus pour commencer la saisie."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm border-collapse",children:[o.jsxs("thead",{children:[o.jsxs("tr",{className:"border-b-2 border-border",children:[o.jsx("th",{className:"text-left py-2 px-3 min-w-[280px] sticky left-0 bg-background z-10",children:"Poste"}),e.map(c=>o.jsx("th",{className:"text-center py-2 px-2 min-w-[140px]",colSpan:2,children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("span",{className:"font-bold",children:c.year}),o.jsx(ie,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-muted-foreground hover:text-destructive",onClick:()=>i(c.year),children:o.jsx(Xr,{className:"h-3 w-3"})})]})},c.year))]}),o.jsxs("tr",{className:"border-b text-xs text-muted-foreground",children:[o.jsx("th",{}),e.map(c=>o.jsx("th",{colSpan:2,className:"text-center py-1 px-2",children:o.jsxs("div",{className:"flex",children:[o.jsx("span",{className:"flex-1 text-right pr-2",children:"Montant"}),o.jsx("span",{className:"w-14 text-right",children:"% CA"})]})},c.year))]})]}),o.jsx("tbody",{children:UNe.map(c=>c.type==="separator"?o.jsx("tr",{children:o.jsx("td",{colSpan:1+e.length*2,className:"h-1"})},c.id):o.jsxs("tr",{className:re("border-b border-border/50",c.highlight&&"bg-muted/40"),children:[o.jsx("td",{className:re("py-1.5 px-3 sticky left-0 bg-background z-10",c.highlight&&"bg-muted/40",c.bold&&"font-bold",c.indent===1&&"pl-6",c.indent===2&&"pl-10","text-xs"),children:c.label}),e.map((u,f)=>{const d=Gg(u);if(c.type==="calculated"&&c.calculate){const y=c.calculate(u),m=d>0?y/d:0;return o.jsx("td",{colSpan:2,className:re("py-1.5 px-2"),children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:re("flex-1 text-right font-mono-numbers pr-2",c.bold&&"font-bold",y<0&&"text-destructive",y>0&&c.highlight&&"text-accent"),children:J(y,!0)}),o.jsx("span",{className:re("w-14 text-right text-xs font-mono-numbers",m<0?"text-destructive":"text-muted-foreground"),children:d>0?`${(m*100).toFixed(0)}%`:"-"})]})},u.year)}const h=c.field?u[c.field]??0:0,p=d>0?h/d:0;return o.jsx("td",{colSpan:2,className:"py-1 px-2",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(_e,{type:"number",value:h||"",placeholder:"0",onChange:y=>{c.field&&a(f,c.field,Number(y.target.value)||0)},className:re("h-7 text-right font-mono-numbers text-xs flex-1","border-transparent bg-transparent hover:border-border focus:border-primary focus:bg-background")}),o.jsx("span",{className:re("w-14 text-right text-xs font-mono-numbers shrink-0",p<0?"text-destructive":"text-muted-foreground"),children:d>0&&h!==0?`${(p*100).toFixed(0)}%`:"-"})]})},u.year)})]},c.id))})]})})]})}const c2=[{id:"revenue_multiple",name:"Multiple de CA",description:"Valorisation base sur un multiple du chiffre d'affaires projet",applicability:"Startups en croissance avec CA significatif"},{id:"ebitda_multiple",name:"Multiple d'EBITDA",description:"Valorisation base sur un multiple de l'EBITDA projet",applicability:"Entreprises rentables ou proches de la rentabilit"},{id:"dcf",name:"DCF Simplifi",description:"Actualisation des flux de trsorerie futurs",applicability:"Modles conomiques tablis avec visibilit long terme"},{id:"scorecard",name:"Scorecard (Comparables)",description:"Pondration de facteurs qualitatifs vs startups similaires",applicability:"Startups early-stage avec peu de mtriques financires"},{id:"berkus",name:"Mthode Berkus",description:"Attribution de valeur  5 critres cls du projet",applicability:"Pre-revenue, valuation du potentiel"},{id:"risk_factor",name:"Risk Factor Summation",description:"Ajustement d'une valorisation de base selon 12 facteurs de risque",applicability:"Startups early-stage, ajustement du risque"}];function HNe(e){return e.projectedRevenue*e.multiple}function qNe(e){return e.projectedEBITDA*e.multiple}function KNe(e){const{cashFlows:t,discountRate:r,terminalGrowthRate:n}=e;let a=0;t.forEach((c,u)=>{a+=c/Math.pow(1+r,u+1)});const l=(t[t.length-1]||0)*(1+n)/(r-n)/Math.pow(1+r,t.length);return a+l}function GNe(e){const{baseValuation:t,factors:r}=e,n={team:.3,market:.25,product:.15,competition:.1,marketing:.1,fundingNeed:.1};let a=1;return Object.entries(r).forEach(([i,s])=>{const l=n[i]||0;a+=l*s}),t*a}function YNe(e){return Object.values(e).reduce((t,r)=>t+r,0)}function XNe(e){const{baseValuation:t,factors:r}=e,a=Object.values(r).reduce((i,s)=>i+s,0)*25e4;return t+a}function ic(e,t){let r=0,n="medium",a="";switch(e){case"revenue_multiple":r=HNe(t),n=t.projectedRevenue>5e5?"high":"medium",a=`Multiple de ${t.multiple}x sur CA de ${(t.projectedRevenue/1e6).toFixed(1)}M`;break;case"ebitda_multiple":r=qNe(t),n=t.projectedEBITDA>0?"high":"low",a=`Multiple de ${t.multiple}x sur EBITDA de ${(t.projectedEBITDA/1e3).toFixed(0)}k`;break;case"dcf":r=KNe(t),n="medium",a=`Taux d'actualisation: ${(t.discountRate*100).toFixed(0)}%`;break;case"scorecard":r=GNe(t),n="low",a="Bas sur comparables secteur";break;case"berkus":r=YNe(t),n="low",a="Mthode qualitative pour early-stage";break;case"risk_factor":r=XNe(t),n="low",a="Ajustements sur 12 facteurs de risque";break}return{method:e,value:r,confidence:n,notes:a}}function QNe(e){if(e.length===0)return 0;const t={high:3,medium:2,low:1};let r=0,n=0;return e.forEach(a=>{const i=t[a.confidence];r+=a.value*i,n+=i}),n>0?r/n:0}const ZNe=[{id:"kpis",label:"KPIs Valorisation",elementId:"valuation-kpis"},{id:"historical",label:"Donnes Historiques",elementId:"valuation-historical"},{id:"methods",label:"Mthodes de Valorisation",elementId:"valuation-methods"},{id:"dilution",label:"Simulation Dilution",elementId:"valuation-dilution"}];function JNe(){const{state:e,computed:t,updateHistoricalData:r,updateValuationConfig:n,saveAll:a}=Mi(),{startYear:i,durationYears:s}=e.scenarioSettings,l=Array.from({length:s},(z,B)=>i+B),c=e.valuationConfig,u=z=>n(z),f=c.selectedMethods,d=c.valuationBasis,h=c.historicalYear,p=c.projectedYear,y=c.mixWeight,m=c.averageYears,g=c.valuationParams,v=c.dilutionConfig,x=c.exitScenarios,b=(()=>{const z=e.historicalData[e.historicalData.length-1];return z?z.revenue*z.grossMargin-z.payroll-z.externalCosts:5e5})(),_=e.fundingRounds[e.fundingRounds.length-1],j=(_==null?void 0:_.amount)||15e5;O.useEffect(()=>{(v.totalRaise!==j||v.referenceEBITDA!==b)&&u({dilutionConfig:{...v,totalRaise:j,referenceEBITDA:b}})},[j,b]);const S=Math.max(2e5,v.referenceEBITDA*v.ebitdaMultiple),C=v.totalRaise*(1-v.ocRatio),N=S+C,A=N>0?C/N:0,E=e.historicalData.map(z=>z.year),k=[...E,...l],T=(()=>{const z=Q=>{const Z=e.historicalData.find(ye=>ye.year===Q);if(!Z)return{revenue:0,ebitda:0,ebit:0};const q=Z.revenue*Z.grossMargin-Z.payroll-Z.externalCosts,de=q-Z.depreciation;return{revenue:Z.revenue,ebitda:q,ebit:de}},B=Q=>{const Z=t.revenueByYear.find(pt=>pt.year===Q),W=t.payrollByYear.find(pt=>pt.year===Q),q=t.opexByYear.find(pt=>pt.year===Q),de=t.capexByYear.find(pt=>pt.year===Q),ye=(Z==null?void 0:Z.revenue)||0,Ie=ye-((Z==null?void 0:Z.cogs)||0)-((W==null?void 0:W.payroll)||0)-((q==null?void 0:q.opex)||0),Ge=Ie-((de==null?void 0:de.depreciation)||0);return{revenue:ye,ebitda:Ie,ebit:Ge}},V=Q=>E.includes(Q)?z(Q):B(Q);if(d==="average"){if(m.length===0)return{revenue:0,ebitda:0,ebit:0};const Q=m.map(W=>V(W)),Z=Q.length;return{revenue:Q.reduce((W,q)=>W+q.revenue,0)/Z,ebitda:Q.reduce((W,q)=>W+q.ebitda,0)/Z,ebit:Q.reduce((W,q)=>W+q.ebit,0)/Z}}if(d==="historical")return z(h);if(d==="projected")return B(p);const H=z(h),ce=B(p);return{revenue:H.revenue*(1-y)+ce.revenue*y,ebitda:H.ebitda*(1-y)+ce.ebitda*y,ebit:H.ebit*(1-y)+ce.ebit*y}})(),$=(()=>{const z=[];if(f.includes("revenue_multiple")&&z.push(ic("revenue_multiple",{projectedRevenue:T.revenue,multiple:g.revenue_multiple.multiple})),f.includes("ebitda_multiple")&&z.push(ic("ebitda_multiple",{projectedEBITDA:T.ebitda,multiple:g.ebitda_multiple.multiple})),f.includes("dcf")){const B=l.map(V=>{const H=t.revenueByYear.find(W=>W.year===V),ce=t.payrollByYear.find(W=>W.year===V),Q=t.opexByYear.find(W=>W.year===V),Z=t.capexByYear.find(W=>W.year===V);return((H==null?void 0:H.revenue)||0)-((H==null?void 0:H.cogs)||0)-((ce==null?void 0:ce.payroll)||0)-((Q==null?void 0:Q.opex)||0)-((Z==null?void 0:Z.capex)||0)});z.push(ic("dcf",{cashFlows:B,discountRate:g.dcf.discountRate,terminalGrowthRate:g.dcf.terminalGrowthRate}))}return f.includes("scorecard")&&z.push(ic("scorecard",{baseValuation:g.scorecard.baseValuation,factors:{team:g.scorecard.team,market:g.scorecard.market,product:g.scorecard.product,competition:g.scorecard.competition,marketing:g.scorecard.marketing,fundingNeed:g.scorecard.fundingNeed}})),f.includes("berkus")&&z.push(ic("berkus",g.berkus)),f.includes("risk_factor")&&z.push(ic("risk_factor",{baseValuation:g.risk_factor.baseValuation,factors:{managementRisk:g.risk_factor.managementRisk,businessStage:g.risk_factor.businessStage,legislation:g.risk_factor.legislation,manufacturing:g.risk_factor.manufacturing,salesMarketing:g.risk_factor.salesMarketing,fundingCapital:g.risk_factor.fundingCapital,competition:g.risk_factor.competition,technology:g.risk_factor.technology,litigation:g.risk_factor.litigation,international:g.risk_factor.international,reputation:g.risk_factor.reputation,potentialExit:g.risk_factor.potentialExit}})),z})(),I=QNe($),M=z=>{const B=f.includes(z)?f.filter(V=>V!==z):[...f,z];u({selectedMethods:B})},D=z=>{const B=m.includes(z)?m.filter(V=>V!==z):[...m,z].sort();u({averageYears:B})},L=$.map(z=>{var B;return{name:((B=c2.find(V=>V.id===z.method))==null?void 0:B.name)||z.method,value:z.value/1e6,confidence:z.confidence}}),U=(z,B,V)=>z<=0||B<=0||V<=0?0:Math.pow(B/z,1/V)-1,X=z=>{const B=t.revenueByYear.find(ce=>ce.year===z),V=t.payrollByYear.find(ce=>ce.year===z),H=t.opexByYear.find(ce=>ce.year===z);return B?B.revenue-B.cogs-((V==null?void 0:V.payroll)||0)-((H==null?void 0:H.opex)||0):0},G=Object.entries(x).map(([z,B])=>{const V=B.year,H=X(V),ce=H*B.exitMultiple,Z=ce*A,W=V-e.scenarioSettings.startYear,q=U(C,Z,W),de=C>0?Z/C:0;return{scenario:z,year:V,exitMultiple:B.exitMultiple,probability:B.probability,ebitdaAtExit:H,exitValuation:ce,investorReturn:Z,irr:q,multiple:de}}),te=l.map(z=>{const B=t.revenueByYear.find(de=>de.year===z),V=t.payrollByYear.find(de=>de.year===z),H=t.opexByYear.find(de=>de.year===z),ce=t.capexByYear.find(de=>de.year===z),Q=(B==null?void 0:B.revenue)||0,Z=Q-((B==null?void 0:B.cogs)||0),W=Z-((V==null?void 0:V.payroll)||0)-((H==null?void 0:H.opex)||0),q=W-((ce==null?void 0:ce.depreciation)||0);return{year:z,revenue:Q/1e3,grossMargin:Z/1e3,ebitda:W/1e3,ebit:q/1e3}});return o.jsx(js,{tabKey:"valuation",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Valorisation & Analyse",subtitle:"Mthodes de valorisation, historique et simulation de dilution",height:"sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs($e,{variant:"outline",className:"text-xs",children:[f.length," mthodes slectionnes"]}),o.jsxs($e,{variant:"secondary",className:"text-xs",children:["Valorisation moyenne: ",J(I,!0)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Md,{pageTitle:"Valorisation & Analyse",sections:ZNe,fileName:"Valorisation"}),o.jsx(yd,{onSave:a,hasUnsavedChanges:e.hasUnsavedChanges,lastSaved:e.lastSaved?new Date(e.lastSaved):null})]})]}),(()=>{const z=Math.max(2e5,T.ebitda*v.ebitdaMultiple),B=v.totalRaise*(1-v.ocRatio),V=z+B,H=V>0?B/V:0,ce=G.reduce((Z,W)=>Z+W.irr*W.probability,0),Q=d==="average"?"moyenne":d==="historical"?"historique":d==="mixed"?"mixte":"projet";return o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",id:"valuation-kpis",children:[o.jsx(ot,{label:"Pre-Money (EBITDA)",value:J(z,!0),subValue:`${v.ebitdaMultiple.toFixed(1)}x EBITDA ${Q}`}),o.jsx(ot,{label:"Post-Money",value:J(V,!0),subValue:`Leve: ${J(v.totalRaise,!0)}`}),o.jsx(ot,{label:"Dilution Totale",value:kr(H),subValue:"Part investisseur"}),o.jsx(ot,{label:"TRI moyen",value:kr(ce),subValue:"Pondr par probabilit"})]})})(),o.jsxs(Ea,{defaultValue:"historical",className:"space-y-4",children:[o.jsxs(ca,{className:"flex flex-wrap",children:[o.jsx(ut,{value:"historical",children:"Historique Financier"}),o.jsx(ut,{value:"methods",children:"Mthodes de Valorisation"}),o.jsx(ut,{value:"dilution",children:"Simulation Dilution"}),o.jsx(ut,{value:"exit",children:"Scnarios de Sortie"})]}),o.jsx(vt,{value:"historical",className:"space-y-6",children:o.jsx(WNe,{data:e.historicalData,onChange:r})}),o.jsxs(vt,{value:"methods",className:"space-y-6",children:[o.jsxs(Ue,{title:"Base de Calcul",children:[o.jsx("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[{value:"historical",label:"Historique",desc:"Bas sur les donnes passes"},{value:"projected",label:"Projet",desc:"Bas sur les projections futures"},{value:"mixed",label:"Mixte",desc:"Combinaison historique + projet"},{value:"average",label:"Moyenne",desc:"Moyenne de plusieurs annes"}].map(z=>o.jsxs("button",{onClick:()=>u({valuationBasis:z.value}),className:re("p-4 rounded-lg text-left transition-colors border-2",d===z.value?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[o.jsx("div",{className:"font-medium",children:z.label}),o.jsx("div",{className:"text-xs text-muted-foreground",children:z.desc})]},z.value))}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[(d==="historical"||d==="mixed")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Anne historique de rfrence"}),o.jsx("div",{className:"flex gap-2",children:E.map(z=>o.jsx(ie,{size:"sm",variant:h===z?"default":"outline",onClick:()=>u({historicalYear:z}),children:z},z))})]}),(d==="projected"||d==="mixed")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Anne projete de rfrence"}),o.jsx("div",{className:"flex gap-2",children:l.filter((z,B)=>B>=Math.max(0,l.length-4)).map(z=>o.jsx(ie,{size:"sm",variant:p===z?"default":"outline",onClick:()=>u({projectedYear:z}),children:z},z))})]})]}),d==="average"&&o.jsxs("div",{className:"mt-4 space-y-3",children:[o.jsx(je,{children:"Slectionnez les annes de rfrence pour le calcul de la moyenne"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:k.map(z=>{const B=m.includes(z),V=E.includes(z);return o.jsxs("label",{className:re("flex items-center gap-2 px-3 py-2 rounded-lg border-2 cursor-pointer transition-colors",B?"bg-primary/10 border-primary":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[o.jsx(Rp,{checked:B,onCheckedChange:()=>D(z)}),o.jsx("span",{className:"text-sm font-medium",children:z}),o.jsx($e,{variant:"outline",className:"text-[10px]",children:V?"Hist.":"Proj."})]},z)})}),m.length>0&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.length," anne",m.length>1?"s":""," slectionne",m.length>1?"s":""," : ",m.join(", ")]})]}),d==="mixed"&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Pondration"}),o.jsxs("span",{children:[Math.round((1-y)*100),"% historique / ",Math.round(y*100),"% projet"]})]}),o.jsx(vn,{value:[y*100],onValueChange:([z])=>u({mixWeight:z/100}),min:0,max:100,step:5})]}),o.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-xs text-muted-foreground",children:["CA de rfrence",d==="average"?" (moyenne)":""]}),o.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:J(T.revenue,!0)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBITDA de rfrence",d==="average"?" (moyenne)":""]}),o.jsx("div",{className:re("text-lg font-bold font-mono-numbers",T.ebitda<0&&"text-destructive"),children:J(T.ebitda,!0)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-xs text-muted-foreground",children:["EBIT de rfrence",d==="average"?" (moyenne)":""]}),o.jsx("div",{className:re("text-lg font-bold font-mono-numbers",T.ebit<0&&"text-destructive"),children:J(T.ebit,!0)})]})]})]}),o.jsx(Ue,{title:"Slection des Mthodes",children:o.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:c2.map(z=>{const B=f.includes(z.id),V=$.find(H=>H.method===z.id);return o.jsxs("button",{onClick:()=>M(z.id),className:re("p-4 rounded-lg text-left transition-all border-2",B?"bg-primary/10 border-primary shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-sm",children:z.name}),B&&o.jsx($e,{variant:"default",className:"text-xs",children:"Actif"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:z.description}),V&&o.jsx("div",{className:"text-lg font-bold font-mono-numbers",children:J(V.value,!0)})]},z.id)})})}),$.length>0&&o.jsx(Ue,{title:"Comparaison des Valorisations",children:o.jsx("div",{className:"h-64",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Rd,{data:L,layout:"vertical",children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{type:"number",tickFormatter:z=>`${z}M`}),o.jsx(fr,{type:"category",dataKey:"name",width:120}),o.jsx(Ft,{formatter:z=>`${z.toFixed(1)}M`}),o.jsx(qt,{dataKey:"value",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})})})})]}),o.jsx(vt,{value:"dilution",className:"space-y-6",children:o.jsx($K,{config:v,onChange:z=>u({dilutionConfig:z})})}),o.jsxs(vt,{value:"exit",className:"space-y-6",children:[o.jsx(Ue,{title:"Paramtres des Scnarios de Sortie",children:o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{key:"conservative",label:"Prudent",color:"text-muted-foreground"},{key:"base",label:"Base",color:"text-primary"},{key:"ambitious",label:"Ambitieux",color:"text-green-600 dark:text-green-400"}].map(({key:z,label:B,color:V})=>o.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:re("font-medium",V),children:B}),o.jsx($e,{variant:"outline",children:x[z].year})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Multiple EBITDA sortie"}),o.jsxs("span",{className:"font-mono-numbers font-bold",children:[x[z].exitMultiple,"x"]})]}),o.jsx(vn,{value:[x[z].exitMultiple],onValueChange:([H])=>u({exitScenarios:{...x,[z]:{...x[z],exitMultiple:H}}}),min:2,max:15,step:.5})]})]},z))})}),o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:G.map(z=>o.jsx(Ue,{title:z.scenario==="conservative"?"Prudent":z.scenario==="base"?"Base":"Ambitieux",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Anne sortie"}),o.jsx("p",{className:"text-xl font-bold",children:z.year})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple EBITDA"}),o.jsxs("p",{className:"text-xl font-bold",children:[z.exitMultiple,"x"]})]})]}),o.jsxs("div",{className:"p-3 bg-muted/30 rounded",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"EBITDA  la sortie"}),o.jsx("p",{className:"font-bold font-mono-numbers",children:J(z.ebitdaAtExit,!0)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Valorisation sortie"}),o.jsx("p",{className:"font-bold font-mono-numbers",children:J(z.exitValuation,!0)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Part investisseur"}),o.jsx("p",{className:"font-bold font-mono-numbers",children:J(z.investorReturn,!0)})]})]}),o.jsxs("div",{className:"pt-4 border-t",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:"TRI"}),o.jsx("span",{className:re("font-bold font-mono-numbers",z.irr>=.25?"text-green-600 dark:text-green-400":z.irr>=.15?"text-amber-600 dark:text-amber-400":"text-destructive"),children:kr(z.irr)})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-sm",children:"Multiple"}),o.jsxs("span",{className:"font-bold font-mono-numbers",children:[z.multiple.toFixed(1),"x"]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Probabilit"}),o.jsx("span",{className:"text-muted-foreground",children:kr(z.probability)})]})]})]})},z.scenario))}),o.jsx(Ue,{title:"volution Prvisionnelle P&L",children:o.jsx("div",{className:"h-64",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(VF,{data:te,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:z=>`${z}k`}),o.jsx(Ft,{formatter:z=>`${z.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(na,{type:"monotone",dataKey:"revenue",name:"CA",stackId:"1",fill:"hsl(0, 85%, 50%)",stroke:"hsl(0, 85%, 50%)",fillOpacity:.3}),o.jsx(na,{type:"monotone",dataKey:"ebitda",name:"EBITDA",stackId:"2",fill:"hsl(38, 92%, 50%)",stroke:"hsl(38, 92%, 50%)",fillOpacity:.6}),o.jsx(na,{type:"monotone",dataKey:"ebit",name:"EBIT",stackId:"3",fill:"hsl(210, 70%, 50%)",stroke:"hsl(210, 70%, 50%)",fillOpacity:.8})]})})})})]})]})]})})}function ePe(){return o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>window.print(),children:[o.jsx(Ey,{className:"h-4 w-4 mr-1"}),"Export PDF"]})}const tPe={conservative:"Prudent",base:"Base",ambitious:"Ambitieux"};function rPe(){var T,P,$,I;const{state:e,computed:t}=Mi(),{monthlyTreasuryProjection:r}=t,{startYear:n,durationYears:a,initialCash:i}=e.scenarioSettings,s=n+a-1,l=Array.from({length:a},(M,D)=>n+D),c=w.useMemo(()=>{const M=hd(r.months);return l.map(D=>{const L=M.get(D);if(!L)return{year:D,revenue:0,cogs:0,grossMargin:0,payroll:0,opex:0,variableCharges:0,loanPayments:0,fundingInjection:0,netCashFlow:0,treasuryStart:0,treasuryEnd:0,ebitda:0,capex:0};const X=r.months.filter(G=>G.year===D).reduce((G,te)=>G+te.capexPayments,0);return{...L,capex:X}})},[r,l]),u=r.totalFundingRaised,f=i+u,d=r.minTreasury,h=((T=r.breakEvenMonth)==null?void 0:T.year)||"N/A",p=d<0,y=(P=c.find(M=>M.treasuryEnd<0))==null?void 0:P.year;w.useMemo(()=>{const M=r.months.filter(D=>D.netCashFlow<0);return M.length===0?0:Math.max(...M.map(D=>Math.abs(D.netCashFlow)))},[r]);const m=w.useMemo(()=>{const M=r.months.filter(D=>D.netCashFlow<0);return M.length===0?0:M.reduce((D,L)=>D+Math.abs(L.netCashFlow),0)/M.length},[r]),g=m>0?Math.round(f/m):99,v=c.reduce((M,D)=>M+D.revenue,0),x=c.reduce((M,D)=>M+D.payroll,0),b=c.reduce((M,D)=>M+D.opex,0),_=r.totalCapexPayments,j=c.reduce((M,D)=>M+D.cogs,0),S=x+b+_+j,C=Math.max(0,-d),N=u-C,A=c.map(M=>({year:M.year,"Cash Flow":M.netCashFlow/1e3,Trsorerie:M.treasuryEnd/1e3})),E=e.fundingRounds[e.fundingRounds.length-1],k=E?E.preMoneyValuation+E.amount:0,R=E?E.amount/k:0;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"ccd-evo",title:"Synthse Investisseur",subtitle:"Vue consolide du projet - Approche Cash",height:"sm"}),o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx($e,{variant:"default",children:tPe[e.activeScenarioId]}),o.jsxs($e,{variant:e.revenueMode==="by-product"?"outline":"secondary",className:"text-xs",children:["CA: ",e.revenueMode==="by-product"?"Par Produit":"Global Canaux"]}),o.jsxs($e,{variant:"outline",className:"text-xs",children:[n,"  ",s," (",a," ans)"]}),o.jsxs($e,{variant:"secondary",className:"text-xs gap-1",children:[o.jsx(fu,{className:"h-3 w-3"}),e.products.length," produits"]})]}),o.jsx(ePe,{})]}),p&&o.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg flex items-center gap-3",children:[o.jsx(hu,{className:"h-6 w-6 text-destructive flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold text-destructive",children:"Alerte : Trsorerie Ngative"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Solde prvu ngatif en ",y,". Point bas: ",J(d,!0),". Financement additionnel de ",J(Math.abs(d),!0)," requis."]})]})]}),o.jsxs(Ue,{title:"Approche Cash",id:"cash-approach",children:[o.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(cI,{className:"h-4 w-4"}),"Cash Initial (T0)"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:J(i,!0)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-primary/10 border border-primary/30",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(VP,{className:"h-4 w-4"}),"Montant Lev"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:J(u,!0)}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.fundingRounds.length," tour(s)"]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-accent/10 border border-accent/30",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(ch,{className:"h-4 w-4"}),"Trso Dpart"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:J(f,!0)})]}),o.jsxs("div",{className:re("p-4 rounded-lg border",d<0?"bg-destructive/10 border-destructive/30":"bg-muted/50"),children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[d<0?o.jsx(yS,{className:"h-4 w-4"}):o.jsx(Fl,{className:"h-4 w-4"}),"Point Bas"]}),o.jsx("div",{className:re("text-2xl font-bold font-mono-numbers",d<0&&"text-destructive"),children:J(d,!0)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[o.jsx(fu,{className:"h-4 w-4"}),"Break-even"]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:h}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Runway: ",g>60?"60+":g," mois"]})]})]}),o.jsx("div",{className:"h-72",children:o.jsx(an,{width:"100%",height:"100%",children:o.jsxs(Op,{data:A,children:[o.jsx(sn,{strokeDasharray:"3 3"}),o.jsx(dr,{dataKey:"year"}),o.jsx(fr,{tickFormatter:M=>`${M}k`}),o.jsx(Ft,{formatter:M=>`${M.toFixed(0)}k`}),o.jsx(Gr,{}),o.jsx(qt,{dataKey:"Cash Flow",fill:"hsl(var(--accent))"}),o.jsx($n,{type:"monotone",dataKey:"Trsorerie",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{r:4}})]})})})]}),o.jsx(Ue,{title:"Justification des Besoins",id:"needs-justification",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[o.jsx(BP,{className:"h-4 w-4"}),"Rpartition des Cots (",n,"-",s,")"]}),o.jsxs("div",{className:"space-y-3",children:[[{label:"Masse Salariale",value:x,icon:pu,color:"hsl(var(--primary))"},{label:"COGS (Cot des ventes)",value:j,icon:xp,color:"hsl(var(--chart-4))"},{label:"OPEX (Charges)",value:b,icon:BP,color:"hsl(var(--accent))"},{label:"CAPEX (R&D)",value:_,icon:ch,color:"hsl(var(--chart-1))"}].map(M=>{const D=M.icon,L=S>0?M.value/S*100:0;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(D,{className:"h-4 w-4",style:{color:M.color}}),o.jsx("span",{children:M.label})]}),o.jsx("span",{className:"font-mono-numbers font-medium",children:J(M.value,!0)})]}),o.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${L}%`,backgroundColor:M.color}})}),o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[L.toFixed(0),"%"]})]},M.label)}),o.jsxs("div",{className:"pt-3 border-t flex justify-between font-semibold",children:[o.jsx("span",{children:"Total Cots"}),o.jsx("span",{className:"font-mono-numbers",children:J(S,!0)})]})]})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[o.jsx(VP,{className:"h-4 w-4"}),"Adquation Besoin / Financement"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm",children:"Besoin de Financement"}),o.jsx($e,{variant:"secondary",children:"Calcul"})]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers",children:J(C,!0)}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Somme des cash-flows ngatifs sur la priode"})]}),o.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/30",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm",children:"Montant Lev"}),o.jsx($e,{variant:"default",children:(E==null?void 0:E.name)||"Round"})]}),o.jsx("div",{className:"text-2xl font-bold font-mono-numbers text-primary",children:J(u,!0)})]}),o.jsxs("div",{className:re("p-4 rounded-lg border-2",N>=0?"bg-chart-4/10 border-chart-4/30":"bg-destructive/10 border-destructive/30"),children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:N>=0?"Marge de Scurit":"Dficit"}),o.jsxs("span",{className:re("text-xl font-bold font-mono-numbers",N>=0?"text-chart-4":"text-destructive"),children:[N>=0?"+":"",J(N,!0)]})]}),N>=0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Buffer de ",kr(N/u)," sur le montant lev"]})]})]})]})]})}),o.jsx(Ue,{title:"Projection Dtaille",id:"detailed-projection",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b bg-muted/30",children:[o.jsx("th",{className:"text-left py-3 px-3 font-semibold",children:"Anne"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CA"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"COGS"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Marge Brute"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Masse Sal."}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"OPEX"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"EBITDA"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Amort."}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"CAPEX"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Cash Flow"}),o.jsx("th",{className:"text-right py-3 px-3 font-semibold",children:"Trsorerie"})]})}),o.jsx("tbody",{children:c.map(M=>o.jsxs("tr",{className:re("border-b hover:bg-muted/20",M.treasuryEnd<0&&"bg-destructive/5"),children:[o.jsx("td",{className:"py-3 px-3 font-semibold",children:M.year}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:J(M.revenue,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:J(M.cogs,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:J(M.grossMargin,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:J(M.payroll,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:J(M.opex,!0)}),o.jsx("td",{className:re("py-3 px-3 text-right font-mono-numbers font-medium",M.ebitda>=0?"text-chart-4":"text-destructive"),children:J(M.ebitda,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:"-"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers text-muted-foreground",children:J(M.capex,!0)}),o.jsxs("td",{className:re("py-3 px-3 text-right font-mono-numbers font-medium",M.netCashFlow>=0?"text-chart-4":"text-accent"),children:[M.netCashFlow>=0?"+":"",J(M.netCashFlow,!0)]}),o.jsx("td",{className:re("py-3 px-3 text-right font-mono-numbers font-bold",M.treasuryEnd<0&&"text-destructive"),children:J(M.treasuryEnd,!0)})]},M.year))}),o.jsx("tfoot",{children:o.jsxs("tr",{className:"border-t-2 bg-muted/30 font-semibold",children:[o.jsx("td",{className:"py-3 px-3",children:"TOTAL"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:J(v,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:J(j,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:J(v-j,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:J(x,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:J(b,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:J(_,!0)}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:"-"}),o.jsx("td",{className:"py-3 px-3 text-right font-mono-numbers",children:J((($=c[c.length-1])==null?void 0:$.treasuryEnd)||0,!0)})]})})]})})}),o.jsxs(Ue,{title:"Valorisation & Tours",id:"valuation",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[o.jsx(ot,{label:"Pre-Money",value:J((E==null?void 0:E.preMoneyValuation)||0,!0),subValue:(E==null?void 0:E.name)||"-"}),o.jsx(ot,{label:"Post-Money",value:J(k,!0),subValue:"Aprs leve"}),o.jsx(ot,{label:"Dilution",value:kr(R),subValue:"Part cde",trend:R>.25?"down":void 0}),o.jsx(ot,{label:"Multiple CA",value:v>0?`${(k/(((I=c[c.length-1])==null?void 0:I.revenue)||1)).toFixed(1)}x`:"-",subValue:`sur CA ${s}`})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.fundingRounds.map(M=>o.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold",children:M.name}),o.jsx($e,{variant:"outline",className:"text-xs mt-1",children:M.year})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"text-xl font-bold font-mono-numbers text-primary",children:J(M.amount,!0)})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[o.jsxs("div",{children:[o.jsx("span",{children:"Pre-money:"}),o.jsx("span",{className:"font-mono-numbers ml-1",children:J(M.preMoneyValuation,!0)})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{children:"Dilution:"}),o.jsx("span",{className:"font-mono-numbers ml-1",children:kr(M.amount/(M.preMoneyValuation+M.amount))})]})]})]},M.id))})]})]})}var gt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),s={};for(const l of i)s[l]=a[l];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(gt||(gt={}));var u2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(u2||(u2={}));const ke=gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Is=e=>{switch(typeof e){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(e)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(e)?ke.array:e===null?ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ke.promise:typeof Map<"u"&&e instanceof Map?ke.map:typeof Set<"u"&&e instanceof Set?ke.set:typeof Date<"u"&&e instanceof Date?ke.date:ke.object;default:return ke.unknown}},me=gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let l=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof fs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}fs.create=e=>new fs(e);const Jj=(e,t)=>{let r;switch(e.code){case me.invalid_type:e.received===ke.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,gt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:r=`Unrecognized key(s) in object: ${gt.joinValues(e.keys,", ")}`;break;case me.invalid_union:r="Invalid input";break;case me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${gt.joinValues(e.options)}`;break;case me.invalid_enum_value:r=`Invalid enum value. Expected ${gt.joinValues(e.options)}, received '${e.received}'`;break;case me.invalid_arguments:r="Invalid function arguments";break;case me.invalid_return_type:r="Invalid function return type";break;case me.invalid_date:r="Invalid date";break;case me.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:gt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case me.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case me.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case me.custom:r="Invalid input";break;case me.invalid_intersection_types:r="Intersection results could not be merged";break;case me.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case me.not_finite:r="Number must be finite";break;default:r=t.defaultError,gt.assertNever(e)}return{message:r}};let nPe=Jj;function aPe(){return nPe}const iPe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Se(e,t){const r=aPe(),n=iPe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Jj?void 0:Jj].filter(a=>!!a)});e.common.issues.push(n)}class ia{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Qe;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return ia.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return Qe;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}}const Qe=Object.freeze({status:"aborted"}),yf=e=>({status:"dirty",value:e}),Aa=e=>({status:"valid",value:e}),d2=e=>e.status==="aborted",f2=e=>e.status==="dirty",Gu=e=>e.status==="valid",Yg=e=>typeof Promise<"u"&&e instanceof Promise;var Re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Re||(Re={}));class wo{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const h2=(e,t)=>{if(Gu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new fs(e.common.issues);return this._error=r,this._error}}};function lt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,l)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class ht{get description(){return this._def.description}_getType(t){return Is(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ia,ctx:{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Yg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},a=this._parseSync({data:t,path:n.path,parent:n});return h2(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Gu(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Gu(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Yg(a)?a:Promise.resolve(a));return h2(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=t(a),l=()=>i.addIssue({code:me.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Xu({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return po.create(this,this._def)}nullable(){return Qu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ei.create(this)}promise(){return Jg.create(this,this._def)}or(t){return Qg.create([this,t],this._def)}and(t){return Zg.create(this,t,this._def)}transform(t){return new Xu({...lt(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new t_({...lt(this._def),innerType:this,defaultValue:r,typeName:Ze.ZodDefault})}brand(){return new EPe({typeName:Ze.ZodBranded,type:this,...lt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new r_({...lt(this._def),innerType:this,catchValue:r,typeName:Ze.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return dN.create(this,t)}readonly(){return n_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sPe=/^c[^\s-]{8,}$/i,oPe=/^[0-9a-z]+$/,lPe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cPe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uPe=/^[a-z0-9_-]{21}$/i,dPe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fPe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hPe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pPe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ib;const mPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xPe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bPe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wPe=new RegExp(`^${mz}$`);function vz(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function jPe(e){return new RegExp(`^${vz(e)}$`)}function _Pe(e){let t=`${mz}T${vz(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function SPe(e,t){return!!((t==="v4"||!t)&&mPe.test(e)||(t==="v6"||!t)&&gPe.test(e))}function CPe(e,t){if(!dPe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function NPe(e,t){return!!((t==="v4"||!t)&&vPe.test(e)||(t==="v6"||!t)&&yPe.test(e))}class Zs extends ht{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ke.string){const i=this._getOrReturnCtx(t);return Se(i,{code:me.invalid_type,expected:ke.string,received:i.parsedType}),Qe}const n=new ia;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,l=t.data.length<i.value;(s||l)&&(a=this._getOrReturnCtx(t,a),s?Se(a,{code:me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Se(a,{code:me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")hPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"email",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ib||(Ib=new RegExp(pPe,"u")),Ib.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"emoji",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")cPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"uuid",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")uPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"nanoid",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")sPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")oPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid2",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")lPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ulid",code:me.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Se(a,{validation:"url",code:me.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"regex",code:me.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?_Pe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?wPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?jPe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:me.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?fPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"duration",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?SPe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ip",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?CPe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"jwt",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?NPe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cidr",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?xPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64",code:me.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?bPe.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64url",code:me.invalid_string,message:i.message}),n.dirty()):gt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:me.invalid_string,...Re.errToObj(n)})}_addCheck(t){return new Zs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Re.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Re.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Re.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Re.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Re.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Re.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Re.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Re.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Re.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Re.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Re.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Re.errToObj(r)})}nonempty(t){return this.min(1,Re.errToObj(t))}trim(){return new Zs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zs.create=e=>new Zs({checks:[],typeName:Ze.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...lt(e)});function PPe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return i%s/10**a}class op extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ke.number){const i=this._getOrReturnCtx(t);return Se(i,{code:me.invalid_type,expected:ke.number,received:i.parsedType}),Qe}let n;const a=new ia;for(const i of this._def.checks)i.kind==="int"?gt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:me.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?PPe(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:me.not_finite,message:i.message}),a.dirty()):gt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,a){return new op({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(a)}]})}_addCheck(t){return new op({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&gt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}op.create=e=>new op({checks:[],typeName:Ze.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...lt(e)});class lp extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ke.bigint)return this._getInvalidInput(t);let n;const a=new ia;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:me.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):gt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:ke.bigint,received:r.parsedType}),Qe}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,a){return new lp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(a)}]})}_addCheck(t){return new lp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}lp.create=e=>new lp({checks:[],typeName:Ze.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...lt(e)});class p2 extends ht{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ke.boolean){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.boolean,received:n.parsedType}),Qe}return Aa(t.data)}}p2.create=e=>new p2({typeName:Ze.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...lt(e)});class Xg extends ht{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ke.date){const i=this._getOrReturnCtx(t);return Se(i,{code:me.invalid_type,expected:ke.date,received:i.parsedType}),Qe}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Se(i,{code:me.invalid_date}),Qe}const n=new ia;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:me.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:me.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):gt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Xg({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Re.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Re.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Xg.create=e=>new Xg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ze.ZodDate,...lt(e)});class m2 extends ht{_parse(t){if(this._getType(t)!==ke.symbol){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.symbol,received:n.parsedType}),Qe}return Aa(t.data)}}m2.create=e=>new m2({typeName:Ze.ZodSymbol,...lt(e)});class v2 extends ht{_parse(t){if(this._getType(t)!==ke.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.undefined,received:n.parsedType}),Qe}return Aa(t.data)}}v2.create=e=>new v2({typeName:Ze.ZodUndefined,...lt(e)});class g2 extends ht{_parse(t){if(this._getType(t)!==ke.null){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.null,received:n.parsedType}),Qe}return Aa(t.data)}}g2.create=e=>new g2({typeName:Ze.ZodNull,...lt(e)});class y2 extends ht{constructor(){super(...arguments),this._any=!0}_parse(t){return Aa(t.data)}}y2.create=e=>new y2({typeName:Ze.ZodAny,...lt(e)});class x2 extends ht{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Aa(t.data)}}x2.create=e=>new x2({typeName:Ze.ZodUnknown,...lt(e)});class jo extends ht{_parse(t){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:ke.never,received:r.parsedType}),Qe}}jo.create=e=>new jo({typeName:Ze.ZodNever,...lt(e)});class b2 extends ht{_parse(t){if(this._getType(t)!==ke.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.void,received:n.parsedType}),Qe}return Aa(t.data)}}b2.create=e=>new b2({typeName:Ze.ZodVoid,...lt(e)});class Ei extends ht{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ke.array)return Se(r,{code:me.invalid_type,expected:ke.array,received:r.parsedType}),Qe;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(s||l)&&(Se(r,{code:s?me.too_big:me.too_small,minimum:l?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Se(r,{code:me.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Se(r,{code:me.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>a.type._parseAsync(new wo(r,s,r.path,l)))).then(s=>ia.mergeArray(n,s));const i=[...r.data].map((s,l)=>a.type._parseSync(new wo(r,s,r.path,l)));return ia.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ei({...this._def,minLength:{value:t,message:Re.toString(r)}})}max(t,r){return new Ei({...this._def,maxLength:{value:t,message:Re.toString(r)}})}length(t,r){return new Ei({...this._def,exactLength:{value:t,message:Re.toString(r)}})}nonempty(t){return this.min(1,t)}}Ei.create=(e,t)=>new Ei({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...lt(t)});function fc(e){if(e instanceof ir){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=po.create(fc(n))}return new ir({...e._def,shape:()=>t})}else return e instanceof Ei?new Ei({...e._def,type:fc(e.element)}):e instanceof po?po.create(fc(e.unwrap())):e instanceof Qu?Qu.create(fc(e.unwrap())):e instanceof $l?$l.create(e.items.map(t=>fc(t))):e}class ir extends ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=gt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ke.object){const u=this._getOrReturnCtx(t);return Se(u,{code:me.invalid_type,expected:ke.object,received:u.parsedType}),Qe}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof jo&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const f=i[u],d=a.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new wo(a,d,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof jo){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(u==="strict")l.length>0&&(Se(a,{code:me.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const d=a.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new wo(a,d,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,h=await f.value;u.push({key:d,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>ia.mergeObjectSync(n,u)):ia.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Re.errToObj,new ir({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Re.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new ir({...this._def,unknownKeys:"strip"})}passthrough(){return new ir({...this._def,unknownKeys:"passthrough"})}extend(t){return new ir({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ir({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ze.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ir({...this._def,catchall:t})}pick(t){const r={};for(const n of gt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ir({...this._def,shape:()=>r})}omit(t){const r={};for(const n of gt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new ir({...this._def,shape:()=>r})}deepPartial(){return fc(this)}partial(t){const r={};for(const n of gt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new ir({...this._def,shape:()=>r})}required(t){const r={};for(const n of gt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof po;)i=i._def.innerType;r[n]=i}return new ir({...this._def,shape:()=>r})}keyof(){return gz(gt.objectKeys(this.shape))}}ir.create=(e,t)=>new ir({shape:()=>e,unknownKeys:"strip",catchall:jo.create(),typeName:Ze.ZodObject,...lt(t)});ir.strictCreate=(e,t)=>new ir({shape:()=>e,unknownKeys:"strict",catchall:jo.create(),typeName:Ze.ZodObject,...lt(t)});ir.lazycreate=(e,t)=>new ir({shape:e,unknownKeys:"strip",catchall:jo.create(),typeName:Ze.ZodObject,...lt(t)});class Qg extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=i.map(l=>new fs(l.ctx.common.issues));return Se(r,{code:me.invalid_union,unionErrors:s}),Qe}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=s.map(c=>new fs(c));return Se(r,{code:me.invalid_union,unionErrors:l}),Qe}}get options(){return this._def.options}}Qg.create=(e,t)=>new Qg({options:e,typeName:Ze.ZodUnion,...lt(t)});function e_(e,t){const r=Is(e),n=Is(t);if(e===t)return{valid:!0,data:e};if(r===ke.object&&n===ke.object){const a=gt.objectKeys(t),i=gt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),s={...e,...t};for(const l of i){const c=e_(e[l],t[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(r===ke.array&&n===ke.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],l=t[i],c=e_(s,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ke.date&&n===ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zg extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,s)=>{if(d2(i)||d2(s))return Qe;const l=e_(i.value,s.value);return l.valid?((f2(i)||f2(s))&&r.dirty(),{status:r.value,value:l.data}):(Se(n,{code:me.invalid_intersection_types}),Qe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Zg.create=(e,t,r)=>new Zg({left:e,right:t,typeName:Ze.ZodIntersection,...lt(r)});class $l extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.array)return Se(n,{code:me.invalid_type,expected:ke.array,received:n.parsedType}),Qe;if(n.data.length<this._def.items.length)return Se(n,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&n.data.length>this._def.items.length&&(Se(n,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new wo(n,s,n.path,l)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>ia.mergeArray(r,s)):ia.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new $l({...this._def,rest:t})}}$l.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $l({items:e,typeName:Ze.ZodTuple,rest:null,...lt(t)})};class w2 extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.map)return Se(n,{code:me.invalid_type,expected:ke.map,received:n.parsedType}),Qe;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new wo(n,l,n.path,[u,"key"])),value:i._parse(new wo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return Qe;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return Qe;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}w2.create=(e,t,r)=>new w2({valueType:t,keyType:e,typeName:Ze.ZodMap,...lt(r)});class cp extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.set)return Se(n,{code:me.invalid_type,expected:ke.set,received:n.parsedType}),Qe;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Se(n,{code:me.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Se(n,{code:me.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const f of c){if(f.status==="aborted")return Qe;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new wo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(t,r){return new cp({...this._def,minSize:{value:t,message:Re.toString(r)}})}max(t,r){return new cp({...this._def,maxSize:{value:t,message:Re.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}cp.create=(e,t)=>new cp({valueType:e,minSize:null,maxSize:null,typeName:Ze.ZodSet,...lt(t)});class j2 extends ht{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}j2.create=(e,t)=>new j2({getter:e,typeName:Ze.ZodLazy,...lt(t)});class _2 extends ht{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Se(r,{received:r.data,code:me.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:t.data}}get value(){return this._def.value}}_2.create=(e,t)=>new _2({value:e,typeName:Ze.ZodLiteral,...lt(t)});function gz(e,t){return new Yu({values:e,typeName:Ze.ZodEnum,...lt(t)})}class Yu extends ht{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{expected:gt.joinValues(n),received:r.parsedType,code:me.invalid_type}),Qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{received:r.data,code:me.invalid_enum_value,options:n}),Qe}return Aa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Yu.create(t,{...this._def,...r})}exclude(t,r=this._def){return Yu.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Yu.create=gz;class S2 extends ht{_parse(t){const r=gt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ke.string&&n.parsedType!==ke.number){const a=gt.objectValues(r);return Se(n,{expected:gt.joinValues(a),received:n.parsedType,code:me.invalid_type}),Qe}if(this._cache||(this._cache=new Set(gt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=gt.objectValues(r);return Se(n,{received:n.data,code:me.invalid_enum_value,options:a}),Qe}return Aa(t.data)}get enum(){return this._def.values}}S2.create=(e,t)=>new S2({values:e,typeName:Ze.ZodNativeEnum,...lt(t)});class Jg extends ht{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ke.promise&&r.common.async===!1)return Se(r,{code:me.invalid_type,expected:ke.promise,received:r.parsedType}),Qe;const n=r.parsedType===ke.promise?r.data:Promise.resolve(r.data);return Aa(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Jg.create=(e,t)=>new Jg({type:e,typeName:Ze.ZodPromise,...lt(t)});class Xu extends ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:s=>{Se(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return Qe;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Qe:c.status==="dirty"||r.value==="dirty"?yf(c.value):c});{if(r.value==="aborted")return Qe;const l=this._def.schema._parseSync({data:s,path:n.path,parent:n});return l.status==="aborted"?Qe:l.status==="dirty"||r.value==="dirty"?yf(l.value):l}}if(a.type==="refinement"){const s=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Qe:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Qe:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gu(s))return Qe;const l=a.transform(s.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Gu(s)?Promise.resolve(a.transform(s.value,i)).then(l=>({status:r.value,value:l})):Qe);gt.assertNever(a)}}Xu.create=(e,t,r)=>new Xu({schema:e,typeName:Ze.ZodEffects,effect:t,...lt(r)});Xu.createWithPreprocess=(e,t,r)=>new Xu({schema:t,effect:{type:"preprocess",transform:e},typeName:Ze.ZodEffects,...lt(r)});class po extends ht{_parse(t){return this._getType(t)===ke.undefined?Aa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}po.create=(e,t)=>new po({innerType:e,typeName:Ze.ZodOptional,...lt(t)});class Qu extends ht{_parse(t){return this._getType(t)===ke.null?Aa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qu.create=(e,t)=>new Qu({innerType:e,typeName:Ze.ZodNullable,...lt(t)});class t_ extends ht{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}t_.create=(e,t)=>new t_({innerType:e,typeName:Ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...lt(t)});class r_ extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Yg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fs(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new fs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}r_.create=(e,t)=>new r_({innerType:e,typeName:Ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...lt(t)});class C2 extends ht{_parse(t){if(this._getType(t)!==ke.nan){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:ke.nan,received:n.parsedType}),Qe}return{status:"valid",value:t.data}}}C2.create=e=>new C2({typeName:Ze.ZodNaN,...lt(e)});class EPe extends ht{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class dN extends ht{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Qe:i.status==="dirty"?(r.dirty(),yf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Qe:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new dN({in:t,out:r,typeName:Ze.ZodPipeline})}}class n_ extends ht{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Gu(a)&&(a.value=Object.freeze(a.value)),a);return Yg(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}n_.create=(e,t)=>new n_({innerType:e,typeName:Ze.ZodReadonly,...lt(t)});ir.lazycreate;var Ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const zf=Zs.create;jo.create;Ei.create;const yz=ir.create;ir.strictCreate;Qg.create;Zg.create;$l.create;Yu.create;Jg.create;po.create;Qu.create;var $p=e=>e.type==="checkbox",ll=e=>e instanceof Date,pn=e=>e==null;const xz=e=>typeof e=="object";var hr=e=>!pn(e)&&!Array.isArray(e)&&xz(e)&&!ll(e),bz=e=>hr(e)&&e.target?$p(e.target)?e.target.checked:e.target.value:e,APe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,wz=(e,t)=>e.has(APe(t)),kPe=e=>{const t=e.constructor&&e.constructor.prototype;return hr(t)&&t.hasOwnProperty("isPrototypeOf")},fN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Nr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(fN&&(e instanceof Blob||n))&&(r||hr(e)))if(t=r?[]:{},!r&&!kPe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Nr(e[a]));else return e;return t}var t0=e=>/^\w*$/.test(e),cr=e=>e===void 0,hN=e=>Array.isArray(e)?e.filter(Boolean):[],pN=e=>hN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),xe=(e,t,r)=>{if(!t||!hr(e))return r;const n=(t0(t)?[t]:pN(t)).reduce((a,i)=>pn(a)?a:a[i],e);return cr(n)||n===e?cr(e[t])?r:e[t]:n},Yn=e=>typeof e=="boolean",_t=(e,t,r)=>{let n=-1;const a=t0(t)?[t]:pN(t),i=a.length,s=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==s){const u=e[l];c=hr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const ey={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ya={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mN=O.createContext(null);mN.displayName="HookFormContext";const r0=()=>O.useContext(mN),OPe=e=>{const{children:t,...r}=e;return O.createElement(mN.Provider,{value:r},t)};var jz=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==Ya.all&&(t._proxyFormState[s]=!n||Ya.all),r&&(r[s]=!0),e[s]}});return a};const vN=typeof window<"u"?O.useLayoutEffect:O.useEffect;function TPe(e){const t=r0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[s,l]=O.useState(r._formState),c=O.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vN(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),O.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),O.useMemo(()=>jz(s,r,c.current,!1),[s,r])}var bi=e=>typeof e=="string",_z=(e,t,r,n,a)=>bi(e)?(n&&t.watch.add(e),xe(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),xe(r,i))):(n&&(t.watchAll=!0),r),a_=e=>pn(e)||!xz(e);function Ki(e,t,r=new WeakSet){if(a_(e)||a_(t))return e===t;if(ll(e)&&ll(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const s=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ll(s)&&ll(l)||hr(s)&&hr(l)||Array.isArray(s)&&Array.isArray(l)?!Ki(s,l,r):s!==l)return!1}}return!0}function RPe(e){const t=r0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:s,compute:l}=e||{},c=O.useRef(a),u=O.useRef(l),f=O.useRef(void 0);u.current=l;const d=O.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,p]=O.useState(u.current?u.current(d):d);return vN(()=>r._subscribe({name:n,formState:{values:!0},exact:s,callback:y=>{if(!i){const m=_z(n,r._names,y.values||r._formValues,!1,c.current);if(u.current){const g=u.current(m);Ki(g,f.current)||(p(g),f.current=g)}else p(m)}}}),[r,i,n,s]),O.useEffect(()=>r._removeUnmounted()),h}function MPe(e){const t=r0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:s}=e,l=wz(a._names.array,r),c=O.useMemo(()=>xe(a._formValues,r,xe(a._defaultValues,r,s)),[a,r,s]),u=RPe({control:a,name:r,defaultValue:c,exact:!0}),f=TPe({control:a,name:r,exact:!0}),d=O.useRef(e),h=O.useRef(a.register(r,{...e.rules,value:u,...Yn(e.disabled)?{disabled:e.disabled}:{}}));d.current=e;const p=O.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!xe(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!xe(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!xe(f.validatingFields,r)},error:{enumerable:!0,get:()=>xe(f.errors,r)}}),[f,r]),y=O.useCallback(x=>h.current.onChange({target:{value:bz(x),name:r},type:ey.CHANGE}),[r]),m=O.useCallback(()=>h.current.onBlur({target:{value:xe(a._formValues,r),name:r},type:ey.BLUR}),[r,a._formValues]),g=O.useCallback(x=>{const b=xe(a._fields,r);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:_=>x.setCustomValidity(_),reportValidity:()=>x.reportValidity()})},[a._fields,r]),v=O.useMemo(()=>({name:r,value:u,...Yn(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:y,onBlur:m,ref:g}),[r,n,f.disabled,y,m,g,u]);return O.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...Yn(d.current.disabled)?{disabled:d.current.disabled}:{}});const b=(_,j)=>{const S=xe(a._fields,_);S&&S._f&&(S._f.mount=j)};if(b(r,!0),x){const _=Nr(xe(a._options.defaultValues,r));_t(a._defaultValues,r,_),cr(xe(a._formValues,r))&&_t(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?x&&!a._state.action:x)?a.unregister(r):b(r,!1)}},[r,a,l,i]),O.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),O.useMemo(()=>({field:v,formState:f,fieldState:p}),[v,f,p])}const $Pe=e=>e.render(MPe(e));var Sz=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Uf=e=>Array.isArray(e)?e:[e],N2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},kn=e=>hr(e)&&!Object.keys(e).length,gN=e=>e.type==="file",Xa=e=>typeof e=="function",ty=e=>{if(!fN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Cz=e=>e.type==="select-multiple",yN=e=>e.type==="radio",IPe=e=>yN(e)||$p(e),Db=e=>ty(e)&&e.isConnected;function DPe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=cr(e)?n++:e[t[n++]];return e}function LPe(e){for(const t in e)if(e.hasOwnProperty(t)&&!cr(e[t]))return!1;return!0}function pr(e,t){const r=Array.isArray(t)?t:t0(t)?[t]:pN(t),n=r.length===1?e:DPe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(hr(n)&&kn(n)||Array.isArray(n)&&LPe(n))&&pr(e,r.slice(0,-1)),e}var Nz=e=>{for(const t in e)if(Xa(e[t]))return!0;return!1};function ry(e,t={}){const r=Array.isArray(e);if(hr(e)||r)for(const n in e)Array.isArray(e[n])||hr(e[n])&&!Nz(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ry(e[n],t[n])):pn(e[n])||(t[n]=!0);return t}function Pz(e,t,r){const n=Array.isArray(e);if(hr(e)||n)for(const a in e)Array.isArray(e[a])||hr(e[a])&&!Nz(e[a])?cr(t)||a_(r[a])?r[a]=Array.isArray(e[a])?ry(e[a],[]):{...ry(e[a])}:Pz(e[a],pn(t)?{}:t[a],r[a]):r[a]=!Ki(e[a],t[a]);return r}var af=(e,t)=>Pz(e,t,ry(t));const P2={value:!1,isValid:!1},E2={value:!0,isValid:!0};var Ez=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!cr(e[0].attributes.value)?cr(e[0].value)||e[0].value===""?E2:{value:e[0].value,isValid:!0}:E2:P2}return P2},Az=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>cr(e)?e:t?e===""?NaN:e&&+e:r&&bi(e)?new Date(e):n?n(e):e;const A2={isValid:!1,value:null};var kz=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,A2):A2;function k2(e){const t=e.ref;return gN(t)?t.files:yN(t)?kz(e.refs).value:Cz(t)?[...t.selectedOptions].map(({value:r})=>r):$p(t)?Ez(e.refs).value:Az(cr(t.value)?e.ref.value:t.value,e)}var FPe=(e,t,r,n)=>{const a={};for(const i of e){const s=xe(t,i);s&&_t(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},ny=e=>e instanceof RegExp,sf=e=>cr(e)?e:ny(e)?e.source:hr(e)?ny(e.value)?e.value.source:e.value:e,O2=e=>({isOnSubmit:!e||e===Ya.onSubmit,isOnBlur:e===Ya.onBlur,isOnChange:e===Ya.onChange,isOnAll:e===Ya.all,isOnTouch:e===Ya.onTouched});const T2="AsyncFunction";var BPe=e=>!!e&&!!e.validate&&!!(Xa(e.validate)&&e.validate.constructor.name===T2||hr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===T2)),zPe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),R2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vf=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=xe(e,a);if(i){const{_f:s,...l}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(Vf(l,t))break}else if(hr(l)&&Vf(l,t))break}}};function M2(e,t,r){const n=xe(e,r);if(n||t0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=xe(t,i),l=xe(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var UPe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return kn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||Ya.all))},VPe=(e,t,r)=>!e||!t||e===t||Uf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),WPe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,HPe=(e,t)=>!hN(xe(e,t)).length&&pr(e,t),qPe=(e,t,r)=>{const n=Uf(xe(e,r));return _t(n,"root",t[r]),_t(e,r,n),e},ev=e=>bi(e);function $2(e,t,r="validate"){if(ev(e)||Array.isArray(e)&&e.every(ev)||Yn(e)&&!e)return{type:r,message:ev(e)?e:"",ref:t}}var sc=e=>hr(e)&&!ny(e)?e:{value:e,message:""},I2=async(e,t,r,n,a,i)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:f,min:d,max:h,pattern:p,validate:y,name:m,valueAsNumber:g,mount:v}=e._f,x=xe(r,m);if(!v||t.has(m))return{};const b=l?l[0]:s,_=R=>{a&&b.reportValidity&&(b.setCustomValidity(Yn(R)?"":R||""),b.reportValidity())},j={},S=yN(s),C=$p(s),N=S||C,A=(g||gN(s))&&cr(s.value)&&cr(x)||ty(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,E=Sz.bind(null,m,n,j),k=(R,T,P,$=Bi.maxLength,I=Bi.minLength)=>{const M=R?T:P;j[m]={type:R?$:I,message:M,ref:s,...E(R?$:I,M)}};if(i?!Array.isArray(x)||!x.length:c&&(!N&&(A||pn(x))||Yn(x)&&!x||C&&!Ez(l).isValid||S&&!kz(l).isValid)){const{value:R,message:T}=ev(c)?{value:!!c,message:c}:sc(c);if(R&&(j[m]={type:Bi.required,message:T,ref:b,...E(Bi.required,T)},!n))return _(T),j}if(!A&&(!pn(d)||!pn(h))){let R,T;const P=sc(h),$=sc(d);if(!pn(x)&&!isNaN(x)){const I=s.valueAsNumber||x&&+x;pn(P.value)||(R=I>P.value),pn($.value)||(T=I<$.value)}else{const I=s.valueAsDate||new Date(x),M=U=>new Date(new Date().toDateString()+" "+U),D=s.type=="time",L=s.type=="week";bi(P.value)&&x&&(R=D?M(x)>M(P.value):L?x>P.value:I>new Date(P.value)),bi($.value)&&x&&(T=D?M(x)<M($.value):L?x<$.value:I<new Date($.value))}if((R||T)&&(k(!!R,P.message,$.message,Bi.max,Bi.min),!n))return _(j[m].message),j}if((u||f)&&!A&&(bi(x)||i&&Array.isArray(x))){const R=sc(u),T=sc(f),P=!pn(R.value)&&x.length>+R.value,$=!pn(T.value)&&x.length<+T.value;if((P||$)&&(k(P,R.message,T.message),!n))return _(j[m].message),j}if(p&&!A&&bi(x)){const{value:R,message:T}=sc(p);if(ny(R)&&!x.match(R)&&(j[m]={type:Bi.pattern,message:T,ref:s,...E(Bi.pattern,T)},!n))return _(T),j}if(y){if(Xa(y)){const R=await y(x,r),T=$2(R,b);if(T&&(j[m]={...T,...E(Bi.validate,T.message)},!n))return _(T.message),j}else if(hr(y)){let R={};for(const T in y){if(!kn(R)&&!n)break;const P=$2(await y[T](x,r),b,T);P&&(R={...P,...E(T,P.message)},_(P.message),n&&(j[m]=R))}if(!kn(R)&&(j[m]={ref:b,...R},!n))return j}}return _(!0),j};const KPe={mode:Ya.onSubmit,reValidateMode:Ya.onChange,shouldFocusError:!0};function GPe(e={}){let t={...KPe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=hr(t.defaultValues)||hr(t.values)?Nr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Nr(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...f};const h={array:N2(),state:N2()},p=t.criteriaMode===Ya.all,y=F=>K=>{clearTimeout(u),u=setTimeout(F,K)},m=async F=>{if(!t.disabled&&(f.isValid||d.isValid||F)){const K=t.resolver?kn((await C()).errors):await A(n,!0);K!==r.isValid&&h.state.next({isValid:K})}},g=(F,K)=>{!t.disabled&&(f.isValidating||f.validatingFields||d.isValidating||d.validatingFields)&&((F||Array.from(l.mount)).forEach(ee=>{ee&&(K?_t(r.validatingFields,ee,K):pr(r.validatingFields,ee))}),h.state.next({validatingFields:r.validatingFields,isValidating:!kn(r.validatingFields)}))},v=(F,K=[],ee,ve,ae=!0,ue=!0)=>{if(ve&&ee&&!t.disabled){if(s.action=!0,ue&&Array.isArray(xe(n,F))){const ge=ee(xe(n,F),ve.argA,ve.argB);ae&&_t(n,F,ge)}if(ue&&Array.isArray(xe(r.errors,F))){const ge=ee(xe(r.errors,F),ve.argA,ve.argB);ae&&_t(r.errors,F,ge),HPe(r.errors,F)}if((f.touchedFields||d.touchedFields)&&ue&&Array.isArray(xe(r.touchedFields,F))){const ge=ee(xe(r.touchedFields,F),ve.argA,ve.argB);ae&&_t(r.touchedFields,F,ge)}(f.dirtyFields||d.dirtyFields)&&(r.dirtyFields=af(a,i)),h.state.next({name:F,isDirty:k(F,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _t(i,F,K)},x=(F,K)=>{_t(r.errors,F,K),h.state.next({errors:r.errors})},b=F=>{r.errors=F,h.state.next({errors:r.errors,isValid:!1})},_=(F,K,ee,ve)=>{const ae=xe(n,F);if(ae){const ue=xe(i,F,cr(ee)?xe(a,F):ee);cr(ue)||ve&&ve.defaultChecked||K?_t(i,F,K?ue:k2(ae._f)):P(F,ue),s.mount&&m()}},j=(F,K,ee,ve,ae)=>{let ue=!1,ge=!1;const Be={name:F};if(!t.disabled){if(!ee||ve){(f.isDirty||d.isDirty)&&(ge=r.isDirty,r.isDirty=Be.isDirty=k(),ue=ge!==Be.isDirty);const qe=Ki(xe(a,F),K);ge=!!xe(r.dirtyFields,F),qe?pr(r.dirtyFields,F):_t(r.dirtyFields,F,!0),Be.dirtyFields=r.dirtyFields,ue=ue||(f.dirtyFields||d.dirtyFields)&&ge!==!qe}if(ee){const qe=xe(r.touchedFields,F);qe||(_t(r.touchedFields,F,ee),Be.touchedFields=r.touchedFields,ue=ue||(f.touchedFields||d.touchedFields)&&qe!==ee)}ue&&ae&&h.state.next(Be)}return ue?Be:{}},S=(F,K,ee,ve)=>{const ae=xe(r.errors,F),ue=(f.isValid||d.isValid)&&Yn(K)&&r.isValid!==K;if(t.delayError&&ee?(c=y(()=>x(F,ee)),c(t.delayError)):(clearTimeout(u),c=null,ee?_t(r.errors,F,ee):pr(r.errors,F)),(ee?!Ki(ae,ee):ae)||!kn(ve)||ue){const ge={...ve,...ue&&Yn(K)?{isValid:K}:{},errors:r.errors,name:F};r={...r,...ge},h.state.next(ge)}},C=async F=>{g(F,!0);const K=await t.resolver(i,t.context,FPe(F||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(F),K},N=async F=>{const{errors:K}=await C(F);if(F)for(const ee of F){const ve=xe(K,ee);ve?_t(r.errors,ee,ve):pr(r.errors,ee)}else r.errors=K;return K},A=async(F,K,ee={valid:!0})=>{for(const ve in F){const ae=F[ve];if(ae){const{_f:ue,...ge}=ae;if(ue){const Be=l.array.has(ue.name),qe=ae._f&&BPe(ae._f);qe&&f.validatingFields&&g([ve],!0);const Yt=await I2(ae,l.disabled,i,p,t.shouldUseNativeValidation&&!K,Be);if(qe&&f.validatingFields&&g([ve]),Yt[ue.name]&&(ee.valid=!1,K))break;!K&&(xe(Yt,ue.name)?Be?qPe(r.errors,Yt,ue.name):_t(r.errors,ue.name,Yt[ue.name]):pr(r.errors,ue.name))}!kn(ge)&&await A(ge,K,ee)}}return ee.valid},E=()=>{for(const F of l.unMount){const K=xe(n,F);K&&(K._f.refs?K._f.refs.every(ee=>!Db(ee)):!Db(K._f.ref))&&H(F)}l.unMount=new Set},k=(F,K)=>!t.disabled&&(F&&K&&_t(i,F,K),!Ki(U(),a)),R=(F,K,ee)=>_z(F,l,{...s.mount?i:cr(K)?a:bi(F)?{[F]:K}:K},ee,K),T=F=>hN(xe(s.mount?i:a,F,t.shouldUnregister?xe(a,F,[]):[])),P=(F,K,ee={})=>{const ve=xe(n,F);let ae=K;if(ve){const ue=ve._f;ue&&(!ue.disabled&&_t(i,F,Az(K,ue)),ae=ty(ue.ref)&&pn(K)?"":K,Cz(ue.ref)?[...ue.ref.options].forEach(ge=>ge.selected=ae.includes(ge.value)):ue.refs?$p(ue.ref)?ue.refs.forEach(ge=>{(!ge.defaultChecked||!ge.disabled)&&(Array.isArray(ae)?ge.checked=!!ae.find(Be=>Be===ge.value):ge.checked=ae===ge.value||!!ae)}):ue.refs.forEach(ge=>ge.checked=ge.value===ae):gN(ue.ref)?ue.ref.value="":(ue.ref.value=ae,ue.ref.type||h.state.next({name:F,values:Nr(i)})))}(ee.shouldDirty||ee.shouldTouch)&&j(F,ae,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&L(F)},$=(F,K,ee)=>{for(const ve in K){if(!K.hasOwnProperty(ve))return;const ae=K[ve],ue=F+"."+ve,ge=xe(n,ue);(l.array.has(F)||hr(ae)||ge&&!ge._f)&&!ll(ae)?$(ue,ae,ee):P(ue,ae,ee)}},I=(F,K,ee={})=>{const ve=xe(n,F),ae=l.array.has(F),ue=Nr(K);_t(i,F,ue),ae?(h.array.next({name:F,values:Nr(i)}),(f.isDirty||f.dirtyFields||d.isDirty||d.dirtyFields)&&ee.shouldDirty&&h.state.next({name:F,dirtyFields:af(a,i),isDirty:k(F,ue)})):ve&&!ve._f&&!pn(ue)?$(F,ue,ee):P(F,ue,ee),R2(F,l)&&h.state.next({...r,name:F}),h.state.next({name:s.mount?F:void 0,values:Nr(i)})},M=async F=>{s.mount=!0;const K=F.target;let ee=K.name,ve=!0;const ae=xe(n,ee),ue=qe=>{ve=Number.isNaN(qe)||ll(qe)&&isNaN(qe.getTime())||Ki(qe,xe(i,ee,qe))},ge=O2(t.mode),Be=O2(t.reValidateMode);if(ae){let qe,Yt;const Cn=K.type?k2(ae._f):bz(F),jr=F.type===ey.BLUR||F.type===ey.FOCUS_OUT,se=!zPe(ae._f)&&!t.resolver&&!xe(r.errors,ee)&&!ae._f.deps||WPe(jr,xe(r.touchedFields,ee),r.isSubmitted,Be,ge),Le=R2(ee,l,jr);_t(i,ee,Cn),jr?(ae._f.onBlur&&ae._f.onBlur(F),c&&c(0)):ae._f.onChange&&ae._f.onChange(F);const xt=j(ee,Cn,jr),lr=!kn(xt)||Le;if(!jr&&h.state.next({name:ee,type:F.type,values:Nr(i)}),se)return(f.isValid||d.isValid)&&(t.mode==="onBlur"?jr&&m():jr||m()),lr&&h.state.next({name:ee,...Le?{}:xt});if(!jr&&Le&&h.state.next({...r}),t.resolver){const{errors:dt}=await C([ee]);if(ue(Cn),ve){const at=M2(r.errors,n,ee),Nn=M2(dt,n,at.name||ee);qe=Nn.error,ee=Nn.name,Yt=kn(dt)}}else g([ee],!0),qe=(await I2(ae,l.disabled,i,p,t.shouldUseNativeValidation))[ee],g([ee]),ue(Cn),ve&&(qe?Yt=!1:(f.isValid||d.isValid)&&(Yt=await A(n,!0)));ve&&(ae._f.deps&&L(ae._f.deps),S(ee,Yt,qe,xt))}},D=(F,K)=>{if(xe(r.errors,K)&&F.focus)return F.focus(),1},L=async(F,K={})=>{let ee,ve;const ae=Uf(F);if(t.resolver){const ue=await N(cr(F)?F:ae);ee=kn(ue),ve=F?!ae.some(ge=>xe(ue,ge)):ee}else F?(ve=(await Promise.all(ae.map(async ue=>{const ge=xe(n,ue);return await A(ge&&ge._f?{[ue]:ge}:ge)}))).every(Boolean),!(!ve&&!r.isValid)&&m()):ve=ee=await A(n);return h.state.next({...!bi(F)||(f.isValid||d.isValid)&&ee!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:ee}:{},errors:r.errors}),K.shouldFocus&&!ve&&Vf(n,D,F?ae:l.mount),ve},U=F=>{const K={...s.mount?i:a};return cr(F)?K:bi(F)?xe(K,F):F.map(ee=>xe(K,ee))},X=(F,K)=>({invalid:!!xe((K||r).errors,F),isDirty:!!xe((K||r).dirtyFields,F),error:xe((K||r).errors,F),isValidating:!!xe(r.validatingFields,F),isTouched:!!xe((K||r).touchedFields,F)}),G=F=>{F&&Uf(F).forEach(K=>pr(r.errors,K)),h.state.next({errors:F?r.errors:{}})},te=(F,K,ee)=>{const ve=(xe(n,F,{_f:{}})._f||{}).ref,ae=xe(r.errors,F)||{},{ref:ue,message:ge,type:Be,...qe}=ae;_t(r.errors,F,{...qe,...K,ref:ve}),h.state.next({name:F,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&ve&&ve.focus&&ve.focus()},z=(F,K)=>Xa(F)?h.state.subscribe({next:ee=>"values"in ee&&F(R(void 0,K),ee)}):R(F,K,!0),B=F=>h.state.subscribe({next:K=>{VPe(F.name,K.name,F.exact)&&UPe(K,F.formState||f,Ge,F.reRenderRoot)&&F.callback({values:{...i},...r,...K,defaultValues:a})}}).unsubscribe,V=F=>(s.mount=!0,d={...d,...F.formState},B({...F,formState:d})),H=(F,K={})=>{for(const ee of F?Uf(F):l.mount)l.mount.delete(ee),l.array.delete(ee),K.keepValue||(pr(n,ee),pr(i,ee)),!K.keepError&&pr(r.errors,ee),!K.keepDirty&&pr(r.dirtyFields,ee),!K.keepTouched&&pr(r.touchedFields,ee),!K.keepIsValidating&&pr(r.validatingFields,ee),!t.shouldUnregister&&!K.keepDefaultValue&&pr(a,ee);h.state.next({values:Nr(i)}),h.state.next({...r,...K.keepDirty?{isDirty:k()}:{}}),!K.keepIsValid&&m()},ce=({disabled:F,name:K})=>{(Yn(F)&&s.mount||F||l.disabled.has(K))&&(F?l.disabled.add(K):l.disabled.delete(K))},Q=(F,K={})=>{let ee=xe(n,F);const ve=Yn(K.disabled)||Yn(t.disabled);return _t(n,F,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:F}},name:F,mount:!0,...K}}),l.mount.add(F),ee?ce({disabled:Yn(K.disabled)?K.disabled:t.disabled,name:F}):_(F,!0,K.value),{...ve?{disabled:K.disabled||t.disabled}:{},...t.progressive?{required:!!K.required,min:sf(K.min),max:sf(K.max),minLength:sf(K.minLength),maxLength:sf(K.maxLength),pattern:sf(K.pattern)}:{},name:F,onChange:M,onBlur:M,ref:ae=>{if(ae){Q(F,K),ee=xe(n,F);const ue=cr(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,ge=IPe(ue),Be=ee._f.refs||[];if(ge?Be.find(qe=>qe===ue):ue===ee._f.ref)return;_t(n,F,{_f:{...ee._f,...ge?{refs:[...Be.filter(Db),ue,...Array.isArray(xe(a,F))?[{}]:[]],ref:{type:ue.type,name:F}}:{ref:ue}}}),_(F,!1,void 0,ue)}else ee=xe(n,F,{}),ee._f&&(ee._f.mount=!1),(t.shouldUnregister||K.shouldUnregister)&&!(wz(l.array,F)&&s.action)&&l.unMount.add(F)}}},Z=()=>t.shouldFocusError&&Vf(n,D,l.mount),W=F=>{Yn(F)&&(h.state.next({disabled:F}),Vf(n,(K,ee)=>{const ve=xe(n,ee);ve&&(K.disabled=ve._f.disabled||F,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(ae=>{ae.disabled=ve._f.disabled||F}))},0,!1))},q=(F,K)=>async ee=>{let ve;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let ae=Nr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:ge}=await C();r.errors=ue,ae=Nr(ge)}else await A(n);if(l.disabled.size)for(const ue of l.disabled)pr(ae,ue);if(pr(r.errors,"root"),kn(r.errors)){h.state.next({errors:{}});try{await F(ae,ee)}catch(ue){ve=ue}}else K&&await K({...r.errors},ee),Z(),setTimeout(Z);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kn(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},de=(F,K={})=>{xe(n,F)&&(cr(K.defaultValue)?I(F,Nr(xe(a,F))):(I(F,K.defaultValue),_t(a,F,Nr(K.defaultValue))),K.keepTouched||pr(r.touchedFields,F),K.keepDirty||(pr(r.dirtyFields,F),r.isDirty=K.defaultValue?k(F,Nr(xe(a,F))):k()),K.keepError||(pr(r.errors,F),f.isValid&&m()),h.state.next({...r}))},ye=(F,K={})=>{const ee=F?Nr(F):a,ve=Nr(ee),ae=kn(F),ue=ae?a:ve;if(K.keepDefaultValues||(a=ee),!K.keepValues){if(K.keepDirtyValues){const ge=new Set([...l.mount,...Object.keys(af(a,i))]);for(const Be of Array.from(ge))xe(r.dirtyFields,Be)?_t(ue,Be,xe(i,Be)):I(Be,xe(ue,Be))}else{if(fN&&cr(F))for(const ge of l.mount){const Be=xe(n,ge);if(Be&&Be._f){const qe=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(ty(qe)){const Yt=qe.closest("form");if(Yt){Yt.reset();break}}}}if(K.keepFieldsRef)for(const ge of l.mount)I(ge,xe(ue,ge));else n={}}i=t.shouldUnregister?K.keepDefaultValues?Nr(a):{}:Nr(ue),h.array.next({values:{...ue}}),h.state.next({values:{...ue}})}l={mount:K.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!K.keepIsValid||!!K.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:ae?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!Ki(F,a)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ae?{}:K.keepDirtyValues?K.keepDefaultValues&&i?af(a,i):r.dirtyFields:K.keepDefaultValues&&F?af(a,F):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ae=(F,K)=>ye(Xa(F)?F(i):F,K),Ie=(F,K={})=>{const ee=xe(n,F),ve=ee&&ee._f;if(ve){const ae=ve.refs?ve.refs[0]:ve.ref;ae.focus&&(ae.focus(),K.shouldSelect&&Xa(ae.select)&&ae.select())}},Ge=F=>{r={...r,...F}},Gt={control:{register:Q,unregister:H,getFieldState:X,handleSubmit:q,setError:te,_subscribe:B,_runSchema:C,_focusError:Z,_getWatch:R,_getDirty:k,_setValid:m,_setFieldArray:v,_setDisabledField:ce,_setErrors:b,_getFieldArray:T,_reset:ye,_resetDefaultValues:()=>Xa(t.defaultValues)&&t.defaultValues().then(F=>{Ae(F,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:W,_subjects:h,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(F){s=F},get _defaultValues(){return a},get _names(){return l},set _names(F){l=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:V,trigger:L,register:Q,handleSubmit:q,watch:z,setValue:I,getValues:U,reset:Ae,resetField:de,clearErrors:G,unregister:H,setError:te,setFocus:Ie,getFieldState:X};return{...Gt,formControl:Gt}}function D2(e={}){const t=O.useRef(void 0),r=O.useRef(void 0),[n,a]=O.useState({isDirty:!1,isValidating:!1,isLoading:Xa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Xa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Xa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=GPe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,vN(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,s},[i]),O.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),O.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),O.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),O.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),O.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),O.useEffect(()=>{e.values&&!Ki(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(s=>({...s}))):i._resetDefaultValues()},[i,e.values]),O.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=jz(n,i),t.current}const L2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=xe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Oz=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?L2(n.ref,r,e):n.refs&&n.refs.forEach(a=>L2(a,r,e))}},YPe=(e,t)=>{t.shouldUseNativeValidation&&Oz(e,t);const r={};for(const n in e){const a=xe(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(XPe(t.names||Object.keys(e),n)){const s=Object.assign({},xe(r,n));_t(s,"root",i),_t(r,n,s)}else _t(r,n,i)}return r},XPe=(e,t)=>e.some(r=>r.startsWith(t+"."));var QPe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(d){return e.push(d)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=Sz(s,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},F2=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(s,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&Oz({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(s){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(s))return{values:{},errors:YPe(QPe(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}};const B2=OPe,Tz=w.createContext({}),of=({...e})=>o.jsx(Tz.Provider,{value:{name:e.name},children:o.jsx($Pe,{...e})}),n0=()=>{const e=w.useContext(Tz),t=w.useContext(Rz),{getFieldState:r,formState:n}=r0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Rz=w.createContext({}),hc=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return o.jsx(Rz.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:re("space-y-2",e),...t})})});hc.displayName="FormItem";const pc=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=n0();return o.jsx(je,{ref:r,className:re(n&&"text-destructive",e),htmlFor:a,...t})});pc.displayName="FormLabel";const mc=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=n0();return o.jsx(_$,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});mc.displayName="FormControl";const ZPe=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=n0();return o.jsx("p",{ref:r,id:n,className:re("text-sm text-muted-foreground",e),...t})});ZPe.displayName="FormDescription";const vc=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=n0(),s=a?String(a==null?void 0:a.message):t;return s?o.jsx("p",{ref:n,id:i,className:re("text-sm font-medium text-destructive",e),...r,children:s}):null});vc.displayName="FormMessage";const JPe=yz({email:zf().trim().email({message:"Email invalide"}),password:zf().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"})}),eEe=yz({email:zf().trim().email({message:"Email invalide"}),password:zf().min(6,{message:"Le mot de passe doit contenir au moins 6 caractres"}),displayName:zf().trim().min(2,{message:"Le nom doit contenir au moins 2 caractres"}).max(50)});function tEe(){const{user:e,loading:t,signIn:r,signUp:n}=la(),a=fd(),[i,s]=w.useState(!1);w.useEffect(()=>{e&&!t&&a("/")},[e,t,a]);const l=D2({resolver:F2(JPe),defaultValues:{email:"",password:""}}),c=D2({resolver:F2(eEe),defaultValues:{email:"",password:"",displayName:""}}),u=async d=>{s(!0);const{error:h}=await r(d.email,d.password);s(!1),h?h.message.includes("Invalid login credentials")?qr({title:"Erreur de connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"}):h.message.includes("Email not confirmed")?qr({title:"Email non vrifi",description:"Veuillez vrifier votre email avant de vous connecter.",variant:"destructive"}):qr({title:"Erreur",description:h.message,variant:"destructive"}):(qr({title:"Connexion russie",description:"Bienvenue sur Novaride FinPlan Studio"}),a("/"))},f=async d=>{s(!0);const{error:h}=await n(d.email,d.password,d.displayName);s(!1),h?h.message.includes("already registered")?qr({title:"Compte existant",description:"Un compte existe dj avec cet email.",variant:"destructive"}):qr({title:"Erreur d'inscription",description:h.message,variant:"destructive"}):qr({title:"Inscription russie",description:"Vrifiez votre email pour confirmer votre compte."})};return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:o.jsxs(Zt,{className:"w-full max-w-md",children:[o.jsxs(cn,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(Bv,{variant:"full",color:"dark"})}),o.jsx(un,{children:"FinPlan Studio"}),o.jsx(gh,{children:"Plateforme de pilotage financier et de prsentation investisseurs"})]}),o.jsx(Jt,{children:o.jsxs(Ea,{defaultValue:"login",className:"w-full",children:[o.jsxs(ca,{className:"grid w-full grid-cols-2",children:[o.jsx(ut,{value:"login",children:"Connexion"}),o.jsx(ut,{value:"signup",children:"Inscription"})]}),o.jsx(vt,{value:"login",className:"mt-4",children:o.jsx(B2,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[o.jsx(of,{control:l.control,name:"email",render:({field:d})=>o.jsxs(hc,{children:[o.jsx(pc,{children:"Email"}),o.jsx(mc,{children:o.jsx(_e,{type:"email",placeholder:"vous@exemple.com",...d})}),o.jsx(vc,{})]})}),o.jsx(of,{control:l.control,name:"password",render:({field:d})=>o.jsxs(hc,{children:[o.jsx(pc,{children:"Mot de passe"}),o.jsx(mc,{children:o.jsx(_e,{type:"password",placeholder:"",...d})}),o.jsx(vc,{})]})}),o.jsxs(ie,{type:"submit",className:"w-full",disabled:i,children:[i&&o.jsx(_i,{className:"mr-2 h-4 w-4 animate-spin"}),"Se connecter"]})]})})}),o.jsx(vt,{value:"signup",className:"mt-4",children:o.jsx(B2,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-4",children:[o.jsx(of,{control:c.control,name:"displayName",render:({field:d})=>o.jsxs(hc,{children:[o.jsx(pc,{children:"Nom complet"}),o.jsx(mc,{children:o.jsx(_e,{placeholder:"Jean Dupont",...d})}),o.jsx(vc,{})]})}),o.jsx(of,{control:c.control,name:"email",render:({field:d})=>o.jsxs(hc,{children:[o.jsx(pc,{children:"Email"}),o.jsx(mc,{children:o.jsx(_e,{type:"email",placeholder:"vous@exemple.com",...d})}),o.jsx(vc,{})]})}),o.jsx(of,{control:c.control,name:"password",render:({field:d})=>o.jsxs(hc,{children:[o.jsx(pc,{children:"Mot de passe"}),o.jsx(mc,{children:o.jsx(_e,{type:"password",placeholder:"",...d})}),o.jsx(vc,{})]})}),o.jsxs(ie,{type:"submit",className:"w-full",disabled:i,children:[i&&o.jsx(_i,{className:"mr-2 h-4 w-4 animate-spin"}),"S'inscrire"]})]})})})]})})]})})}const rEe=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"];function nEe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{var s;try{const{data:l}=await pe.auth.getSession(),c=(s=l==null?void 0:l.session)==null?void 0:s.access_token,f=await(await fetch("https://twkcoxagbajvopzzinor.supabase.co/functions/v1/list-users",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}})).json(),{data:d}=await pe.from("user_roles").select("*"),h=new Map;d&&d.forEach(y=>h.set(y.user_id,y.role));const p=f.map(y=>({id:y.id,email:y.email,display_name:y.display_name,role:h.get(y.id)||"lecteur"}));t(p)}catch(l){console.error("Error fetching users:",l)}finally{n(!1)}},i=async(s,l)=>{try{await pe.from("user_roles").upsert({user_id:s,role:l},{onConflict:"user_id"}),t(c=>c.map(u=>u.id===s?{...u,role:l}:u)),qr({title:"Rle mis  jour"})}catch{qr({title:"Erreur",variant:"destructive"})}};return r?o.jsx(_i,{className:"h-6 w-6 animate-spin mx-auto"}):o.jsxs(Zt,{children:[o.jsx(cn,{children:o.jsx(un,{children:"Gestion des Utilisateurs"})}),o.jsx(Jt,{children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Email"}),o.jsx(le,{children:"Rle"})]})}),o.jsxs(Wt,{children:[e.map(s=>o.jsxs(be,{children:[o.jsx(Y,{className:"font-medium",children:s.display_name||""}),o.jsx(Y,{className:"text-sm text-muted-foreground",children:s.email}),o.jsx(Y,{children:o.jsxs(it,{value:s.role,onValueChange:l=>i(s.id,l),children:[o.jsx(rt,{className:"w-32",children:o.jsx(st,{})}),o.jsx(nt,{children:rEe.map(l=>o.jsx(De,{value:l,children:l},l))})]})})]},s.id)),e.length===0&&o.jsx(be,{children:o.jsx(Y,{colSpan:3,className:"text-center text-muted-foreground",children:"Aucun utilisateur"})})]})]})})]})}const z2=["admin","finance","board","investisseur","lecteur","bureau_etude","production","marketing"],aEe=["hidden","read","write"],Lb=[{key:"home",label:"Accueil"},{key:"product-plan",label:"Plan Produit"},{key:"organisation",label:"Organisation"},{key:"charges",label:"Structure des Charges"},{key:"crm",label:"CRM"},{key:"costflow",label:"Production et BE"},{key:"timetracking",label:"Suivi d'activit"},{key:"previsionnel",label:"Prvisionnel"},{key:"funding",label:"Besoin de Financement"},{key:"scenarios",label:"Scnarios"},{key:"valuation",label:"Valorisation & Analyse"},{key:"investment-summary",label:"Synthse Investisseur"},{key:"snapshots",label:"Sauvegardes"}],iEe={admin:"Admin",finance:"Finance",board:"Board",investisseur:"Investisseur",lecteur:"Lecteur",bureau_etude:"Bureau d'tude",production:"Production",marketing:"Marketing"},Fb={hidden:{label:"Masqu",icon:iI,color:"bg-muted text-muted-foreground"},read:{label:"Lecture",icon:tW,color:"bg-blue-100 text-blue-800"},write:{label:"criture",icon:Nv,color:"bg-green-100 text-green-800"}};function sEe(){const{isAdmin:e,loading:t}=la(),r=fd(),[n,a]=w.useState({}),[i,s]=w.useState(!0),[l,c]=w.useState(null);w.useEffect(()=>{!t&&!e&&r("/")},[e,t,r]),w.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:d,error:h}=await pe.from("tab_permissions").select("*");if(h)throw h;const p={};z2.forEach(y=>{p[y]={},Lb.forEach(m=>{p[y][m.key]="hidden"})}),d==null||d.forEach(y=>{p[y.role]&&(p[y.role][y.tab_key]=y.permission)}),a(p)}catch{}finally{s(!1)}},f=async(d,h,p)=>{c(`${d}:${h}`);try{await pe.from("tab_permissions").upsert({role:d,tab_key:h,permission:p},{onConflict:"role,tab_key"}),a(y=>({...y,[d]:{...y[d],[h]:p}})),qr({title:"Permission mise  jour"})}catch{qr({title:"Erreur",variant:"destructive"})}finally{c(null)}};return t||i?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):e?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gS,{className:"h-8 w-8 text-primary"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Administration"}),o.jsx("p",{className:"text-muted-foreground",children:"Gestion des utilisateurs et des permissions"})]})]}),o.jsxs(Ea,{defaultValue:"users",className:"space-y-6",children:[o.jsxs(ca,{className:"grid w-full max-w-md grid-cols-2",children:[o.jsxs(ut,{value:"users",className:"flex items-center gap-2",children:[o.jsx(pu,{className:"h-4 w-4"}),"Utilisateurs"]}),o.jsxs(ut,{value:"permissions",className:"flex items-center gap-2",children:[o.jsx(fW,{className:"h-4 w-4"}),"Permissions"]})]}),o.jsx(vt,{value:"users",children:o.jsx(nEe,{})}),o.jsx(vt,{value:"permissions",className:"space-y-6",children:o.jsxs(Zt,{children:[o.jsxs(cn,{children:[o.jsx(un,{children:"Matrice des Permissions"}),o.jsx(gh,{children:"HIDDEN = invisible  READ = lecture seule  WRITE = modification"})]}),o.jsx(Jt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{className:"w-32",children:"Rle"}),Lb.map(d=>o.jsx(le,{className:"text-center min-w-[140px]",children:d.label},d.key))]})}),o.jsx(Wt,{children:z2.map(d=>o.jsxs(be,{children:[o.jsx(Y,{children:o.jsx($e,{variant:d==="admin"?"default":"secondary",children:iEe[d]})}),Lb.map(h=>{var m;const p=((m=n[d])==null?void 0:m[h.key])||"hidden",y=`${d}:${h.key}`;return o.jsx(Y,{className:"text-center p-2",children:d==="admin"?o.jsxs($e,{className:Fb.write.color,children:[o.jsx(Nv,{className:"h-3 w-3 mr-1"}),Fb.write.label]}):o.jsxs(it,{value:p,onValueChange:g=>f(d,h.key,g),disabled:l===y,children:[o.jsx(rt,{className:"w-28",children:o.jsx(st,{})}),o.jsx(nt,{children:aEe.map(g=>{const{label:v,icon:x}=Fb[g];return o.jsx(De,{value:g,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(x,{className:"h-3 w-3"}),v]})},g)})})]})},h.key)})]},d))})]})})})]})})]})]}):null}const Bb=[50,100,200,500,1e3,2e3,5e3,1e4];function oEe(e){return{id:e.id,code:e.code,name:e.name,category:e.category||"Mcanique",revision:e.revision||"A",supplier:e.supplier||"",currency:e.currency||"EUR",prices:{50:Number(e.price_vol_50)||0,100:Number(e.price_vol_100)||0,200:Number(e.price_vol_200)||0,500:Number(e.price_vol_500)||0,1e3:Number(e.price_vol_1000)||0,2e3:Number(e.price_vol_2000)||0,5e3:Number(e.price_vol_5000)||0,1e4:Number(e.price_vol_10000)||0},comments:e.comments||"",created_at:e.created_at,updated_at:e.updated_at}}function lEe(){const{user:e}=la(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,s]=w.useState([]),[l,c]=w.useState([]),[u,f]=w.useState([]),[d,h]=w.useState([]),[p,y]=w.useState(!0),[m,g]=w.useState(!1),v=w.useCallback(async()=>{if(e){m||y(!0);try{const[B,V,H,ce,Q,Z]=await Promise.all([pe.from("costflow_references").select("*").order("code"),pe.from("costflow_products").select("*").order("name"),pe.from("costflow_bom").select("*"),pe.from("costflow_reference_files").select("*").order("uploaded_at",{ascending:!1}),pe.from("costflow_suppliers").select("*").order("name"),pe.from("costflow_product_categories").select("*").order("name")]);B.data&&r(B.data.map(oEe)),V.data&&a(V.data.map(W=>({id:W.id,name:W.name,family:W.family||"Standard",main_supplier:W.main_supplier||"",coefficient:Number(W.coefficient)||1.3,price_ttc:Number(W.price_ttc)||0,default_volume:W.default_volume||500,comments:W.comments||"",category_id:W.category_id||null,created_at:W.created_at,updated_at:W.updated_at}))),H.data&&s(H.data.map(W=>({id:W.id,product_id:W.product_id,reference_id:W.reference_id,quantity:Number(W.quantity)||1}))),ce.data&&c(ce.data.map(W=>({id:W.id,reference_id:W.reference_id,file_name:W.file_name,file_path:W.file_path,file_size:W.file_size||0,version:W.version||1,uploaded_at:W.uploaded_at}))),Q.data&&f(Q.data.map(W=>({id:W.id,name:W.name,contact_name:W.contact_name||"",email:W.email||"",phone:W.phone||"",country:W.country||"France",comments:W.comments||"",created_at:W.created_at,updated_at:W.updated_at}))),Z.data&&h(Z.data.map(W=>({id:W.id,name:W.name,description:W.description||"",color:W.color||"#6366f1",created_at:W.created_at})))}catch(B){console.error("CostFlow fetch error:",B)}finally{y(!1),g(!0)}}},[e,m]);w.useEffect(()=>{v()},[v]);const x=async B=>{if(!e)return;const V=B.prices||{},{error:H}=await pe.from("costflow_references").insert({user_id:e.id,code:B.code,name:B.name,category:B.category||"Mcanique",revision:B.revision||"A",supplier:B.supplier||"",currency:B.currency||"EUR",comments:B.comments||"",price_vol_50:V[50]||0,price_vol_100:V[100]||0,price_vol_200:V[200]||0,price_vol_500:V[500]||0,price_vol_1000:V[1e3]||0,price_vol_2000:V[2e3]||0,price_vol_5000:V[5e3]||0,price_vol_10000:V[1e4]||0});H?(Ce.error("Erreur cration rfrence"),console.error(H)):(Ce.success("Rfrence cre"),v())},b=async(B,V)=>{if(!e)return;const H={};V.code!==void 0&&(H.code=V.code),V.name!==void 0&&(H.name=V.name),V.category!==void 0&&(H.category=V.category),V.revision!==void 0&&(H.revision=V.revision),V.supplier!==void 0&&(H.supplier=V.supplier),V.currency!==void 0&&(H.currency=V.currency),V.comments!==void 0&&(H.comments=V.comments),V.prices&&(H.price_vol_50=V.prices[50]??0,H.price_vol_100=V.prices[100]??0,H.price_vol_200=V.prices[200]??0,H.price_vol_500=V.prices[500]??0,H.price_vol_1000=V.prices[1e3]??0,H.price_vol_2000=V.prices[2e3]??0,H.price_vol_5000=V.prices[5e3]??0,H.price_vol_10000=V.prices[1e4]??0);const{error:ce}=await pe.from("costflow_references").update(H).eq("id",B);ce?(Ce.error("Erreur mise  jour"),console.error(ce)):(Ce.success("Rfrence mise  jour"),v())},_=async B=>{const{error:V}=await pe.from("costflow_references").delete().eq("id",B);V?(Ce.error("Erreur suppression"),console.error(V)):(Ce.success("Rfrence supprime"),v())},j=async(B,V="skip")=>{if(!e||B.length===0)return{imported:0,skipped:0,updated:0,errors:[]};const H={imported:0,skipped:0,updated:0,errors:[]},ce=t.map(W=>W.code),Q=B.filter(W=>!ce.includes(W.code||"")),Z=B.filter(W=>ce.includes(W.code||""));if(Q.length>0){const W=Q.map(de=>{const ye=de.prices||{};return{user_id:e.id,code:de.code,name:de.name||de.code,category:de.category||"Mcanique",revision:de.revision||"A",supplier:de.supplier||"",currency:de.currency||"EUR",comments:de.comments||"",price_vol_50:ye[50]||0,price_vol_100:ye[100]||0,price_vol_200:ye[200]||0,price_vol_500:ye[500]||0,price_vol_1000:ye[1e3]||0,price_vol_2000:ye[2e3]||0,price_vol_5000:ye[5e3]||0,price_vol_10000:ye[1e4]||0}}),{error:q}=await pe.from("costflow_references").insert(W);q?H.errors.push(`Erreur insertion : ${q.message}`):H.imported=Q.length}if(Z.length>0)if(V==="skip")H.skipped=Z.length;else for(const W of Z){const q=t.find(Ae=>Ae.code===W.code);if(!q)continue;const de=W.prices||{},{error:ye}=await pe.from("costflow_references").update({name:W.name||W.code,supplier:W.supplier||"",currency:W.currency||"EUR",comments:W.comments||"",price_vol_50:de[50]||0,price_vol_100:de[100]||0,price_vol_200:de[200]||0,price_vol_500:de[500]||0,price_vol_1000:de[1e3]||0,price_vol_2000:de[2e3]||0,price_vol_5000:de[5e3]||0,price_vol_10000:de[1e4]||0}).eq("id",q.id);ye?H.errors.push(`Erreur mise  jour ${W.code}`):H.updated++}return v(),H},S=async B=>{if(!e)return;const{error:V}=await pe.from("costflow_products").insert({user_id:e.id,name:B.name,family:B.family||"Standard",main_supplier:B.main_supplier||"",coefficient:B.coefficient||1.3,price_ttc:B.price_ttc||0,default_volume:B.default_volume||500,comments:B.comments||""});V?(Ce.error("Erreur cration produit"),console.error(V)):(Ce.success("Produit cr"),v())},C=async(B,V)=>{if(!e)return;const{error:H}=await pe.from("costflow_products").update(V).eq("id",B);H?(Ce.error("Erreur mise  jour"),console.error(H)):(Ce.success("Produit mis  jour"),v())},N=async B=>{const{error:V}=await pe.from("costflow_products").delete().eq("id",B);V?(Ce.error("Erreur suppression"),console.error(V)):(Ce.success("Produit supprim"),v())},A=async(B,V,H)=>{if(!e)return;const{error:ce}=await pe.from("costflow_bom").insert({user_id:e.id,product_id:B,reference_id:V,quantity:H});ce?(Ce.error("Erreur ajout nomenclature"),console.error(ce)):v()},E=async(B,V)=>{const{error:H}=await pe.from("costflow_bom").update({quantity:V}).eq("id",B);H?(Ce.error("Erreur mise  jour"),console.error(H)):v()},k=async B=>{const{error:V}=await pe.from("costflow_bom").delete().eq("id",B);V?(Ce.error("Erreur suppression"),console.error(V)):v()},R=async(B,V)=>{if(!e)return;const H=`${e.id}/${B}/${Date.now()}_${V.name}`,{error:ce}=await pe.storage.from("technical-plans").upload(H,V);if(ce){Ce.error("Erreur upload fichier"),console.error(ce);return}const Q=l.filter(q=>q.reference_id===B),Z=Q.length>0?Math.max(...Q.map(q=>q.version)):0,{error:W}=await pe.from("costflow_reference_files").insert({user_id:e.id,reference_id:B,file_name:V.name,file_path:H,file_size:V.size,version:Z+1});W?(Ce.error("Erreur enregistrement fichier"),console.error(W)):(Ce.success("Fichier upload"),v())},T=async(B,V)=>{await pe.storage.from("technical-plans").remove([V]);const{error:H}=await pe.from("costflow_reference_files").delete().eq("id",B);H?(Ce.error("Erreur suppression fichier"),console.error(H)):v()},P=B=>{const{data:V}=pe.storage.from("technical-plans").getPublicUrl(B);return V.publicUrl},$=async B=>{const{data:V,error:H}=await pe.storage.from("technical-plans").createSignedUrl(B,3600);return H?(Ce.error("Erreur accs fichier"),null):V.signedUrl},I=(B,V)=>{const H=i.filter(W=>W.product_id===B),ce=n.find(W=>W.id===B);if(!ce)return 0;const Q=Bb.reduce((W,q)=>Math.abs(q-V)<Math.abs(W-V)?q:W);let Z=0;for(const W of H){const q=t.find(de=>de.id===W.reference_id);q&&(Z+=W.quantity*(q.prices[Q]||0))}return Z*ce.coefficient};return{references:t,products:n,bom:i,referenceFiles:l,suppliers:u,productCategories:d,loading:p,createReference:x,updateReference:b,deleteReference:_,bulkCreateReferences:j,createProduct:S,updateProduct:C,deleteProduct:N,createProductWithBom:async(B,V)=>{if(!e)return;const{data:H,error:ce}=await pe.from("costflow_products").insert({user_id:e.id,name:B.name,family:B.family||"Standard",main_supplier:B.main_supplier||"",coefficient:B.coefficient||1.3,price_ttc:B.price_ttc||0,default_volume:B.default_volume||500,comments:B.comments||""}).select("id").single();if(ce||!H){Ce.error("Erreur cration produit"),console.error(ce);return}const Q=H.id;if(V.length>0){const Z=V.map(q=>({user_id:e.id,product_id:Q,reference_id:q.referenceId,quantity:q.quantity})),{error:W}=await pe.from("costflow_bom").insert(Z);W&&(Ce.error("Erreur ajout nomenclature"),console.error(W))}Ce.success(`Produit "${B.name}" cr avec ${V.length} rfrence(s)`),v()},addBomEntry:A,updateBomEntry:E,removeBomEntry:k,uploadFile:R,deleteFile:T,getFileUrl:P,getSignedUrl:$,createSupplier:async B=>{if(!e)return;const{error:V}=await pe.from("costflow_suppliers").insert({user_id:e.id,name:B.name,contact_name:B.contact_name||"",email:B.email||"",phone:B.phone||"",country:B.country||"France",comments:B.comments||""});V?(Ce.error("Erreur cration fournisseur"),console.error(V)):(Ce.success("Fournisseur cr"),v())},updateSupplier:async(B,V)=>{if(!e)return;const{error:H}=await pe.from("costflow_suppliers").update(V).eq("id",B);H?(Ce.error("Erreur mise  jour fournisseur"),console.error(H)):(Ce.success("Fournisseur mis  jour"),v())},deleteSupplier:async B=>{const{error:V}=await pe.from("costflow_suppliers").delete().eq("id",B);V?(Ce.error("Erreur suppression fournisseur"),console.error(V)):(Ce.success("Fournisseur supprim"),v())},createProductCategory:async B=>{if(!e)return;const{error:V}=await pe.from("costflow_product_categories").insert({user_id:e.id,name:B.name,description:B.description||"",color:B.color||"#6366f1"});V?(Ce.error("Erreur cration catgorie"),console.error(V)):(Ce.success("Catgorie cre"),v())},updateProductCategory:async(B,V)=>{if(!e)return;const{error:H}=await pe.from("costflow_product_categories").update(V).eq("id",B);H?(Ce.error("Erreur mise  jour catgorie"),console.error(H)):(Ce.success("Catgorie mise  jour"),v())},deleteProductCategory:async B=>{await pe.from("costflow_products").update({category_id:null}).eq("category_id",B);const{error:V}=await pe.from("costflow_product_categories").delete().eq("id",B);V?(Ce.error("Erreur suppression catgorie"),console.error(V)):(Ce.success("Catgorie supprime"),v())},calculateProductCost:I,calculateProductCosts:B=>{const V={};for(const H of Bb)V[H]=I(B,H);return V},VOLUME_TIERS:Bb,refresh:v}}const Ti=w.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ti.displayName="Textarea";const cEe=ad("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Js=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:re(cEe({variant:t}),e),...r}));Js.displayName="Alert";const uEe=w.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));uEe.displayName="AlertTitle";const eo=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:re("text-sm [&_p]:leading-relaxed",e),...t}));eo.displayName="AlertDescription";const zb=["EUR","USD","GBP","CHF","CNY","JPY"],Tm=[50,100,200,500,1e3,2e3,5e3,1e4];function oc(){return{code:"",name:"",supplier:"",currency:"EUR",prices:{},unit:"pice",comments:"",valid:!1,isDuplicate:!1}}function lf(e){return e.code.trim().length>0}function dEe({open:e,onOpenChange:t,onImport:r,existingCodes:n}){const[a,i]=w.useState([oc()]),[s,l]=w.useState(!1),[c,u]=w.useState("skip"),[f,d]=w.useState(null),h=w.useRef(null),p=w.useRef(null),y=a.filter(N=>lf(N)).length,m=a.filter(N=>N.code&&n.includes(N.code)).length,g=(N,A,E)=>{i(k=>{const R=[...k];return R[N]={...R[N],[A]:E},R[N].valid=lf(R[N]),R[N].isDuplicate=R[N].code?n.includes(R[N].code):!1,R})},v=(N,A,E)=>{i(k=>{const R=[...k];return R[N]={...R[N],prices:{...R[N].prices,[A]:E}},R})},x=N=>{i(A=>A.length===1?[oc()]:A.filter((E,k)=>k!==N))},b=()=>i(N=>[...N,oc()]),_=w.useCallback(N=>{const A=N.clipboardData.getData("text/plain");if(!A.includes("	")&&!A.includes(`
`))return;N.preventDefault();const E=A.split(`
`).map($=>$.trim()).filter($=>$.length>0),k=E[0].toLowerCase(),P=(k.includes("code")||k.includes("nom")||k.includes("name")?E.slice(1):E).map($=>{const I=$.split("	"),M=oc();return M.code=(I[0]||"").trim(),M.name=(I[1]||"").trim(),M.supplier=(I[2]||"").trim(),M.currency=zb.includes((I[3]||"").trim().toUpperCase())?(I[3]||"EUR").trim().toUpperCase():"EUR",Tm.forEach((D,L)=>{const U=parseFloat((I[4+L]||"").replace(",","."));isNaN(U)||(M.prices[D]=U)}),M.unit=(I[12]||"pice").trim(),M.comments=(I[13]||"").trim(),M.valid=lf(M),M.isDuplicate=M.code?n.includes(M.code):!1,M}).filter($=>$.code||$.name);P.length>0&&i($=>$.length===1&&!$[0].code&&!$[0].name?P:[...$,...P])},[]),j=N=>{var k;const A=(k=N.target.files)==null?void 0:k[0];if(!A)return;const E=new FileReader;E.onload=R=>{var U;const T=(U=R.target)==null?void 0:U.result;if(!T)return;const P=T.includes("	")?"	":T.includes(";")?";":",",$=T.split(`
`).map(X=>X.trim()).filter(X=>X.length>0),I=$[0].toLowerCase(),L=(I.includes("code")||I.includes("nom")?$.slice(1):$).map(X=>{const G=X.split(P),te=oc();return te.code=(G[0]||"").trim(),te.name=(G[1]||"").trim(),te.supplier=(G[2]||"").trim(),te.currency=zb.includes((G[3]||"").trim().toUpperCase())?(G[3]||"EUR").trim().toUpperCase():"EUR",Tm.forEach((z,B)=>{const V=parseFloat((G[4+B]||"").replace(",","."));isNaN(V)||(te.prices[z]=V)}),te.unit=(G[12]||"pice").trim(),te.comments=(G[13]||"").trim(),te.valid=lf(te),te.isDuplicate=te.code?n.includes(te.code):!1,te}).filter(X=>X.code||X.name);L.length>0&&i(L)},E.readAsText(A),p.current&&(p.current.value="")},S=async()=>{const N=a.filter(k=>lf(k));if(N.length===0)return;l(!0);const A=N.map(k=>({code:k.code,name:k.name||k.code,supplier:k.supplier||"",currency:k.currency||"EUR",prices:k.prices||{},comments:k.comments||"",category:"Mcanique",revision:"A"})),E=await r(A,c);d(E),l(!1)},C=()=>{i([oc()]),d(null),t(!1)};return f?o.jsx(Rr,{open:e,onOpenChange:C,children:o.jsxs(xr,{className:"max-w-md",children:[o.jsx(br,{children:o.jsxs(wr,{className:"flex items-center gap-2",children:[o.jsx(rI,{className:"h-5 w-5 text-green-500"}),"Import termin"]})}),o.jsxs("div",{className:"space-y-3 py-4",children:[f.imported>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($e,{variant:"default",className:"bg-green-600",children:f.imported}),o.jsx("span",{className:"text-sm",children:"rfrence(s) importe(s)"})]}),f.updated>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($e,{variant:"secondary",children:f.updated}),o.jsx("span",{className:"text-sm",children:"rfrence(s) mise(s)  jour"})]}),f.skipped>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($e,{variant:"outline",children:f.skipped}),o.jsx("span",{className:"text-sm",children:"doublon(s) ignor(s)"})]}),f.errors.length>0&&o.jsx(Js,{variant:"destructive",children:o.jsx(eo,{children:f.errors.map((N,A)=>o.jsx("div",{className:"text-xs",children:N},A))})})]}),o.jsx(ie,{onClick:C,className:"w-full",children:"Fermer"})]})}):o.jsx(Rr,{open:e,onOpenChange:C,children:o.jsxs(xr,{className:"max-w-[95vw] max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs(br,{children:[o.jsx(wr,{children:"Importer des rfrences"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),o.jsxs(Ea,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs(ca,{className:"w-full",children:[o.jsxs(ut,{value:"paste",className:"flex-1",children:[o.jsx(nI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),o.jsxs(ut,{value:"file",className:"flex-1",children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),o.jsxs(vt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[o.jsxs(Js,{children:[o.jsx(lh,{className:"h-4 w-4"}),o.jsxs(eo,{children:[o.jsx("strong",{children:"Comment coller depuis Excel :"})," Slectionnez vos lignes, copiez (Ctrl+C), cliquez dans le tableau et collez (Ctrl+V). Seul le ",o.jsx("strong",{children:"code"})," est obligatoire, les cases vides auront la valeur 0 par dfaut."]})]}),m>0&&o.jsxs(Js,{children:[o.jsx(hu,{className:"h-4 w-4"}),o.jsxs(eo,{className:"flex items-center justify-between",children:[o.jsxs("span",{children:[m," code(s) dj existant(s)"]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx(ie,{size:"sm",variant:c==="skip"?"default":"outline",onClick:()=>u("skip"),children:"Ignorer"}),o.jsx(ie,{size:"sm",variant:c==="overwrite"?"default":"outline",onClick:()=>u("overwrite"),children:"craser"})]})]})]}),o.jsx("div",{ref:h,className:"flex-1 overflow-auto border rounded",onPaste:_,children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-24",children:"Code *"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Nom"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Fournisseur"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Devise"}),Tm.map(N=>o.jsx("th",{className:"px-1 py-2 text-center text-xs font-medium w-16",children:N},N)),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-20",children:"Unit"}),o.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium w-28",children:"Commentaire"}),o.jsx("th",{className:"px-1 py-2 w-8"})]})}),o.jsx("tbody",{children:a.map((N,A)=>o.jsxs("tr",{className:`border-t ${N.isDuplicate?"bg-yellow-50 dark:bg-yellow-900/10":""}`,children:[o.jsx("td",{className:"px-1 py-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(_e,{className:`h-8 text-xs ${N.isDuplicate?"border-yellow-400":""}`,placeholder:"NR...",value:N.code,onChange:E=>g(A,"code",E.target.value)}),N.isDuplicate&&o.jsx(hu,{className:"absolute right-1 top-1.5 h-3 w-3 text-yellow-500"})]})}),o.jsx("td",{className:"px-1 py-1",children:o.jsx(_e,{className:"h-8 text-xs",placeholder:"Nom...",value:N.name,onChange:E=>g(A,"name",E.target.value)})}),o.jsx("td",{className:"px-1 py-1",children:o.jsx(_e,{className:"h-8 text-xs",value:N.supplier,onChange:E=>g(A,"supplier",E.target.value)})}),o.jsx("td",{className:"px-1 py-1",children:o.jsxs(it,{value:N.currency,onValueChange:E=>g(A,"currency",E),children:[o.jsx(rt,{className:"h-8 text-xs",children:o.jsx(st,{})}),o.jsx(nt,{children:zb.map(E=>o.jsx(De,{value:E,children:E},E))})]})}),Tm.map(E=>o.jsx("td",{className:"px-1 py-1",children:o.jsx(_e,{type:"number",step:"0.01",className:"h-8 text-xs text-right font-mono-numbers",value:N.prices[E]??"",onChange:k=>v(A,E,parseFloat(k.target.value)||0),placeholder:"0"})},E)),o.jsx("td",{className:"px-1 py-1",children:o.jsx(_e,{className:"h-8 text-xs",value:N.unit,onChange:E=>g(A,"unit",E.target.value)})}),o.jsx("td",{className:"px-1 py-1",children:o.jsx(_e,{className:"h-8 text-xs",value:N.comments,onChange:E=>g(A,"comments",E.target.value)})}),o.jsx("td",{className:"px-1 py-1 text-center",children:o.jsx("button",{onClick:()=>x(A),className:"text-destructive hover:text-destructive/80",children:o.jsx(Ai,{className:"h-4 w-4"})})})]},A))})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ie,{variant:"outline",size:"sm",onClick:b,children:"+ Ajouter une ligne"}),o.jsxs("div",{className:"flex items-center gap-3",children:[m>0&&o.jsxs("span",{className:"text-xs text-yellow-600",children:[m," doublon(s)"]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[y," ligne(s) valide(s)"]})]})]})]}),o.jsxs(vt,{value:"file",className:"space-y-4 mt-3",children:[o.jsxs(Js,{children:[o.jsx(lh,{className:"h-4 w-4"}),o.jsxs(eo,{children:["Formats supports : ",o.jsx("strong",{children:".csv, .tsv"}),o.jsx("br",{}),"Colonnes attendues : Code, Nom, Fournisseur, Devise, 50, 100, 200, 500, 1000, 2000, 5000, 10000, Unit, Commentaire"]})]}),o.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx(es,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),o.jsx("input",{ref:p,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:j}),o.jsx(ie,{variant:"outline",onClick:()=>{var N;return(N=p.current)==null?void 0:N.click()},children:"Choisir un fichier"})]})}),a.length>0&&a[0].code&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[y," ligne(s) charge(s) et prte(s)  importer"]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsxs(ie,{variant:"outline",onClick:C,children:[o.jsx(Ai,{className:"h-4 w-4 mr-1"})," Annuler"]}),o.jsxs(ie,{onClick:S,disabled:y===0||s,children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer ",y," rfrence(s)"]})]})]})})}const fEe=["Mcanique","lectronique","Plastique","Composite","Caoutchouc","Visserie","Cblage","Autre"],hEe=["EUR","USD","GBP","CHF","CNY","JPY"],pEe="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),mEe=[50,100,200,500,1e3,2e3,5e3,1e4];function vEe({references:e,suppliers:t,onCreateReference:r,onUpdateReference:n,onDeleteReference:a,onBulkImport:i,onSelectReference:s}){const[l,c]=w.useState(""),[u,f]=w.useState(!1),[d,h]=w.useState(!1),[p,y]=w.useState(null),[m,g]=w.useState({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),v=e.filter(j=>j.code.toLowerCase().includes(l.toLowerCase())||j.name.toLowerCase().includes(l.toLowerCase())||j.supplier.toLowerCase().includes(l.toLowerCase())),x=()=>{y(null),g({code:"",name:"",category:"Mcanique",revision:"A",supplier:"",currency:"EUR",comments:"",prices:{}}),h(!0)},b=j=>{y(j),g({code:j.code,name:j.name,category:j.category,revision:j.revision,supplier:j.supplier,currency:j.currency,comments:j.comments,prices:{...j.prices}}),h(!0)},_=async()=>{if(!m.code||!m.name)return;const j={...m,supplier:m.supplier==="none"?"":m.supplier};p?await n(p.id,j):await r(j),h(!1)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(vS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(_e,{placeholder:"Rechercher code, nom, fournisseur...",value:l,onChange:j=>c(j.target.value),className:"pl-9"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ie,{variant:"outline",onClick:()=>f(!0),children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer"]}),o.jsxs(Rr,{open:d,onOpenChange:h,children:[o.jsx(Xx,{asChild:!0,children:o.jsxs(ie,{onClick:x,children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"})," Nouvelle rfrence"]})}),o.jsxs(xr,{className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[o.jsx(br,{children:o.jsx(wr,{children:p?"Modifier la rfrence":"Nouvelle rfrence"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(je,{children:"Code *"}),o.jsx(_e,{value:m.code,onChange:j=>g({...m,code:j.target.value}),placeholder:"REF-001"})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Nom *"}),o.jsx(_e,{value:m.name,onChange:j=>g({...m,name:j.target.value}),placeholder:"Nom de la pice"})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Catgorie"}),o.jsxs(it,{value:m.category,onValueChange:j=>g({...m,category:j}),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsx(nt,{children:fEe.map(j=>o.jsx(De,{value:j,children:j},j))})]})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Rvision"}),o.jsxs(it,{value:m.revision,onValueChange:j=>g({...m,revision:j}),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsx(nt,{children:pEe.map(j=>o.jsx(De,{value:j,children:j},j))})]})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Fournisseur"}),o.jsxs(it,{value:m.supplier,onValueChange:j=>g({...m,supplier:j}),children:[o.jsx(rt,{children:o.jsx(st,{placeholder:"Slectionner..."})}),o.jsxs(nt,{children:[o.jsx(De,{value:"none",children:"Aucun"}),t.map(j=>o.jsx(De,{value:j.name,children:j.name},j.id))]})]})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Devise"}),o.jsxs(it,{value:m.currency,onValueChange:j=>g({...m,currency:j}),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsx(nt,{children:hEe.map(j=>o.jsx(De,{value:j,children:j},j))})]})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs(je,{className:"text-sm font-semibold",children:["Grille de prix par volume (",m.currency,")"]}),o.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:mEe.map(j=>o.jsxs("div",{children:[o.jsxs(je,{className:"text-xs text-muted-foreground",children:[j," units"]}),o.jsx(_e,{type:"number",step:"0.01",className:"font-mono-numbers text-right",value:m.prices[j]||"",onChange:S=>g({...m,prices:{...m.prices,[j]:parseFloat(S.target.value)||0}}),placeholder:"0.00"})]},j))})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(je,{children:"Commentaires"}),o.jsx(Ti,{value:m.comments,onChange:j=>g({...m,comments:j.target.value}),rows:2})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ie,{onClick:_,children:p?"Mettre  jour":"Crer"})})]})]})]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Code"}),o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Catgorie"}),o.jsx(le,{children:"Rv."}),o.jsx(le,{children:"Fournisseur"}),o.jsx(le,{children:"Devise"}),o.jsx(le,{className:"text-right",children:"Prix @500"}),o.jsx(le,{className:"text-right",children:"Prix @1000"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[v.length===0&&o.jsx(be,{children:o.jsx(Y,{colSpan:9,className:"text-center text-muted-foreground py-8",children:'Aucune rfrence. Cliquez sur "Nouvelle rfrence" pour commencer.'})}),v.map(j=>{var S,C;return o.jsxs(be,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>s(j),children:[o.jsx(Y,{className:"font-mono-numbers font-medium",children:j.code}),o.jsx(Y,{children:j.name}),o.jsx(Y,{children:o.jsx($e,{variant:"secondary",children:j.category})}),o.jsx(Y,{children:j.revision}),o.jsx(Y,{children:j.supplier||"-"}),o.jsx(Y,{children:j.currency}),o.jsx(Y,{className:"text-right font-mono-numbers",children:((S=j.prices[500])==null?void 0:S.toFixed(2))||"-"}),o.jsx(Y,{className:"text-right font-mono-numbers",children:((C=j.prices[1e3])==null?void 0:C.toFixed(2))||"-"}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:N=>{N.stopPropagation(),b(j)},children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",onClick:N=>{N.stopPropagation(),a(j.id)},children:o.jsx(Xr,{className:"h-3 w-3 text-destructive"})})]})})]},j.id)})]})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.length," rfrence(s)  Cliquez sur une ligne pour voir les dtails et plans techniques"]}),o.jsx(dEe,{open:u,onOpenChange:f,onImport:i,existingCodes:e.map(j=>j.code)})]})}const gEe=[50,100,200,500,1e3,2e3,5e3,1e4];function yEe({reference:e,files:t,onUploadFile:r,onDeleteFile:n,onGetSignedUrl:a,onBack:i}){const s=w.useRef(null),l=t.filter(d=>d.reference_id===e.id),c=async d=>{var p;const h=(p=d.target.files)==null?void 0:p[0];h&&await r(e.id,h),s.current&&(s.current.value="")},u=async d=>{const h=await a(d.file_path);h&&window.open(h,"_blank")},f=d=>d<1024?`${d} B`:d<1024*1024?`${(d/1024).toFixed(1)} KB`:`${(d/(1024*1024)).toFixed(1)} MB`;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:i,children:o.jsx(Z$,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold",children:[e.code,"  ",e.name]}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx($e,{variant:"secondary",children:e.category}),o.jsxs($e,{variant:"outline",children:["Rv. ",e.revision]}),e.supplier&&o.jsx($e,{variant:"outline",children:e.supplier})]})]})]}),o.jsxs("div",{className:"financial-card p-4",children:[o.jsxs("h4",{className:"section-title",children:["Grille de prix (",e.currency,")"]}),o.jsx("div",{className:"grid grid-cols-8 gap-2",children:gEe.map(d=>{var h;return o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[d," u."]}),o.jsx("div",{className:"font-mono-numbers font-medium",children:((h=e.prices[d])==null?void 0:h.toFixed(2))||""})]},d)})})]}),e.comments&&o.jsxs("div",{className:"financial-card p-4",children:[o.jsx("h4",{className:"section-title",children:"Commentaires"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.comments})]}),o.jsxs("div",{className:"financial-card p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"section-title mb-0",children:"Plans techniques"}),o.jsxs("div",{children:[o.jsx("input",{ref:s,type:"file",className:"hidden",onChange:c,accept:".pdf,.dwg,.dxf,.step,.stp,.iges,.igs,.png,.jpg,.jpeg"}),o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{var d;return(d=s.current)==null?void 0:d.click()},children:[o.jsx(es,{className:"h-3 w-3 mr-1"})," Ajouter un fichier"]})]})]}),l.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:'Aucun fichier. Cliquez sur "Ajouter un fichier" pour uploader un plan.'}):o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Fichier"}),o.jsx(le,{children:"Version"}),o.jsx(le,{children:"Taille"}),o.jsx(le,{children:"Date"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:l.map(d=>o.jsxs(be,{children:[o.jsxs(Y,{className:"flex items-center gap-2",children:[o.jsx(Cl,{className:"h-4 w-4 text-muted-foreground"}),d.file_name]}),o.jsx(Y,{children:o.jsxs($e,{variant:"outline",children:["v",d.version]})}),o.jsx(Y,{className:"font-mono-numbers text-muted-foreground",children:f(d.file_size)}),o.jsx(Y,{className:"text-muted-foreground",children:new Date(d.uploaded_at).toLocaleDateString("fr-FR")}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>u(d),children:o.jsx(Ey,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>n(d.id,d.file_path),children:o.jsx(Xr,{className:"h-3 w-3 text-destructive"})})]})})]},d.id))})]})]})]})}const xEe=[50,100,200,500,1e3,2e3,5e3,1e4],bEe=["Standard","Premium","conomique","Custom"];function Rm(){return{refCode:"",quantity:1,volume:200,found:!1,referenceId:null,referenceName:""}}function wEe({open:e,onOpenChange:t,existingReferences:r,existingSuppliers:n,onImportProduct:a}){const[i,s]=w.useState(""),[l,c]=w.useState("Standard"),[u,f]=w.useState(""),[d,h]=w.useState([Rm()]),[p,y]=w.useState(!1),[m,g]=w.useState(null),v=w.useRef(null),x=w.useCallback(T=>{if(!T.trim())return{found:!1,referenceId:null,referenceName:""};const P=r.find($=>$.code.toLowerCase()===T.trim().toLowerCase());return P?{found:!0,referenceId:P.id,referenceName:P.name}:{found:!1,referenceId:null,referenceName:""}},[r]),b=(T,P,$)=>{h(I=>{const M=[...I];if(M[T]={...M[T],[P]:$},P==="refCode"){const D=x($);M[T]={...M[T],...D}}return M})},_=T=>{h(P=>P.length===1?[Rm()]:P.filter(($,I)=>I!==T))},j=()=>h(T=>[...T,Rm()]),S=w.useCallback(T=>{const P=T.clipboardData.getData("text/plain");if(!P.includes("	")&&!P.includes(`
`))return;T.preventDefault();const $=P.split(`
`).map(U=>U.trim()).filter(U=>U.length>0),I=$[0].toLowerCase(),L=(I.includes("code")||I.includes("ref")||I.includes("rfrence")?$.slice(1):$).map(U=>{const X=U.split("	"),G=(X[0]||"").trim(),te=parseFloat((X[1]||"1").replace(",","."))||1,z=parseInt(X[2]||"200")||200,B=x(G);return{refCode:G,quantity:te,volume:z,...B}}).filter(U=>U.refCode.length>0);L.length>0&&h(U=>U.length===1&&!U[0].refCode?L:[...U,...L])},[x]),C=T=>{var I;const P=(I=T.target.files)==null?void 0:I[0];if(!P)return;const $=new FileReader;$.onload=M=>{var B;const D=(B=M.target)==null?void 0:B.result;if(!D)return;const L=D.includes("	")?"	":D.includes(";")?";":",",U=D.split(`
`).map(V=>V.trim()).filter(V=>V.length>0),X=U[0].toLowerCase(),z=(X.includes("code")||X.includes("ref")?U.slice(1):U).map(V=>{const H=V.split(L),ce=(H[0]||"").trim(),Q=parseFloat((H[1]||"1").replace(",","."))||1,Z=parseInt(H[2]||"200")||200,W=x(ce);return{refCode:ce,quantity:Q,volume:Z,...W}}).filter(V=>V.refCode.length>0);z.length>0&&h(z)},$.readAsText(P),v.current&&(v.current.value="")},N=d.filter(T=>T.refCode.trim()&&T.found&&T.referenceId),A=d.filter(T=>T.refCode.trim()&&!T.found),E=N.length,k=async()=>{if(!(!i.trim()||E===0)){y(!0);try{const T=N.map(P=>({referenceId:P.referenceId,quantity:P.quantity}));await a({name:i,family:l,main_supplier:u,coefficient:1.3,price_ttc:0,default_volume:500,comments:""},T),g({success:!0,productName:i,refCount:E,errors:A.map(P=>P.refCode)})}catch{g({success:!1,productName:i,refCount:0,errors:["Erreur lors de la cration"]})}finally{y(!1)}}},R=()=>{s(""),c("Standard"),f(""),h([Rm()]),g(null),t(!1)};return m?o.jsx(Rr,{open:e,onOpenChange:R,children:o.jsxs(xr,{className:"max-w-md",children:[o.jsx(br,{children:o.jsxs(wr,{className:"flex items-center gap-2",children:[m.success?o.jsx(rI,{className:"h-5 w-5 text-emerald-500"}):o.jsx(hu,{className:"h-5 w-5 text-destructive"}),m.success?"Produit cr":"Erreur"]})}),o.jsxs("div",{className:"space-y-3 py-4",children:[m.success&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-sm",children:["Le produit ",o.jsx("strong",{children:m.productName})," a t cr avec ",o.jsx("strong",{children:m.refCount})," rfrence(s)."]}),m.errors.length>0&&o.jsxs(Js,{children:[o.jsx(hu,{className:"h-4 w-4"}),o.jsxs(eo,{children:[o.jsxs("span",{className:"font-medium",children:[m.errors.length," rfrence(s) non trouve(s) ignore(s) :"]}),o.jsx("span",{className:"text-xs ml-1",children:m.errors.join(", ")})]})]})]}),!m.success&&o.jsx("p",{className:"text-sm text-destructive",children:m.errors[0]})]}),o.jsx(ie,{onClick:R,className:"w-full",children:"Fermer"})]})}):o.jsx(Rr,{open:e,onOpenChange:R,children:o.jsxs(xr,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs(br,{children:[o.jsx(wr,{children:"Importer des produits"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Choisissez votre mthode d'import"})]}),o.jsxs(Ea,{defaultValue:"paste",className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs(ca,{className:"w-full",children:[o.jsxs(ut,{value:"paste",className:"flex-1",children:[o.jsx(nI,{className:"h-4 w-4 mr-1"})," Coller depuis Excel"]}),o.jsxs(ut,{value:"file",className:"flex-1",children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer un fichier"]})]}),o.jsxs(vt,{value:"paste",className:"flex-1 flex flex-col overflow-hidden space-y-3 mt-3",children:[o.jsxs(Js,{children:[o.jsx(lh,{className:"h-4 w-4"}),o.jsxs(eo,{children:[o.jsx("strong",{children:"Comment utiliser :"}),o.jsxs("ol",{className:"list-decimal ml-4 mt-1 text-sm space-y-0.5",children:[o.jsxs("li",{children:["Saisissez le ",o.jsx("strong",{children:"nom du produit"})," et sa famille en haut"]}),o.jsx("li",{children:"Collez les codes de rfrences depuis Excel (Ctrl+V)"}),o.jsx("li",{children:"Ajustez quantit et volume d'achat pour chaque rfrence"}),o.jsxs("li",{children:["Les rfrences ",o.jsx("strong",{className:"text-destructive",children:"non trouves"})," apparaissent en rouge"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 border rounded-lg bg-muted/30",children:[o.jsxs("div",{children:[o.jsx(je,{children:"Nom du produit *"}),o.jsx(_e,{value:i,onChange:T=>s(T.target.value),placeholder:"Ex: CCD-Diaphrag-105 111"})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Famille *"}),o.jsxs(it,{value:l,onValueChange:c,children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsx(nt,{children:bEe.map(T=>o.jsx(De,{value:T,children:T},T))})]})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Fournisseur"}),o.jsxs(it,{value:u,onValueChange:f,children:[o.jsx(rt,{children:o.jsx(st,{placeholder:"Slectionner..."})}),o.jsxs(nt,{children:[o.jsx(De,{value:" ",children:"Aucun"}),n.map(T=>o.jsx(De,{value:T,children:T},T))]})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto border rounded",onPaste:S,children:[o.jsx("p",{className:"text-sm font-medium px-3 py-2 bg-muted/50 border-b",children:"Rfrences du produit"}),o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Code Rfrence"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-24",children:"Quantit"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium w-32",children:"Volume d'achat"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",children:"Statut"}),o.jsx("th",{className:"px-1 py-2 w-8"})]})}),o.jsx("tbody",{children:d.map((T,P)=>o.jsxs("tr",{className:`border-t ${T.refCode&&!T.found?"bg-destructive/5":""}`,children:[o.jsxs("td",{className:"px-2 py-1",children:[o.jsx(_e,{className:`h-8 text-xs ${T.refCode&&!T.found?"border-destructive text-destructive":""}`,placeholder:"NR20200022",value:T.refCode,onChange:$=>b(P,"refCode",$.target.value)}),T.found&&o.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:T.referenceName})]}),o.jsx("td",{className:"px-2 py-1",children:o.jsx(_e,{type:"number",min:1,className:"h-8 text-xs font-mono-numbers",value:T.quantity,onChange:$=>b(P,"quantity",parseInt($.target.value)||1)})}),o.jsx("td",{className:"px-2 py-1",children:o.jsxs(it,{value:String(T.volume),onValueChange:$=>b(P,"volume",parseInt($)),children:[o.jsx(rt,{className:"h-8 text-xs",children:o.jsx(st,{})}),o.jsx(nt,{children:xEe.map($=>o.jsx(De,{value:String($),children:$},$))})]})}),o.jsx("td",{className:"px-2 py-1",children:T.refCode&&(T.found?o.jsx($e,{variant:"secondary",className:"text-xs",children:" Trouve"}):o.jsx($e,{variant:"destructive",className:"text-xs",children:"Non trouve"}))}),o.jsx("td",{className:"px-1 py-1 text-center",children:o.jsx("button",{onClick:()=>_(P),className:"text-destructive hover:text-destructive/80",children:o.jsx(Ai,{className:"h-4 w-4"})})})]},P))})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ie,{variant:"outline",size:"sm",onClick:j,children:"+ Ajouter une rfrence"}),o.jsxs("div",{className:"flex items-center gap-3",children:[A.length>0&&o.jsxs("span",{className:"text-xs text-destructive",children:[A.length," non trouve(s)"]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[E," rfrence(s) valide(s)"]})]})]})]}),o.jsxs(vt,{value:"file",className:"space-y-4 mt-3",children:[o.jsxs(Js,{children:[o.jsx(lh,{className:"h-4 w-4"}),o.jsxs(eo,{children:["Formats supports : ",o.jsx("strong",{children:".csv, .tsv"}),o.jsx("br",{}),"Colonnes attendues : Code Rfrence, Quantit, Volume d'achat"]})]}),o.jsx("div",{className:"flex justify-center py-8 border-2 border-dashed rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx(es,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Glissez un fichier ou cliquez pour slectionner"}),o.jsx("input",{ref:v,type:"file",className:"hidden",accept:".csv,.tsv,.txt",onChange:C}),o.jsx(ie,{variant:"outline",onClick:()=>{var T;return(T=v.current)==null?void 0:T.click()},children:"Choisir un fichier"})]})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsxs(ie,{variant:"outline",onClick:R,children:[o.jsx(Ai,{className:"h-4 w-4 mr-1"})," Annuler"]}),o.jsxs(ie,{onClick:k,disabled:!i.trim()||E===0||p,children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Crer le produit (",E," rf.)"]})]})]})})}function jEe({products:e,references:t,categories:r,onCreateProduct:n,onUpdateProduct:a,onDeleteProduct:i,onSelectProduct:s,onImportProduct:l,calculateProductCosts:c}){const[u,f]=w.useState(""),[d,h]=w.useState(!1),[p,y]=w.useState(!1),[m,g]=w.useState(null),[v,x]=w.useState({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:""}),b=e.filter(C=>{var A;const N=((A=r.find(E=>E.id===C.category_id))==null?void 0:A.name)||"";return C.name.toLowerCase().includes(u.toLowerCase())||N.toLowerCase().includes(u.toLowerCase())}),_=()=>{g(null),x({name:"",main_supplier:"",coefficient:1.3,price_ttc:0,default_volume:500,comments:"",category_id:null}),y(!0)},j=C=>{g(C),x({name:C.name,main_supplier:C.main_supplier,coefficient:C.coefficient,price_ttc:C.price_ttc,default_volume:C.default_volume,comments:C.comments,category_id:C.category_id||null}),y(!0)},S=async()=>{v.name&&(m?await a(m.id,v):await n(v),y(!1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(vS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(_e,{placeholder:"Rechercher produit ou catgorie...",value:u,onChange:C=>f(C.target.value),className:"pl-9"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ie,{variant:"outline",onClick:()=>h(!0),children:[o.jsx(es,{className:"h-4 w-4 mr-1"})," Importer"]}),o.jsxs(Rr,{open:p,onOpenChange:y,children:[o.jsx(Xx,{asChild:!0,children:o.jsxs(ie,{onClick:_,children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"})," Nouveau produit"]})}),o.jsxs(xr,{className:"max-w-lg",children:[o.jsx(br,{children:o.jsx(wr,{children:m?"Modifier le produit":"Nouveau produit"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(je,{children:"Nom *"}),o.jsx(_e,{value:v.name,onChange:C=>x({...v,name:C.target.value}),placeholder:"Nom du produit"})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Catgorie"}),o.jsxs(it,{value:v.category_id||"none",onValueChange:C=>x({...v,category_id:C==="none"?null:C}),children:[o.jsx(rt,{children:o.jsx(st,{placeholder:"Aucune catgorie"})}),o.jsxs(nt,{children:[o.jsx(De,{value:"none",children:"Aucune"}),r.map(C=>o.jsx(De,{value:C.id,children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-block h-3 w-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id))]})]})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Fournisseur principal"}),o.jsx(_e,{value:v.main_supplier,onChange:C=>x({...v,main_supplier:C.target.value})})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Coefficient (MO + assemblage)"}),o.jsx(_e,{type:"number",step:"0.01",className:"font-mono-numbers",value:v.coefficient,onChange:C=>x({...v,coefficient:parseFloat(C.target.value)||1})})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Volume d'achat par dfaut"}),o.jsx(_e,{type:"number",className:"font-mono-numbers",value:v.default_volume,onChange:C=>x({...v,default_volume:parseInt(C.target.value)||500})})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Prix TTC public ()"}),o.jsx(_e,{type:"number",step:"0.01",className:"font-mono-numbers",value:v.price_ttc,onChange:C=>x({...v,price_ttc:parseFloat(C.target.value)||0})})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(je,{children:"Commentaires"}),o.jsx(Ti,{value:v.comments,onChange:C=>x({...v,comments:C.target.value}),rows:2})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ie,{onClick:S,children:m?"Mettre  jour":"Crer"})})]})]})]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Produit"}),o.jsx(le,{children:"Catgorie"}),o.jsx(le,{children:"Fournisseur"}),o.jsx(le,{className:"text-right",children:"Coef."}),o.jsx(le,{className:"text-right",children:"Cot @500"}),o.jsx(le,{className:"text-right",children:"Prix TTC"}),o.jsx(le,{className:"text-right",children:"Marge"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[b.length===0&&o.jsx(be,{children:o.jsx(Y,{colSpan:8,className:"text-center text-muted-foreground py-8",children:'Aucun produit. Cliquez sur "Nouveau produit" pour commencer.'})}),b.map(C=>{const A=c(C.id)[500]||0,E=C.price_ttc>0?(C.price_ttc/1.2-A)/(C.price_ttc/1.2)*100:0;return o.jsxs(be,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>s(C),children:[o.jsx(Y,{className:"font-medium",children:C.name}),o.jsx(Y,{children:(()=>{const k=r.find(R=>R.id===C.category_id);return k?o.jsxs($e,{variant:"outline",className:"gap-1",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:k.color}}),k.name]}):o.jsx("span",{className:"text-muted-foreground text-xs",children:""})})()}),o.jsx(Y,{children:C.main_supplier||"-"}),o.jsx(Y,{className:"text-right font-mono-numbers",children:C.coefficient.toFixed(2)}),o.jsx(Y,{className:"text-right font-mono-numbers",children:A>0?`${A.toFixed(2)} `:"-"}),o.jsx(Y,{className:"text-right font-mono-numbers",children:C.price_ttc>0?`${C.price_ttc.toFixed(2)} `:"-"}),o.jsx(Y,{className:`text-right font-mono-numbers font-medium ${E>0?"positive-value":"negative-value"}`,children:C.price_ttc>0?`${E.toFixed(1)}%`:"-"}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:k=>{k.stopPropagation(),j(C)},children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",onClick:k=>{k.stopPropagation(),i(C.id)},children:o.jsx(Xr,{className:"h-3 w-3 text-destructive"})})]})})]},C.id)})]})]})}),o.jsx(wEe,{open:d,onOpenChange:h,existingReferences:t,existingSuppliers:[...new Set(t.map(C=>C.supplier).filter(Boolean))],onImportProduct:l})]})}const cf=[50,100,200,500,1e3,2e3,5e3,1e4];function _Ee({product:e,references:t,bom:r,onAddBomEntry:n,onUpdateBomEntry:a,onRemoveBomEntry:i,calculateProductCosts:s,onBack:l}){const[c,u]=w.useState(""),[f,d]=w.useState(1),h=r.filter(b=>b.product_id===e.id),p=s(e.id),y=e.price_ttc/1.2,m=cf.map(b=>({volume:`${b}`,cost:p[b]||0,margin:y>0?Math.max(0,y-(p[b]||0)):0})),g=async()=>{c&&(await n(e.id,c,f),u(""),d(1))},v=new Set(h.map(b=>b.reference_id)),x=t.filter(b=>!v.has(b.id));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:l,children:o.jsx(Z$,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:e.name}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsxs($e,{variant:"outline",children:["Coef. ",e.coefficient]}),o.jsxs($e,{variant:"outline",children:["Prix TTC ",e.price_ttc.toFixed(2)," "]})]})]})]}),o.jsxs("div",{className:"financial-card p-4",children:[o.jsx("h4",{className:"section-title",children:"Nomenclature (BOM)"}),o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Code"}),o.jsx(le,{children:"Rfrence"}),o.jsx(le,{className:"text-right",children:"Qt"}),cf.map(b=>o.jsxs(le,{className:"text-right text-xs",children:["@",b]},b)),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[h.map(b=>{const _=t.find(j=>j.id===b.reference_id);return _?o.jsxs(be,{children:[o.jsx(Y,{className:"font-mono-numbers",children:_.code}),o.jsx(Y,{children:_.name}),o.jsx(Y,{className:"text-right",children:o.jsx(_e,{type:"number",min:1,className:"w-16 text-right font-mono-numbers inline-block",value:b.quantity,onChange:j=>a(b.id,parseFloat(j.target.value)||1)})}),cf.map(j=>o.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:((_.prices[j]||0)*b.quantity).toFixed(2)},j)),o.jsx(Y,{children:o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>i(b.id),children:o.jsx(Xr,{className:"h-3 w-3 text-destructive"})})})]},b.id):null}),o.jsxs(be,{className:"font-semibold bg-muted/30",children:[o.jsxs(Y,{colSpan:3,className:"text-right",children:["Cot total ( coef. ",e.coefficient,")"]}),cf.map(b=>o.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(p[b]||0).toFixed(2)},b)),o.jsx(Y,{})]}),y>0&&o.jsxs(be,{className:"font-semibold",children:[o.jsx(Y,{colSpan:3,className:"text-right",children:"Marge ()"}),cf.map(b=>{const _=y-(p[b]||0);return o.jsx(Y,{className:`text-right font-mono-numbers text-xs ${_>=0?"positive-value":"negative-value"}`,children:_.toFixed(2)},b)}),o.jsx(Y,{})]})]})]}),o.jsxs("div",{className:"flex items-end gap-2 mt-4 pt-4 border-t",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(je,{className:"text-xs",children:"Rfrence"}),o.jsxs(it,{value:c,onValueChange:u,children:[o.jsx(rt,{children:o.jsx(st,{placeholder:"Choisir une rfrence..."})}),o.jsx(nt,{children:x.map(b=>o.jsxs(De,{value:b.id,children:[b.code,"  ",b.name]},b.id))})]})]}),o.jsxs("div",{className:"w-20",children:[o.jsx(je,{className:"text-xs",children:"Qt"}),o.jsx(_e,{type:"number",min:1,className:"font-mono-numbers",value:f,onChange:b=>d(parseInt(b.target.value)||1)})]}),o.jsxs(ie,{size:"sm",onClick:g,disabled:!c,children:[o.jsx(Tr,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})]}),h.length>0&&o.jsxs("div",{className:"financial-card p-4",children:[o.jsx("h4",{className:"section-title",children:"Cot vs Marge par volume"}),o.jsx(an,{width:"100%",height:300,children:o.jsxs(Rd,{data:m,children:[o.jsx(sn,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(dr,{dataKey:"volume",tick:{fontSize:12}}),o.jsx(fr,{tick:{fontSize:12}}),o.jsx(Ft,{formatter:b=>`${b.toFixed(2)} `}),o.jsx(qt,{dataKey:"cost",name:"Cot",fill:"hsl(var(--accent))",stackId:"a"}),y>0&&o.jsx(qt,{dataKey:"margin",name:"Marge",fill:"hsl(var(--positive))",stackId:"a"})]})})]})]})}function SEe({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState({name:"",description:"",color:"#6366f1"}),f=()=>{l(null),u({name:"",description:"",color:"#6366f1"}),i(!0)},d=p=>{l(p),u({name:p.name,description:p.description,color:p.color}),i(!0)},h=async()=>{c.name.trim()&&(s?await r(s.id,c):await t(c),i(!1))};return o.jsxs("div",{className:"financial-card p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"section-title flex items-center gap-2",children:[o.jsx(pW,{className:"h-4 w-4"})," Catgories de produits"]}),o.jsxs(Rr,{open:a,onOpenChange:i,children:[o.jsx(Xx,{asChild:!0,children:o.jsxs(ie,{size:"sm",onClick:f,children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})}),o.jsxs(xr,{className:"max-w-md",children:[o.jsx(br,{children:o.jsx(wr,{children:s?"Modifier la catgorie":"Nouvelle catgorie"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(je,{children:"Nom *"}),o.jsx(_e,{value:c.name,onChange:p=>u({...c,name:p.target.value}),placeholder:"Ex: lectronique, Mcanique..."})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Description"}),o.jsx(Ti,{value:c.description,onChange:p=>u({...c,description:p.target.value}),rows:2,placeholder:"Description optionnelle"})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Couleur"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",value:c.color,onChange:p=>u({...c,color:p.target.value}),className:"h-9 w-12 rounded border cursor-pointer"}),o.jsx(_e,{value:c.color,onChange:p=>u({...c,color:p.target.value}),className:"font-mono-numbers flex-1"})]})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ie,{onClick:h,children:s?"Mettre  jour":"Crer"})})]})]})]}),e.length===0?o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucune catgorie. Crez-en pour organiser vos produits."}):o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Couleur"}),o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Description"}),o.jsx(le,{})]})}),o.jsx(Wt,{children:e.map(p=>o.jsxs(be,{children:[o.jsx(Y,{children:o.jsx("div",{className:"h-5 w-5 rounded-full border",style:{backgroundColor:p.color}})}),o.jsx(Y,{className:"font-medium",children:p.name}),o.jsx(Y,{className:"text-muted-foreground text-sm",children:p.description||"-"}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>d(p),children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>n(p.id),children:o.jsx(Xr,{className:"h-3 w-3 text-destructive"})})]})})]},p.id))})]})]})}const li=[50,100,200,500,1e3,2e3,5e3,1e4];function CEe({products:e,references:t,bom:r,calculateProductCosts:n}){const[a,i]=w.useState(!1),[s,l]=w.useState(!1),[c,u]=w.useState(new Set),[f,d]=w.useState(new Set),h=g=>{const v=new Set(c);v.has(g)?v.delete(g):v.add(g),u(v)},p=g=>{const v=new Set(f);v.has(g)?v.delete(g):v.add(g),d(v)},y=()=>{const g=e.filter(b=>c.size===0||c.has(b.id)),v=["Produit","Famille","Coef.",...li.map(b=>`Cot @${b}`),"Prix TTC","Marge @500"].join("	"),x=g.map(b=>{const _=n(b.id),j=b.price_ttc/1.2,S=j>0?((j-(_[500]||0))/j*100).toFixed(1)+"%":"-";return[b.name,b.family,b.coefficient.toFixed(2),...li.map(C=>(_[C]||0).toFixed(2)),b.price_ttc.toFixed(2),S].join("	")});navigator.clipboard.writeText([v,...x].join(`
`)),i(!0),setTimeout(()=>i(!1),2e3),Ce.success("Donnes produits copies")},m=()=>{const g=t.filter(b=>f.size===0||f.has(b.id)),v=["Code","Nom","Catgorie","Fournisseur",...li.map(b=>`Prix @${b}`),"Devise","Commentaires"].join("	"),x=g.map(b=>[b.code,b.name,b.category,b.supplier,...li.map(_=>(b.prices[_]||0).toFixed(2)),b.currency,b.comments].join("	"));navigator.clipboard.writeText([v,...x].join(`
`)),l(!0),setTimeout(()=>l(!1),2e3),Ce.success("Donnes rfrences copies")};return o.jsxs(Ea,{defaultValue:"products",className:"space-y-4",children:[o.jsxs(ca,{children:[o.jsx(ut,{value:"products",children:"Export Produits"}),o.jsx(ut,{value:"references",children:"Export Rfrences"}),o.jsx(ut,{value:"margins",children:"Analyse Marges"})]}),o.jsxs(vt,{value:"products",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:c.size>0?`${c.size} produit(s) slectionn(s)`:"Tous les produits seront exports"}),o.jsxs(ie,{variant:"outline",onClick:y,children:[a?o.jsx(oh,{className:"h-4 w-4 mr-1"}):o.jsx(zP,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{className:"w-8"}),o.jsx(le,{children:"Produit"}),o.jsx(le,{children:"Famille"}),li.map(g=>o.jsxs(le,{className:"text-right text-xs",children:["@",g]},g)),o.jsx(le,{className:"text-right",children:"Prix TTC"})]})}),o.jsx(Wt,{children:e.map(g=>{const v=n(g.id);return o.jsxs(be,{className:"cursor-pointer",onClick:()=>h(g.id),children:[o.jsx(Y,{children:o.jsx("input",{type:"checkbox",checked:c.has(g.id),readOnly:!0})}),o.jsx(Y,{className:"font-medium",children:g.name}),o.jsx(Y,{children:o.jsx($e,{variant:"secondary",children:g.family})}),li.map(x=>o.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(v[x]||0).toFixed(2)},x)),o.jsx(Y,{className:"text-right font-mono-numbers",children:g.price_ttc.toFixed(2)})]},g.id)})})]})})]}),o.jsxs(vt,{value:"references",className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:f.size>0?`${f.size} rfrence(s) slectionne(s)`:"Toutes les rfrences seront exportes"}),o.jsxs(ie,{variant:"outline",onClick:m,children:[s?o.jsx(oh,{className:"h-4 w-4 mr-1"}):o.jsx(zP,{className:"h-4 w-4 mr-1"}),"Copier vers Excel"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{className:"w-8"}),o.jsx(le,{children:"Code"}),o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Fournisseur"}),li.map(g=>o.jsxs(le,{className:"text-right text-xs",children:["@",g]},g)),o.jsx(le,{children:"Devise"})]})}),o.jsx(Wt,{children:t.map(g=>o.jsxs(be,{className:"cursor-pointer",onClick:()=>p(g.id),children:[o.jsx(Y,{children:o.jsx("input",{type:"checkbox",checked:f.has(g.id),readOnly:!0})}),o.jsx(Y,{className:"font-mono-numbers",children:g.code}),o.jsx(Y,{children:g.name}),o.jsx(Y,{children:g.supplier||"-"}),li.map(v=>o.jsx(Y,{className:"text-right font-mono-numbers text-xs",children:(g.prices[v]||0).toFixed(2)},v)),o.jsx(Y,{children:g.currency})]},g.id))})]})})]}),o.jsx(vt,{value:"margins",className:"space-y-4",children:o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Produit"}),o.jsx(le,{className:"text-right",children:"Prix HT"}),li.map(g=>o.jsxs(le,{className:"text-right text-xs",children:["Marge @",g]},g))]})}),o.jsx(Wt,{children:e.map(g=>{const v=n(g.id),x=g.price_ttc/1.2;return o.jsxs(be,{children:[o.jsx(Y,{className:"font-medium",children:g.name}),o.jsx(Y,{className:"text-right font-mono-numbers",children:x>0?x.toFixed(2):"-"}),li.map(b=>{const _=x>0?(x-(v[b]||0))/x*100:0;return o.jsx(Y,{className:`text-right font-mono-numbers text-xs font-medium ${_>=30?"positive-value":_>=0?"text-warning":"negative-value"}`,children:x>0?`${_.toFixed(1)}%`:"-"},b)})]},g.id)})})]})})})]})}const U2={name:"",contact_name:"",email:"",phone:"",country:"France",comments:""};function NEe({suppliers:e,onCreateSupplier:t,onUpdateSupplier:r,onDeleteSupplier:n}){const[a,i]=w.useState(""),[s,l]=w.useState(!1),[c,u]=w.useState(null),[f,d]=w.useState(U2),h=e.filter(g=>g.name.toLowerCase().includes(a.toLowerCase())||g.contact_name.toLowerCase().includes(a.toLowerCase())||g.email.toLowerCase().includes(a.toLowerCase())),p=()=>{u(null),d(U2),l(!0)},y=g=>{u(g.id),d({name:g.name,contact_name:g.contact_name,email:g.email,phone:g.phone,country:g.country,comments:g.comments}),l(!0)},m=async()=>{f.name.trim()&&(c?await r(c,f):await t(f),l(!1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(vS,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(_e,{placeholder:"Rechercher un fournisseur...",value:a,onChange:g=>i(g.target.value),className:"pl-9"})]}),o.jsxs(ie,{onClick:p,children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"})," Nouveau fournisseur"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Nom"}),o.jsx(le,{children:"Contact"}),o.jsx(le,{children:"Email"}),o.jsx(le,{children:"Tlphone"}),o.jsx(le,{children:"Pays"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[h.length===0&&o.jsx(be,{children:o.jsx(Y,{colSpan:6,className:"text-center text-muted-foreground py-8",children:'Aucun fournisseur. Cliquez sur "Nouveau fournisseur" pour commencer.'})}),h.map(g=>o.jsxs(be,{children:[o.jsx(Y,{className:"font-medium",children:g.name}),o.jsx(Y,{children:g.contact_name||"-"}),o.jsx(Y,{children:g.email||"-"}),o.jsx(Y,{children:g.phone||"-"}),o.jsx(Y,{children:g.country}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>y(g),children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>n(g.id),children:o.jsx(Xr,{className:"h-3 w-3 text-destructive"})})]})})]},g.id))]})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length," fournisseur(s)"]}),o.jsx(Rr,{open:s,onOpenChange:l,children:o.jsxs(xr,{className:"max-w-lg",children:[o.jsx(br,{children:o.jsx(wr,{children:c?"Modifier le fournisseur":"Nouveau fournisseur"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(je,{children:"Nom *"}),o.jsx(_e,{value:f.name,onChange:g=>d({...f,name:g.target.value}),placeholder:"Nom du fournisseur"})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Contact"}),o.jsx(_e,{value:f.contact_name,onChange:g=>d({...f,contact_name:g.target.value}),placeholder:"Nom du contact"})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Email"}),o.jsx(_e,{type:"email",value:f.email,onChange:g=>d({...f,email:g.target.value}),placeholder:"email@example.com"})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Tlphone"}),o.jsx(_e,{value:f.phone,onChange:g=>d({...f,phone:g.target.value}),placeholder:"+33 ..."})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Pays"}),o.jsx(_e,{value:f.country,onChange:g=>d({...f,country:g.target.value}),placeholder:"France"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(je,{children:"Commentaires"}),o.jsx(Ti,{value:f.comments,onChange:g=>d({...f,comments:g.target.value}),rows:2})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ie,{onClick:m,disabled:!f.name.trim(),children:c?"Mettre  jour":"Crer"})})]})})]})}function PEe(){const{user:e}=la(),[t,r]=w.useState([]),[n,a]=w.useState([]),[i,s]=w.useState(!0),l=w.useCallback(async()=>{if(e)try{const[m,g]=await Promise.all([pe.from("costflow_meetings").select("*").order("meeting_date",{ascending:!1}),pe.from("costflow_meeting_tasks").select("*").order("sort_order")]);m.data&&r(m.data.map(v=>({id:v.id,meeting_date:v.meeting_date,title:v.title||"",content:v.content||"",created_at:v.created_at,updated_at:v.updated_at}))),g.data&&a(g.data.map(v=>({id:v.id,meeting_id:v.meeting_id,description:v.description,is_completed:v.is_completed||!1,sort_order:v.sort_order||0,created_at:v.created_at})))}catch(m){console.error("Meetings fetch error:",m)}finally{s(!1)}},[e]);return w.useEffect(()=>{l()},[l]),{meetings:t,tasks:n,loading:i,createMeeting:async m=>{if(!e)return;const{error:g}=await pe.from("costflow_meetings").insert({user_id:e.id,meeting_date:m.meeting_date||new Date().toISOString().split("T")[0],title:m.title||"",content:m.content||""});g?(Ce.error("Erreur cration runion"),console.error(g)):(Ce.success("Runion cre"),l())},updateMeeting:async(m,g)=>{if(!e)return;const{error:v}=await pe.from("costflow_meetings").update(g).eq("id",m);v?(Ce.error("Erreur mise  jour runion"),console.error(v)):l()},deleteMeeting:async m=>{const{error:g}=await pe.from("costflow_meetings").delete().eq("id",m);g?(Ce.error("Erreur suppression runion"),console.error(g)):(Ce.success("Runion supprime"),l())},createTask:async(m,g)=>{if(!e)return;const v=n.filter(_=>_.meeting_id===m),x=v.length>0?Math.max(...v.map(_=>_.sort_order)):-1,{error:b}=await pe.from("costflow_meeting_tasks").insert({user_id:e.id,meeting_id:m,description:g,sort_order:x+1});b?(Ce.error("Erreur ajout tche"),console.error(b)):l()},updateTask:async(m,g)=>{if(!e)return;const{error:v}=await pe.from("costflow_meeting_tasks").update(g).eq("id",m);v?(Ce.error("Erreur mise  jour tche"),console.error(v)):l()},deleteTask:async m=>{const{error:g}=await pe.from("costflow_meeting_tasks").delete().eq("id",m);g?(Ce.error("Erreur suppression tche"),console.error(g)):l()},getTasksForMeeting:m=>n.filter(g=>g.meeting_id===m),refresh:l}}function on(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function hs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function EEe(e,t){const r=on(e);return isNaN(t)?hs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const Mz=6048e5,AEe=864e5,$z=6e4,Iz=36e5;let kEe={};function a0(){return kEe}function Zu(e,t){var l,c,u,f;const r=a0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=on(e),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function ay(e){return Zu(e,{weekStartsOn:1})}function Dz(e){const t=on(e),r=t.getFullYear(),n=hs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ay(n),i=hs(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=ay(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function iy(e){const t=on(e);return t.setHours(0,0,0,0),t}function V2(e){const t=on(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function OEe(e,t){const r=iy(e),n=iy(t),a=+r-V2(r),i=+n-V2(n);return Math.round((a-i)/AEe)}function TEe(e){const t=Dz(e),r=hs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ay(r)}function Lz(e,t){const r=t*7;return EEe(e,r)}function REe(e){return hs(e,Date.now())}function i_(e,t){const r=iy(e),n=iy(t);return+r==+n}function MEe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $Ee(e){if(!MEe(e)&&typeof e!="number")return!1;const t=on(e);return!isNaN(Number(t))}function IEe(e,t){const r=on(e.start),n=on(e.end);let a=+r>+n;const i=a?+r:+n,s=a?n:r;s.setHours(0,0,0,0);let l=1;const c=[];for(;+s<=i;)c.push(on(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return a?c.reverse():c}function DEe(e){const t=on(e),r=hs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function LEe(e,t){const r=t==null?void 0:t.weekStartsOn,n=on(e),a=n.getDay(),i=(a<r?-7:0)+6-(a-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}const FEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BEe=(e,t,r)=>{let n;const a=FEe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Yc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VEe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WEe={date:Yc({formats:zEe,defaultWidth:"full"}),time:Yc({formats:UEe,defaultWidth:"full"}),dateTime:Yc({formats:VEe,defaultWidth:"full"})},HEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qEe=(e,t,r,n)=>HEe[e];function mi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const KEe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GEe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YEe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XEe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZEe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},JEe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},eAe={ordinalNumber:JEe,era:mi({values:KEe,defaultWidth:"wide"}),quarter:mi({values:GEe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mi({values:YEe,defaultWidth:"wide"}),day:mi({values:XEe,defaultWidth:"wide"}),dayPeriod:mi({values:QEe,defaultWidth:"wide",formattingValues:ZEe,defaultFormattingWidth:"wide"})};function vi(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rAe(l,d=>d.test(s)):tAe(l,d=>d.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(s.length);return{value:u,rest:f}}}function tAe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rAe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Fz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(a.length);return{value:s,rest:l}}}const nAe=/^(\d+)(th|st|nd|rd)?/i,aAe=/\d+/i,iAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sAe={any:[/^b/i,/^(a|c)/i]},oAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lAe={any:[/1/i,/2/i,/3/i,/4/i]},cAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mAe={ordinalNumber:Fz({matchPattern:nAe,parsePattern:aAe,valueCallback:e=>parseInt(e,10)}),era:vi({matchPatterns:iAe,defaultMatchWidth:"wide",parsePatterns:sAe,defaultParseWidth:"any"}),quarter:vi({matchPatterns:oAe,defaultMatchWidth:"wide",parsePatterns:lAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:cAe,defaultMatchWidth:"wide",parsePatterns:uAe,defaultParseWidth:"any"}),day:vi({matchPatterns:dAe,defaultMatchWidth:"wide",parsePatterns:fAe,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:hAe,defaultMatchWidth:"any",parsePatterns:pAe,defaultParseWidth:"any"})},vAe={code:"en-US",formatDistance:BEe,formatLong:WEe,formatRelative:qEe,localize:eAe,match:mAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gAe(e){const t=on(e);return OEe(t,DEe(t))+1}function yAe(e){const t=on(e),r=+ay(t)-+TEe(t);return Math.round(r/Mz)+1}function Bz(e,t){var f,d,h,p;const r=on(e),n=r.getFullYear(),a=a0(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=hs(e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=Zu(s,t),c=hs(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Zu(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function xAe(e,t){var l,c,u,f;const r=a0(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,a=Bz(e,t),i=hs(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Zu(i,t)}function bAe(e,t){const r=on(e),n=+Zu(r,t)-+xAe(r,t);return Math.round(n/Mz)+1}function St(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Es={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return St(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):St(r+1,2)},d(e,t){return St(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return St(e.getHours()%12||12,t.length)},H(e,t){return St(e.getHours(),t.length)},m(e,t){return St(e.getMinutes(),t.length)},s(e,t){return St(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return St(a,t.length)}},lc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Es.y(e,t)},Y:function(e,t,r,n){const a=Bz(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return St(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):St(i,t.length)},R:function(e,t){const r=Dz(e);return St(r,t.length)},u:function(e,t){const r=e.getFullYear();return St(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return St(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return St(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Es.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return St(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=bAe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):St(a,t.length)},I:function(e,t,r){const n=yAe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):St(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Es.d(e,t)},D:function(e,t,r){const n=gAe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):St(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return St(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return St(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return St(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=lc.noon:n===0?a=lc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=lc.evening:n>=12?a=lc.afternoon:n>=4?a=lc.morning:a=lc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Es.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Es.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):St(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):St(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Es.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Es.s(e,t)},S:function(e,t){return Es.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return q2(n);case"XXXX":case"XX":return Go(n);case"XXXXX":case"XXX":default:return Go(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return q2(n);case"xxxx":case"xx":return Go(n);case"xxxxx":case"xxx":default:return Go(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+H2(n,":");case"OOOO":default:return"GMT"+Go(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+H2(n,":");case"zzzz":default:return"GMT"+Go(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return St(n,t.length)},T:function(e,t,r){const n=e.getTime();return St(n,t.length)}};function H2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+St(i,2)}function q2(e,t){return e%60===0?(e>0?"-":"+")+St(Math.abs(e)/60,2):Go(e,t)}function Go(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=St(Math.trunc(n/60),2),i=St(n%60,2);return r+a+t+i}const K2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wAe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return K2(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",K2(n,t)).replace("{{time}}",zz(a,t))},jAe={p:zz,P:wAe},_Ae=/^D+$/,SAe=/^Y+$/,CAe=["D","DD","YY","YYYY"];function NAe(e){return _Ae.test(e)}function PAe(e){return SAe.test(e)}function EAe(e,t,r){const n=AAe(e,t,r);if(console.warn(n),CAe.includes(e))throw new RangeError(n)}function AAe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TAe=/^'([^]*?)'?$/,RAe=/''/g,MAe=/[a-zA-Z]/;function Ba(e,t,r){var f,d,h,p,y,m,g,v;const n=a0(),a=(r==null?void 0:r.locale)??n.locale??vAe,i=(r==null?void 0:r.firstWeekContainsDate)??((d=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=on(e);if(!$Ee(l))throw new RangeError("Invalid time value");let c=t.match(OAe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const _=jAe[b];return _(x,a.formatLong)}return x}).join("").match(kAe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:$Ae(x)};if(W2[b])return{isToken:!0,value:x};if(b.match(MAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&PAe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&NAe(b))&&EAe(b,t,String(e));const _=W2[b[0]];return _(l,b,a.localize,u)}).join("")}function $Ae(e){const t=e.match(TAe);return t?t[1].replace(RAe,"'"):e}function IAe(e){return i_(e,REe(e))}function DAe(e,t){const n=zAe(e);let a;if(n.date){const c=UAe(n.date,2);a=VAe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let s=0,l;if(n.time&&(s=WAe(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(l=HAe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+s+l)}const Mm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},LAe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,FAe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,BAe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zAe(e){const t={},r=e.split(Mm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Mm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Mm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Mm.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function UAe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function VAe(e,t){if(t===null)return new Date(NaN);const r=e.match(LAe);if(!r)return new Date(NaN);const n=!!r[4],a=uf(r[1]),i=uf(r[2])-1,s=uf(r[3]),l=uf(r[4]),c=uf(r[5])-1;if(n)return XAe(t,l,c)?qAe(t,l,c):new Date(NaN);{const u=new Date(0);return!GAe(t,i,s)||!YAe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}}function uf(e){return e?parseInt(e):1}function WAe(e){const t=e.match(FAe);if(!t)return NaN;const r=Ub(t[1]),n=Ub(t[2]),a=Ub(t[3]);return QAe(r,n,a)?r*Iz+n*$z+a*1e3:NaN}function Ub(e){return e&&parseFloat(e.replace(",","."))||0}function HAe(e){if(e==="Z")return 0;const t=e.match(BAe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return ZAe(n,a)?r*(n*Iz+a*$z):NaN}function qAe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const KAe=[31,null,31,30,31,30,31,31,30,31,30,31];function Uz(e){return e%400===0||e%4===0&&e%100!==0}function GAe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(KAe[t]||(Uz(e)?29:28))}function YAe(e,t){return t>=1&&t<=(Uz(e)?366:365)}function XAe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function QAe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ZAe(e,t){return t>=0&&t<=59}function JAe(e,t){return Lz(e,-t)}const eke={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},tke=(e,t,r)=>{let n;const a=eke[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},rke={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},nke={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ake={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ike={date:Yc({formats:rke,defaultWidth:"full"}),time:Yc({formats:nke,defaultWidth:"full"}),dateTime:Yc({formats:ake,defaultWidth:"full"})},ske={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},oke=(e,t,r,n)=>ske[e],lke={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},cke={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},uke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},dke={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},fke={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},hke=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let i;return r===1?i=n&&a.includes(n)?"re":"er":i="me",r+i},pke=["MMM","MMMM"],mke={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&pke.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:hke,era:mi({values:lke,defaultWidth:"wide"}),quarter:mi({values:cke,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mi({values:uke,defaultWidth:"wide"}),day:mi({values:dke,defaultWidth:"wide"}),dayPeriod:mi({values:fke,defaultWidth:"wide"})},vke=/^(\d+)(ime|re|me|er|e)?/i,gke=/\d+/i,yke={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},xke={any:[/^av/i,/^ap/i]},bke={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},wke={any:[/1/i,/2/i,/3/i,/4/i]},jke={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},_ke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ske={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Cke={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Nke={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},Pke={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Eke={ordinalNumber:Fz({matchPattern:vke,parsePattern:gke,valueCallback:e=>parseInt(e)}),era:vi({matchPatterns:yke,defaultMatchWidth:"wide",parsePatterns:xke,defaultParseWidth:"any"}),quarter:vi({matchPatterns:bke,defaultMatchWidth:"wide",parsePatterns:wke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vi({matchPatterns:jke,defaultMatchWidth:"wide",parsePatterns:_ke,defaultParseWidth:"any"}),day:vi({matchPatterns:Ske,defaultMatchWidth:"wide",parsePatterns:Cke,defaultParseWidth:"any"}),dayPeriod:vi({matchPatterns:Nke,defaultMatchWidth:"any",parsePatterns:Pke,defaultParseWidth:"any"})},$c={code:"fr",formatDistance:tke,formatLong:ike,formatRelative:oke,localize:mke,match:Eke,options:{weekStartsOn:1,firstWeekContainsDate:4}};var Ake="Separator",G2="horizontal",kke=["horizontal","vertical"],Vz=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=G2,...a}=e,i=Oke(n)?n:G2,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Te.div,{"data-orientation":i,...l,...a,ref:t})});Vz.displayName=Ake;function Oke(e){return kke.includes(e)}var Wz=Vz;const s_=w.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>o.jsx(Wz,{ref:a,decorative:r,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));s_.displayName=Wz.displayName;function Tke(){const{meetings:e,loading:t,createMeeting:r,updateMeeting:n,deleteMeeting:a,createTask:i,updateTask:s,deleteTask:l,getTasksForMeeting:c}=PEe(),[u,f]=w.useState(null),[d,h]=w.useState(!1),[p,y]=w.useState(!1),[m,g]=w.useState(new Date().toISOString().split("T")[0]),[v,x]=w.useState(""),[b,_]=w.useState(""),[j,S]=w.useState(!1),[C,N]=w.useState(""),[A,E]=w.useState(""),k=e.find(L=>L.id===u),R=u?c(u):[],T=async()=>{v.trim()&&(await r({meeting_date:m,title:v}),x(""),g(new Date().toISOString().split("T")[0]),h(!1))},P=async()=>{!u||!b.trim()||(await i(u,b.trim()),_(""))},$=async()=>{!u||!A.trim()||(await i(u,A.trim()),E(""))},I=()=>{k&&(N(k.content),S(!0))},M=async()=>{u&&(await n(u,{content:C}),S(!1))},D=({tasks:L,inFullscreen:U=!1})=>o.jsxs("div",{className:"space-y-1.5",children:[L.map(X=>o.jsxs("div",{className:"flex items-start gap-2 group",children:[o.jsx(Rp,{checked:X.is_completed,onCheckedChange:G=>s(X.id,{is_completed:!!G}),className:"mt-0.5"}),o.jsx("span",{className:`text-sm flex-1 ${X.is_completed?"line-through text-muted-foreground":""}`,children:X.description}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>l(X.id),children:o.jsx(Ai,{className:"h-3 w-3"})})]},X.id)),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsx(_e,{placeholder:"Nouvelle tche",value:U?A:b,onChange:X=>U?E(X.target.value):_(X.target.value),onKeyDown:X=>X.key==="Enter"&&(U?$():P()),className:"text-sm"}),o.jsx(ie,{size:"sm",onClick:U?$:P,disabled:!(U?A:b).trim(),children:o.jsx(Tr,{className:"h-4 w-4"})})]})]});return t?o.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"}):o.jsxs("div",{className:"flex gap-4 h-[calc(100vh-320px)] min-h-[500px]",children:[o.jsxs(Zt,{className:"w-64 shrink-0 flex flex-col",children:[o.jsx(cn,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(un,{className:"text-sm font-medium",children:"Runions"}),o.jsxs(Rr,{open:d,onOpenChange:h,children:[o.jsx(Xx,{asChild:!0,children:o.jsxs(ie,{size:"sm",variant:"outline",className:"h-7 text-xs",children:[o.jsx(Tr,{className:"h-3 w-3 mr-1"})," Nouveau"]})}),o.jsxs(xr,{children:[o.jsx(br,{children:o.jsx(wr,{children:"Nouvelle runion BE"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(je,{children:"Date"}),o.jsx(_e,{type:"date",value:m,onChange:L=>g(L.target.value)})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Titre / Objet"}),o.jsx(_e,{placeholder:"Ex: Runion BE hebdomadaire",value:v,onChange:L=>x(L.target.value),onKeyDown:L=>L.key==="Enter"&&T()})]}),o.jsx(ie,{onClick:T,disabled:!v.trim(),className:"w-full",children:"Crer la runion"})]})]})]})]})}),o.jsxs(Jt,{className:"flex-1 overflow-auto p-2 space-y-1",children:[e.length===0&&o.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"Aucune runion"}),e.map(L=>{const U=L.id===u,X=c(L.id).length,G=c(L.id).filter(te=>te.is_completed).length;return o.jsxs("button",{onClick:()=>f(L.id),className:`w-full text-left rounded-md px-3 py-2 text-sm transition-colors ${U?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[o.jsx("div",{className:"font-medium truncate",children:Ba(new Date(L.meeting_date),"dd/MM/yyyy")}),o.jsx("div",{className:`text-xs truncate ${U?"text-primary-foreground/70":"text-muted-foreground"}`,children:L.title||"Sans titre"}),X>0&&o.jsxs("div",{className:`text-xs mt-0.5 ${U?"text-primary-foreground/60":"text-muted-foreground"}`,children:[" ",G,"/",X," tches"]})]},L.id)})]})]}),o.jsx(Zt,{className:"flex-1 flex flex-col overflow-hidden",children:k?o.jsxs(o.Fragment,{children:[o.jsx(cn,{className:"pb-2 shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(un,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ym,{className:"h-5 w-5 text-primary"}),Ba(new Date(k.meeting_date),"EEEE d MMMM yyyy",{locale:$c})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:k.title})]}),o.jsx(ie,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:async()=>{confirm("Supprimer cette runion et toutes ses tches ?")&&(await a(k.id),f(null))},children:o.jsx(Xr,{className:"h-4 w-4"})})]})}),o.jsxs(Jt,{className:"flex-1 overflow-auto space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-1.5",children:[o.jsx(Cl,{className:"h-4 w-4"})," Compte-rendu"]}),o.jsxs("div",{className:"flex gap-1",children:[!j&&o.jsx(ie,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:I,children:"Modifier"}),o.jsx(ie,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:()=>y(!0),children:o.jsx(cW,{className:"h-3.5 w-3.5"})})]})]}),j?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ti,{value:C,onChange:L=>N(L.target.value),rows:10,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{size:"sm",onClick:M,children:"Enregistrer"}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):o.jsx("div",{className:"bg-muted/50 rounded-md p-3 min-h-[60px] text-sm whitespace-pre-wrap",children:k.content||o.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),o.jsx(s_,{}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Tches :"}),o.jsx(D,{tasks:R})]})]}),o.jsx(Rr,{open:p,onOpenChange:y,children:o.jsxs(xr,{className:"max-w-4xl h-[80vh] flex flex-col",children:[o.jsx(br,{children:o.jsxs(wr,{className:"flex items-center gap-2",children:[o.jsx(Ym,{className:"h-5 w-5 text-primary"}),k&&Ba(new Date(k.meeting_date),"EEEE d MMMM yyyy",{locale:$c}),k&&o.jsxs("span",{className:"text-muted-foreground font-normal text-base ml-2",children:[" ",k.title]})]})}),o.jsxs("div",{className:"flex-1 overflow-auto space-y-6 pr-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h3",{className:"font-semibold flex items-center gap-1.5",children:[o.jsx(Cl,{className:"h-4 w-4"})," Compte-rendu"]}),!j&&o.jsx(ie,{size:"sm",variant:"ghost",className:"h-7 text-xs",onClick:I,children:"Modifier"})]}),j?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ti,{value:C,onChange:L=>N(L.target.value),rows:16,placeholder:"Rdigez le compte-rendu de la runion",className:"text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{size:"sm",onClick:M,children:"Enregistrer"}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>S(!1),children:"Annuler"})]})]}):o.jsx("div",{className:"bg-muted/50 rounded-md p-4 min-h-[120px] text-sm whitespace-pre-wrap",children:(k==null?void 0:k.content)||o.jsx("span",{className:"text-muted-foreground italic",children:"Aucun compte-rendu rdig"})})]}),o.jsx(s_,{}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-3",children:"Tches :"}),o.jsx(D,{tasks:R,inFullscreen:!0})]})]})]})})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:o.jsxs("div",{className:"text-center space-y-2",children:[o.jsx(Ym,{className:"h-12 w-12 mx-auto opacity-30"}),o.jsx("p",{children:"Slectionnez une runion ou crez-en une nouvelle"})]})})})]})}function Rke(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,i]=w.useState([]),[s,l]=w.useState(!0),c=w.useCallback(async()=>{try{const[b,_,j]=await Promise.all([pe.from("costflow_planning_colors").select("*").order("sort_order"),pe.from("costflow_planning_rows").select("*").order("sort_order"),pe.from("costflow_planning_blocks").select("*")]);if(b.error)throw b.error;if(_.error)throw _.error;if(j.error)throw j.error;t(b.data||[]),n(_.data||[]),i(j.data||[])}catch(b){Ce.error("Erreur chargement planning: "+b.message)}finally{l(!1)}},[]);w.useEffect(()=>{c()},[c]);const u=async()=>{var _;const{data:b}=await pe.auth.getUser();return(_=b.user)==null?void 0:_.id};return{colors:e,rows:r,blocks:a,loading:s,createColor:async(b,_)=>{const j=await u();if(!j)return;const{data:S,error:C}=await pe.from("costflow_planning_colors").insert({user_id:j,name:b,color:_,sort_order:e.length}).select().single();if(C){Ce.error(C.message);return}t(N=>[...N,S])},updateColor:async(b,_)=>{const{error:j}=await pe.from("costflow_planning_colors").update(_).eq("id",b);if(j){Ce.error(j.message);return}t(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteColor:async b=>{const{error:_}=await pe.from("costflow_planning_colors").delete().eq("id",b);if(_){Ce.error(_.message);return}t(j=>j.filter(S=>S.id!==b))},createRow:async b=>{const _=await u();if(!_)return;const{data:j,error:S}=await pe.from("costflow_planning_rows").insert({user_id:_,label:b,sort_order:r.length}).select().single();if(S){Ce.error(S.message);return}n(C=>[...C,j])},updateRow:async(b,_)=>{const{error:j}=await pe.from("costflow_planning_rows").update({label:_}).eq("id",b);if(j){Ce.error(j.message);return}n(S=>S.map(C=>C.id===b?{...C,label:_}:C))},deleteRow:async b=>{const{error:_}=await pe.from("costflow_planning_rows").delete().eq("id",b);if(_){Ce.error(_.message);return}n(j=>j.filter(S=>S.id!==b)),i(j=>j.filter(S=>S.row_id!==b))},createBlock:async(b,_,j,S,C)=>{const N=await u();if(!N)return;const{data:A,error:E}=await pe.from("costflow_planning_blocks").insert({user_id:N,row_id:b,start_month:_,duration:j,color_id:S,label:C}).select().single();if(E){Ce.error(E.message);return}i(k=>[...k,A])},updateBlock:async(b,_)=>{const{error:j}=await pe.from("costflow_planning_blocks").update(_).eq("id",b);if(j){Ce.error(j.message);return}i(S=>S.map(C=>C.id===b?{...C,..._}:C))},deleteBlock:async b=>{const{error:_}=await pe.from("costflow_planning_blocks").delete().eq("id",b);if(_){Ce.error(_.message);return}i(j=>j.filter(S=>S.id!==b))}}}function Mke(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),a=w.useCallback(async()=>{try{const{data:c,error:u}=await pe.from("costflow_planning_notes").select("*").order("created_at",{ascending:!1});if(u)throw u;t(c||[])}catch(c){Ce.error("Erreur chargement notes: "+c.message)}finally{n(!1)}},[]);return w.useEffect(()=>{a()},[a]),{notes:e,loading:r,getNotesForBlock:c=>e.filter(u=>u.block_id===c),getNotesForBlocks:c=>e.filter(u=>c.includes(u.block_id)),upsertNote:async(c,u)=>{var p;const{data:f}=await pe.auth.getUser(),d=(p=f.user)==null?void 0:p.id;if(!d)return;const h=e.find(y=>y.block_id===c);if(h){const{error:y}=await pe.from("costflow_planning_notes").update({content:u}).eq("id",h.id);if(y){Ce.error(y.message);return}t(m=>m.map(g=>g.id===h.id?{...g,content:u,updated_at:new Date().toISOString()}:g))}else{const{data:y,error:m}=await pe.from("costflow_planning_notes").insert({user_id:d,block_id:c,content:u}).select().single();if(m){Ce.error(m.message);return}t(g=>[y,...g])}Ce.success("Note sauvegarde")}}}function $ke({open:e,onOpenChange:t,block:r,color:n,existingNote:a,onSave:i,monthLabels:s}){const[l,c]=w.useState("");if(w.useEffect(()=>{c((a==null?void 0:a.content)||"")},[a,e]),!r)return null;const u=s[r.start_month-1]||`M${r.start_month}`,f=r.start_month+r.duration-1,d=s[f-1]||`M${f}`;return o.jsx(Rr,{open:e,onOpenChange:t,children:o.jsxs(xr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(br,{children:o.jsxs(wr,{className:"flex items-center gap-2",children:[n&&o.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:n.color}}),o.jsx("span",{children:r.label||(n==null?void 0:n.name)||"Bloc"}),o.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",u,"  ",d,")"]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ti,{value:l,onChange:h=>c(h.target.value),placeholder:"Notes sur l'avancement de cette phase",className:"min-h-[250px] text-sm"}),o.jsxs("div",{className:"flex justify-between items-center",children:[a&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Dernire mise  jour : ",new Date(a.updated_at).toLocaleDateString("fr-FR")]}),o.jsxs(ie,{onClick:()=>{i(r.id,l),t(!1)},className:"ml-auto",children:[o.jsx(mS,{className:"h-4 w-4 mr-1"})," Sauvegarder"]})]})]})]})})}function Ike(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var xN="ScrollArea",[Hz,ROe]=Sn(xN),[Dke,ka]=Hz(xN),qz=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=e,[l,c]=w.useState(null),[u,f]=w.useState(null),[d,h]=w.useState(null),[p,y]=w.useState(null),[m,g]=w.useState(null),[v,x]=w.useState(0),[b,_]=w.useState(0),[j,S]=w.useState(!1),[C,N]=w.useState(!1),A=Xe(t,k=>c(k)),E=pd(a);return o.jsx(Dke,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:N,onCornerWidthChange:x,onCornerHeightChange:_,children:o.jsx(Te.div,{dir:E,...s,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});qz.displayName=xN;var Kz="ScrollAreaViewport",Gz=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,s=ka(Kz,r),l=w.useRef(null),c=Xe(t,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Te.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Gz.displayName=Kz;var Di="ScrollAreaScrollbar",bN=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ka(Di,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,l=e.orientation==="horizontal";return w.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),a.type==="hover"?o.jsx(Lke,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(Fke,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(Yz,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(wN,{...n,ref:t}):null});bN.displayName=Di;var Lke=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ka(Di,e.__scopeScrollArea),[i,s]=w.useState(!1);return w.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},f=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Bn,{present:r||i,children:o.jsx(Yz,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Fke=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ka(Di,e.__scopeScrollArea),i=e.orientation==="horizontal",s=s0(()=>c("SCROLL_END"),100),[l,c]=Ike("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),w.useEffect(()=>{const u=a.viewport,f=i?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const p=u[f];d!==p&&(c("SCROLL"),s()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,s]),o.jsx(Bn,{present:r||l!=="hidden",children:o.jsx(wN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:we(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:we(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Yz=w.forwardRef((e,t)=>{const r=ka(Di,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,s]=w.useState(!1),l=e.orientation==="horizontal",c=s0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:f)}},10);return Ju(r.viewport,c),Ju(r.content,c),o.jsx(Bn,{present:n||i,children:o.jsx(wN,{"data-state":i?"visible":"hidden",...a,ref:t})})}),wN=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ka(Di,e.__scopeScrollArea),i=w.useRef(null),s=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=eU(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function d(h,p){return Hke(h,s.current,l,p)}return r==="horizontal"?o.jsx(Bke,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=Y2(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=d(h,a.dir))}}):r==="vertical"?o.jsx(zke,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=Y2(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=d(h))}}):null}),Bke=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ka(Di,e.__scopeScrollArea),[s,l]=w.useState(),c=w.useRef(null),u=Xe(t,c,i.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Qz,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":i0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),rU(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:oy(s.paddingLeft),paddingEnd:oy(s.paddingRight)}})}})}),zke=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ka(Di,e.__scopeScrollArea),[s,l]=w.useState(),c=w.useRef(null),u=Xe(t,c,i.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Qz,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":i0(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(i.viewport){const h=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),rU(h,d)&&f.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:oy(s.paddingTop),paddingEnd:oy(s.paddingBottom)}})}})}),[Uke,Xz]=Hz(Di),Qz=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,p=ka(Di,r),[y,m]=w.useState(null),g=Xe(t,A=>m(A)),v=w.useRef(null),x=w.useRef(""),b=p.viewport,_=n.content-n.viewport,j=Er(f),S=Er(c),C=s0(d,10);function N(A){if(v.current){const E=A.clientX-v.current.left,k=A.clientY-v.current.top;u({x:E,y:k})}}return w.useEffect(()=>{const A=E=>{const k=E.target;(y==null?void 0:y.contains(k))&&j(E,_)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[b,y,_,j]),w.useEffect(S,[n,S]),Ju(y,C),Ju(p.content,C),o.jsx(Uke,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Er(i),onThumbPointerUp:Er(s),onThumbPositionChange:S,onThumbPointerDown:Er(l),children:o.jsx(Te.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:we(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),v.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(A))}),onPointerMove:we(e.onPointerMove,N),onPointerUp:we(e.onPointerUp,A=>{const E=A.target;E.hasPointerCapture(A.pointerId)&&E.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),sy="ScrollAreaThumb",Zz=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xz(sy,e.__scopeScrollArea);return o.jsx(Bn,{present:r||a.hasThumb,children:o.jsx(Vke,{ref:t,...n})})}),Vke=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ka(sy,r),s=Xz(sy,r),{onThumbPositionChange:l}=s,c=Xe(t,d=>s.onThumbChange(d)),u=w.useRef(void 0),f=s0(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const d=i.viewport;if(d){const h=()=>{if(f(),!u.current){const p=qke(d,l);u.current=p,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,f,l]),o.jsx(Te.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:we(e.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),y=d.clientX-p.left,m=d.clientY-p.top;s.onThumbPointerDown({x:y,y:m})}),onPointerUp:we(e.onPointerUp,s.onThumbPointerUp)})});Zz.displayName=sy;var jN="ScrollAreaCorner",Jz=w.forwardRef((e,t)=>{const r=ka(jN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Wke,{...e,ref:t}):null});Jz.displayName=jN;var Wke=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ka(jN,r),[i,s]=w.useState(0),[l,c]=w.useState(0),u=!!(i&&l);return Ju(a.scrollbarX,()=>{var d;const f=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(f),c(f)}),Ju(a.scrollbarY,()=>{var d;const f=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(f),s(f)}),u?o.jsx(Te.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function oy(e){return e?parseInt(e,10):0}function eU(e,t){const r=e/t;return isNaN(r)?0:r}function i0(e){const t=eU(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Hke(e,t,r,n="ltr"){const a=i0(r),i=a/2,s=t||i,l=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,d=n==="ltr"?[0,f]:[f*-1,0];return tU([c,u],d)(e)}function Y2(e,t,r="ltr"){const n=i0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=yh(e,c);return tU([0,s],[0,l])(u)}function tU(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function rU(e,t){return e>0&&e<t}var qke=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=r.left!==i.left,l=r.top!==i.top;(s||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function s0(e,t){const r=Er(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ju(e,t){const r=Er(t);Fr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var nU=qz,Kke=Gz,Gke=Jz;const aU=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(nU,{ref:n,className:re("relative overflow-hidden",e),...r,children:[o.jsx(Kke,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(iU,{}),o.jsx(Gke,{})]}));aU.displayName=nU.displayName;const iU=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(bN,{ref:n,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Zz,{className:"relative flex-1 rounded-full bg-border"})}));iU.displayName=bN.displayName;function Yke({open:e,onOpenChange:t,rowLabel:r,rowBlocks:n,notes:a,colors:i,monthLabels:s,onOpenBlockNote:l}){const c=f=>i.find(d=>d.id===f),u=[...n].sort((f,d)=>f.start_month-d.start_month);return o.jsx(Rr,{open:e,onOpenChange:t,children:o.jsxs(xr,{className:"max-w-3xl max-h-[85vh]",children:[o.jsx(br,{children:o.jsxs(wr,{className:"flex items-center gap-2",children:[o.jsx(Cl,{className:"h-5 w-5"}),"Notes  ",r]})}),o.jsx(aU,{className:"max-h-[65vh] pr-2",children:u.length===0?o.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"Aucun bloc sur cette ligne."}):o.jsx("div",{className:"space-y-4",children:u.map(f=>{const d=c(f.color_id),h=a.find(g=>g.block_id===f.id),p=s[f.start_month-1]||`M${f.start_month}`,y=f.start_month+f.duration-1,m=s[y-1]||`M${y}`;return o.jsxs("div",{className:"border rounded-lg p-3 hover:bg-muted/30 cursor-pointer transition-colors",onClick:()=>{t(!1),l(f)},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d&&o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:d.color}}),o.jsx("span",{className:"font-medium text-sm",children:f.label||(d==null?void 0:d.name)||"Bloc"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[p,"  ",m]})]}),h?o.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap line-clamp-4",children:h.content}):o.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Aucune note  cliquez pour en ajouter"}),h&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Mis  jour le ",new Date(h.updated_at).toLocaleDateString("fr-FR")]})]},f.id)})})})]})})}const sU=["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"];function Xke(e,t){const r=[];for(let n=e;n<=t;n++)r.push({label:sU[(n-1)%12],globalIndex:n});return r}function Qke(){const{colors:e,rows:t,blocks:r,loading:n,createColor:a,updateColor:i,deleteColor:s,createRow:l,updateRow:c,deleteRow:u,createBlock:f,updateBlock:d,deleteBlock:h}=Rke(),{notes:p,getNotesForBlock:y,getNotesForBlocks:m,upsertNote:g}=Mke(),[v,x]=w.useState(1),[b,_]=w.useState(12),[j,S]=w.useState(""),[C,N]=w.useState(null),[A,E]=w.useState(""),[k,R]=w.useState(!1),[T,P]=w.useState(""),[$,I]=w.useState("#3b82f6"),[M,D]=w.useState(null),[L,U]=w.useState(!1),[X,G]=w.useState({row_id:"",start_month:1,duration:1,color_id:"",label:""}),[te,z]=w.useState(null),[B,V]=w.useState(null),[H,ce]=w.useState(!1),[Q,Z]=w.useState(null),[W,q]=w.useState(!1),[de,ye]=w.useState(null),Ae=w.useRef(null),Ie=Xke(v,b),Ge=Ie.length;Ie.map(se=>se.label);const pt=se=>e.find(Le=>Le.id===se),Gt=se=>{const Le=[...se].sort((dt,at)=>dt.start_month-at.start_month),xt=[],lr=[];for(const dt of Le){const at=dt.start_month+dt.duration;let Nn=!1;for(let dn=0;dn<lr.length;dn++)if(dt.start_month>=lr[dn]){lr[dn]=at,xt.push({blockId:dt.id,lane:dn}),Nn=!0;break}Nn||(xt.push({blockId:dt.id,lane:lr.length}),lr.push(at))}return{lanes:xt,maxLane:lr.length}},F=()=>{j.trim()&&(l(j.trim()),S(""))},K=se=>{A.trim()&&c(se,A.trim()),N(null)},ee=(se,Le)=>{var xt;G({row_id:se,start_month:Le,duration:1,color_id:((xt=e[0])==null?void 0:xt.id)||"",label:""}),z(null),U(!0)},ve=se=>{G({row_id:se.row_id,start_month:se.start_month,duration:se.duration,color_id:se.color_id||"",label:se.label}),z(se.id),U(!0)},ae=()=>{const{row_id:se,start_month:Le,duration:xt,color_id:lr,label:dt}=X,at=lr||null;te?d(te,{row_id:se,start_month:Le,duration:xt,color_id:at,label:dt}):f(se,Le,xt,at,dt),U(!1)},ue=()=>{T.trim()&&(M?i(M,{name:T.trim(),color:$}):a(T.trim(),$),P(""),I("#3b82f6"),D(null),R(!1))},ge=se=>{D(se.id),P(se.name),I(se.color),R(!0)},Be=se=>{V(se),ce(!0)},qe=(se,Le)=>{se.preventDefault();const xt=Ae.current;if(!xt)return;const lr=xt.getBoundingClientRect(),dt=lr.width/Ge,at=Math.floor((se.clientX-lr.left)/dt)+v;ye({blockId:Le.id,offsetMonth:at-Le.start_month})},Yt=w.useCallback(se=>{if(!de||!Ae.current)return;const Le=Ae.current.getBoundingClientRect(),xt=Le.width/Ge;let dt=Math.floor((se.clientX-Le.left)/xt)+v-de.offsetMonth;const at=r.find(Nn=>Nn.id===de.blockId);at&&(dt=Math.max(1,Math.min(dt,36-at.duration)),dt!==at.start_month&&d(de.blockId,{start_month:dt}))},[de,r,d,Ge,v]),Cn=w.useCallback(()=>{ye(null)},[]);if(n)return o.jsx("div",{className:"text-muted-foreground text-center py-8",children:"Chargement"});const jr=Array.from({length:36},(se,Le)=>{const xt=Le+1,lr=Math.floor(Le/12)+1,dt=`${sU[Le%12]} (A${lr})`;return{value:xt,label:dt}});return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Zt,{children:[o.jsx(cn,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(un,{className:"text-sm font-medium",children:"Lgende des couleurs"}),o.jsxs(ie,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{D(null),P(""),I("#3b82f6"),R(!0)},children:[o.jsx(Tr,{className:"h-3 w-3 mr-1"})," Ajouter"]})]})}),o.jsx(Jt,{children:e.length===0?o.jsx("p",{className:"text-xs text-muted-foreground",children:"Ajoutez des couleurs pour catgoriser vos blocs."}):o.jsx("div",{className:"flex flex-wrap gap-3",children:e.map(se=>o.jsxs("div",{className:"flex items-center gap-2 group",children:[o.jsx("div",{className:"w-5 h-5 rounded border",style:{backgroundColor:se.color}}),o.jsx("span",{className:"text-sm",children:se.name}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100",onClick:()=>ge(se),children:o.jsx(Nv,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100 text-destructive",onClick:()=>s(se.id),children:o.jsx(Ai,{className:"h-3 w-3"})})]},se.id))})})]}),o.jsxs(Zt,{children:[o.jsx(cn,{className:"pb-2",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(un,{className:"text-sm font-medium",children:"Planning dveloppement produits"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(_e,{placeholder:"Nouveau produit",value:j,onChange:se=>S(se.target.value),onKeyDown:se=>se.key==="Enter"&&F(),className:"h-7 text-xs w-48"}),o.jsxs(ie,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:F,disabled:!j.trim(),children:[o.jsx(Tr,{className:"h-3 w-3 mr-1"})," Ligne"]})]})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(je,{className:"text-xs whitespace-nowrap",children:"Dbut :"}),o.jsxs(it,{value:String(v),onValueChange:se=>{const Le=Number(se);x(Le),Le>b&&_(Le)},children:[o.jsx(rt,{className:"h-7 text-xs w-32",children:o.jsx(st,{})}),o.jsx(nt,{children:jr.map(se=>o.jsx(De,{value:String(se.value),children:se.label},se.value))})]})]}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(je,{className:"text-xs whitespace-nowrap",children:"Fin :"}),o.jsxs(it,{value:String(b),onValueChange:se=>{const Le=Number(se);_(Le),Le<v&&x(Le)},children:[o.jsx(rt,{className:"h-7 text-xs w-32",children:o.jsx(st,{})}),o.jsx(nt,{children:jr.filter(se=>se.value>=v).map(se=>o.jsx(De,{value:String(se.value),children:se.label},se.value))})]})]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ge," mois affichs"]})]})]})}),o.jsx(Jt,{className:"overflow-x-auto p-0",children:o.jsxs("div",{className:"min-w-[900px]",onMouseMove:Yt,onMouseUp:Cn,onMouseLeave:Cn,children:[o.jsxs("div",{className:"border-b bg-muted/50",style:{display:"grid",gridTemplateColumns:`200px repeat(${Ge}, 1fr)`},children:[o.jsx("div",{className:"px-3 py-2 text-xs font-semibold border-r",children:"Produit"}),Ie.map((se,Le)=>o.jsx("div",{className:"px-1 py-2 text-xs font-semibold text-center border-r last:border-r-0",children:se.label},Le))]}),t.length===0&&o.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"Ajoutez des lignes produit pour commencer le planning"}),t.map(se=>{const Le=r.filter(at=>at.row_id===se.id),{lanes:xt,maxLane:lr}=Gt(Le),dt=Math.max(44,lr*32+12);return o.jsxs("div",{className:"border-b group/row hover:bg-muted/20",style:{display:"grid",gridTemplateColumns:`200px repeat(${Ge}, 1fr)`,minHeight:dt},children:[o.jsx("div",{className:"px-3 py-2 text-sm border-r flex items-center gap-1",style:{minHeight:dt},children:C===se.id?o.jsx(_e,{value:A,onChange:at=>E(at.target.value),onBlur:()=>K(se.id),onKeyDown:at=>at.key==="Enter"&&K(se.id),autoFocus:!0,className:"h-6 text-xs"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"truncate flex-1 font-medium",children:se.label}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{Z({id:se.id,label:se.label}),q(!0)},title:"Voir toutes les notes",children:o.jsx(Cl,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0",onClick:()=>{N(se.id),E(se.label)},children:o.jsx(Nv,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover/row:opacity-100 shrink-0 text-destructive",onClick:()=>{confirm("Supprimer cette ligne ?")&&u(se.id)},children:o.jsx(Xr,{className:"h-3 w-3"})})]})}),o.jsxs("div",{className:"relative",style:{gridColumn:`2 / ${Ge+2}`,minHeight:dt},ref:Ae,children:[o.jsx("div",{className:"absolute inset-0",style:{display:"grid",gridTemplateColumns:`repeat(${Ge}, 1fr)`},children:Ie.map((at,Nn)=>o.jsx("div",{className:"border-r last:border-r-0 cursor-pointer hover:bg-primary/5",onDoubleClick:()=>ee(se.id,at.globalIndex)},Nn))}),Le.map(at=>{const Nn=at.start_month+at.duration;if(Nn<=v||at.start_month>b)return null;const dn=pt(at.color_id),Ip=(dn==null?void 0:dn.color)||"#94a3b8",Dp=Math.max(at.start_month,v),Id=Math.min(Nn,b+1),si=`${(Dp-v)/Ge*100}%`,o0=`${(Id-Dp)/Ge*100}%`,Ke=xt.find(En=>En.blockId===at.id),At=4+((Ke==null?void 0:Ke.lane)||0)*32,Pn=y(at.id),Un=Pn.length>0&&Pn[0].content.trim()!=="";return o.jsxs("div",{className:"absolute rounded-md flex items-center justify-center text-xs font-medium text-white shadow-sm select-none",style:{left:si,width:o0,backgroundColor:Ip,top:At,height:28,cursor:de?"grabbing":"grab",zIndex:(de==null?void 0:de.blockId)===at.id?10:1},onMouseDown:En=>qe(En,at),onDoubleClick:()=>ve(at),onClick:En=>{de||(En.stopPropagation(),Be(at))},title:"Clic pour notes, double-clic pour modifier, glisser pour dplacer",children:[o.jsx("span",{className:"truncate px-1 drop-shadow-sm",children:at.label||(dn==null?void 0:dn.name)||""}),Un&&o.jsx(hW,{className:"h-3 w-3 ml-0.5 shrink-0 opacity-80"})]},at.id)})]})]},se.id)})]})})]}),o.jsx(Rr,{open:k,onOpenChange:R,children:o.jsxs(xr,{className:"max-w-sm",children:[o.jsx(br,{children:o.jsx(wr,{children:M?"Modifier la couleur":"Nouvelle couleur"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(je,{children:"Nom / Dfinition"}),o.jsx(_e,{value:T,onChange:se=>P(se.target.value),placeholder:"Ex: Sortie publique valide"})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Couleur"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"color",value:$,onChange:se=>I(se.target.value),className:"h-9 w-12 rounded border cursor-pointer"}),o.jsx(_e,{value:$,onChange:se=>I(se.target.value),className:"w-28 text-sm"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{onClick:ue,disabled:!T.trim(),className:"flex-1",children:M?"Mettre  jour":"Crer"}),M&&o.jsx(ie,{variant:"destructive",onClick:()=>{s(M),R(!1)},children:"Supprimer"})]})]})]})}),o.jsx(Rr,{open:L,onOpenChange:U,children:o.jsxs(xr,{className:"max-w-sm",children:[o.jsx(br,{children:o.jsx(wr,{children:te?"Modifier le bloc":"Nouveau bloc"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(je,{children:"Label"}),o.jsx(_e,{value:X.label,onChange:se=>G(Le=>({...Le,label:se.target.value})),placeholder:"Ex: Prototype"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(je,{children:"Mois de dbut"}),o.jsxs(it,{value:String(X.start_month),onValueChange:se=>G(Le=>({...Le,start_month:Number(se)})),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsx(nt,{children:jr.map(se=>o.jsx(De,{value:String(se.value),children:se.label},se.value))})]})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Dure (mois)"}),o.jsxs(it,{value:String(X.duration),onValueChange:se=>G(Le=>({...Le,duration:Number(se)})),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsx(nt,{children:Array.from({length:24},(se,Le)=>Le+1).map(se=>o.jsxs(De,{value:String(se),children:[se," mois"]},se))})]})]})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Couleur"}),o.jsxs(it,{value:X.color_id||"none",onValueChange:se=>G(Le=>({...Le,color_id:se==="none"?"":se})),children:[o.jsx(rt,{children:o.jsx(st,{})}),o.jsxs(nt,{children:[o.jsx(De,{value:"none",children:"Sans couleur"}),e.map(se=>o.jsx(De,{value:se.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:se.color}}),se.name]})},se.id))]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{onClick:ae,className:"flex-1",children:te?"Mettre  jour":"Crer"}),te&&o.jsx(ie,{variant:"destructive",onClick:()=>{h(te),U(!1)},children:"Supprimer"})]})]})]})}),o.jsx($ke,{open:H,onOpenChange:ce,block:B,color:B?pt(B.color_id):void 0,existingNote:B?y(B.id)[0]:void 0,onSave:g,monthLabels:jr.map(se=>se.label)}),Q&&o.jsx(Yke,{open:W,onOpenChange:q,rowLabel:Q.label,rowBlocks:r.filter(se=>se.row_id===Q.id),notes:m(r.filter(se=>se.row_id===Q.id).map(se=>se.id)),colors:e,monthLabels:jr.map(se=>se.label),onOpenBlockNote:Be})]})}function Zke(){const e=lEe(),[t,r]=w.useState(null),[n,a]=w.useState(null),[i,s]=w.useState("references");return e.loading?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsx(js,{tabKey:"costflow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title",children:"CostFlow  Production & Bureau d'tudes"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestion des rfrences, nomenclatures et calcul des cots de revient"})]}),o.jsxs(Ea,{value:i,onValueChange:s,className:"space-y-4",children:[o.jsxs(ca,{children:[o.jsx(ut,{value:"references",children:" Rfrences"}),o.jsx(ut,{value:"products",children:" Produits"}),o.jsx(ut,{value:"suppliers",children:" Fournisseurs"}),o.jsx(ut,{value:"costs",children:" Cots & Export"}),o.jsx(ut,{value:"meetings",children:" Runions BE"}),o.jsx(ut,{value:"planning",children:" Planning Dev"})]}),o.jsx(vt,{value:"references",children:t?o.jsx(yEe,{reference:t,files:e.referenceFiles,onUploadFile:e.uploadFile,onDeleteFile:e.deleteFile,onGetSignedUrl:e.getSignedUrl,onBack:()=>r(null)}):o.jsx(vEe,{references:e.references,suppliers:e.suppliers,onCreateReference:e.createReference,onUpdateReference:e.updateReference,onDeleteReference:e.deleteReference,onBulkImport:e.bulkCreateReferences,onSelectReference:r})}),o.jsx(vt,{value:"products",children:n?o.jsx(_Ee,{product:n,references:e.references,bom:e.bom,onAddBomEntry:e.addBomEntry,onUpdateBomEntry:e.updateBomEntry,onRemoveBomEntry:e.removeBomEntry,calculateProductCosts:e.calculateProductCosts,onBack:()=>a(null)}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(jEe,{products:e.products,references:e.references,categories:e.productCategories,onCreateProduct:e.createProduct,onUpdateProduct:e.updateProduct,onDeleteProduct:e.deleteProduct,onSelectProduct:a,onImportProduct:e.createProductWithBom,calculateProductCosts:e.calculateProductCosts}),o.jsx(SEe,{categories:e.productCategories,onCreateCategory:e.createProductCategory,onUpdateCategory:e.updateProductCategory,onDeleteCategory:e.deleteProductCategory})]})}),o.jsx(vt,{value:"suppliers",children:o.jsx(NEe,{suppliers:e.suppliers,onCreateSupplier:e.createSupplier,onUpdateSupplier:e.updateSupplier,onDeleteSupplier:e.deleteSupplier})}),o.jsx(vt,{value:"costs",children:o.jsx(CEe,{products:e.products,references:e.references,bom:e.bom,calculateProductCosts:e.calculateProductCosts})}),o.jsx(vt,{value:"meetings",children:o.jsx(Tke,{})}),o.jsx(vt,{value:"planning",children:o.jsx(Qke,{})})]})]})})}function Jke(){const{user:e,userRole:t}=la(),[r,n]=w.useState([]),[a,i]=w.useState([]),[s,l]=w.useState(!0),c=t==="admin"||t==="finance",u=w.useCallback(async()=>{if(e){l(!0);try{const[g,v]=await Promise.all([pe.from("timetracking_categories").select("*").order("name"),pe.from("timetracking_entries").select("*").eq("user_id",e.id).order("date",{ascending:!1})]);g.data&&n(g.data.map(x=>({id:x.id,name:x.name,color:x.color||"#6366f1",created_at:x.created_at}))),v.data&&i(v.data.map(x=>({id:x.id,user_id:x.user_id,date:x.date,category_id:x.category_id,task_description:x.task_description,duration_minutes:x.duration_minutes||0,comments:x.comments||"",created_at:x.created_at,updated_at:x.updated_at})))}catch(g){console.error("TimeTracking fetch error:",g)}finally{l(!1)}}},[e]);return w.useEffect(()=>{u()},[u]),{categories:r,entries:a,loading:s,canManageCategories:c,createCategory:async(g,v)=>{if(!e)return;const{error:x}=await pe.from("timetracking_categories").insert({user_id:e.id,name:g,color:v});x?(Ce.error("Erreur cration catgorie"),console.error(x)):(Ce.success("Catgorie cre"),u())},updateCategory:async(g,v)=>{const{error:x}=await pe.from("timetracking_categories").update(v).eq("id",g);x?(Ce.error("Erreur mise  jour catgorie"),console.error(x)):(Ce.success("Catgorie mise  jour"),u())},deleteCategory:async g=>{const{error:v}=await pe.from("timetracking_categories").delete().eq("id",g);v?(Ce.error("Erreur suppression catgorie"),console.error(v)):(Ce.success("Catgorie supprime"),u())},createEntry:async g=>{if(!e)return;const{error:v}=await pe.from("timetracking_entries").insert({user_id:e.id,date:g.date,category_id:g.category_id||null,task_description:g.task_description,duration_minutes:g.duration_minutes||0,comments:g.comments||""});v?(Ce.error("Erreur cration entre"),console.error(v)):(Ce.success("Temps enregistr"),u())},updateEntry:async(g,v)=>{const{error:x}=await pe.from("timetracking_entries").update(v).eq("id",g);x?(Ce.error("Erreur mise  jour"),console.error(x)):u()},deleteEntry:async g=>{const{error:v}=await pe.from("timetracking_entries").delete().eq("id",g);v?(Ce.error("Erreur suppression"),console.error(v)):u()},refresh:u}}function Vb(e){const t=Math.floor(e/60),r=e%60;return t===0?`${r}min`:r===0?`${t}h`:`${t}h${r.toString().padStart(2,"0")}`}function eOe({entries:e,categories:t,onCreateEntry:r,onUpdateEntry:n,onDeleteEntry:a}){const[i,s]=w.useState(()=>Zu(new Date,{weekStartsOn:1})),[l,c]=w.useState(new Date),[u,f]=w.useState(!1),[d,h]=w.useState(null),[p,y]=w.useState({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),m=LEe(i,{weekStartsOn:1}),g=IEe({start:i,end:m}),v=w.useMemo(()=>e.filter(N=>i_(DAe(N.date),l)),[e,l]),x=w.useMemo(()=>{const N={};return g.forEach(A=>{const E=Ba(A,"yyyy-MM-dd");N[E]=e.filter(k=>k.date===E).reduce((k,R)=>k+R.duration_minutes,0)}),N},[e,g]),b=v.reduce((N,A)=>N+A.duration_minutes,0),_=N=>t.find(A=>A.id===N),j=()=>{h(null),y({task_description:"",category_id:"",duration_hours:0,duration_minutes:0,comments:""}),f(!0)},S=N=>{h(N.id),y({task_description:N.task_description,category_id:N.category_id||"",duration_hours:Math.floor(N.duration_minutes/60),duration_minutes:N.duration_minutes%60,comments:N.comments}),f(!0)},C=async()=>{if(!p.task_description.trim())return;const N=p.duration_hours*60+p.duration_minutes,A={date:Ba(l,"yyyy-MM-dd"),task_description:p.task_description,category_id:p.category_id||null,duration_minutes:N,comments:p.comments};d?await n(d,A):await r(A),f(!1)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ie,{variant:"outline",size:"icon",onClick:()=>s(JAe(i,1)),children:o.jsx(Z6,{className:"h-4 w-4"})}),o.jsxs("span",{className:"text-sm font-medium",children:["Semaine du ",Ba(i,"d MMMM",{locale:$c})," au ",Ba(m,"d MMMM yyyy",{locale:$c})]}),o.jsx(ie,{variant:"outline",size:"icon",onClick:()=>s(Lz(i,1)),children:o.jsx(J6,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:g.map(N=>{const A=Ba(N,"yyyy-MM-dd"),E=x[A]||0,k=i_(N,l);return o.jsxs("button",{onClick:()=>c(N),className:`p-3 rounded-lg border text-center transition-colors ${k?"bg-primary text-primary-foreground border-primary":IAe(N)?"border-primary/50 bg-primary/5":"border-border hover:bg-muted"}`,children:[o.jsx("div",{className:"text-xs font-medium",children:Ba(N,"EEE",{locale:$c})}),o.jsx("div",{className:"text-lg font-bold",children:Ba(N,"d")}),E>0&&o.jsx("div",{className:`text-xs mt-1 ${k?"text-primary-foreground/80":"text-muted-foreground"}`,children:Vb(E)})]},A)})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:Ba(l,"EEEE d MMMM yyyy",{locale:$c})}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Py,{className:"h-3.5 w-3.5"}),"Total : ",Vb(b)]})]}),o.jsxs(ie,{onClick:j,children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"})," Ajouter une tche"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{children:"Catgorie"}),o.jsx(le,{children:"Tche"}),o.jsx(le,{className:"text-right",children:"Dure"}),o.jsx(le,{children:"Commentaire"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[v.length===0&&o.jsx(be,{children:o.jsx(Y,{colSpan:5,className:"text-center text-muted-foreground py-8",children:'Aucune entre pour ce jour. Cliquez sur "Ajouter une tche".'})}),v.map(N=>{const A=_(N.category_id);return o.jsxs(be,{children:[o.jsx(Y,{children:A?o.jsxs($e,{variant:"outline",className:"gap-1.5",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:A.color}}),A.name]}):o.jsx("span",{className:"text-muted-foreground",children:""})}),o.jsx(Y,{className:"font-medium",children:N.task_description}),o.jsx(Y,{className:"text-right font-mono-numbers",children:Vb(N.duration_minutes)}),o.jsx(Y,{className:"text-muted-foreground text-sm max-w-[200px] truncate",children:N.comments||""}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>S(N),children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>a(N.id),children:o.jsx(Xr,{className:"h-3 w-3 text-destructive"})})]})})]},N.id)})]})]})}),o.jsx(Rr,{open:u,onOpenChange:f,children:o.jsxs(xr,{className:"max-w-md",children:[o.jsx(br,{children:o.jsx(wr,{children:d?"Modifier la tche":"Nouvelle tche"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(je,{children:"Tche *"}),o.jsx(_e,{value:p.task_description,onChange:N=>y({...p,task_description:N.target.value}),placeholder:"Description de la tche..."})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Catgorie"}),o.jsxs(it,{value:p.category_id||"none",onValueChange:N=>y({...p,category_id:N==="none"?"":N}),children:[o.jsx(rt,{children:o.jsx(st,{placeholder:"Slectionner..."})}),o.jsxs(nt,{children:[o.jsx(De,{value:"none",children:"Aucune"}),t.map(N=>o.jsx(De,{value:N.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:N.color}}),N.name]})},N.id))]})]})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Dure"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_e,{type:"number",min:0,max:23,className:"w-20 text-right",value:p.duration_hours,onChange:N=>y({...p,duration_hours:parseInt(N.target.value)||0})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"h"}),o.jsx(_e,{type:"number",min:0,max:59,step:5,className:"w-20 text-right",value:p.duration_minutes,onChange:N=>y({...p,duration_minutes:parseInt(N.target.value)||0})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"min"})]})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Commentaire"}),o.jsx(Ti,{value:p.comments,onChange:N=>y({...p,comments:N.target.value}),rows:2,placeholder:"Notes optionnelles..."})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ie,{onClick:C,disabled:!p.task_description.trim(),children:d?"Mettre  jour":"Ajouter"})})]})})]})}const tOe=["#6366f1","#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#14b8a6"];function rOe({categories:e,onCreateCategory:t,onUpdateCategory:r,onDeleteCategory:n}){const[a,i]=w.useState(!1),[s,l]=w.useState(null),[c,u]=w.useState(""),[f,d]=w.useState("#6366f1"),h=()=>{l(null),u(""),d("#6366f1"),i(!0)},p=m=>{l(m.id),u(m.name),d(m.color),i(!0)},y=async()=>{c.trim()&&(s?await r(s,{name:c,color:f}):await t(c,f),i(!1))};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Les catgories permettent de classer les tches. Seuls les rles admin et finance peuvent les grer."}),o.jsxs(ie,{onClick:h,children:[o.jsx(Tr,{className:"h-4 w-4 mr-1"})," Nouvelle catgorie"]})]}),o.jsx("div",{className:"border rounded overflow-auto",children:o.jsxs(Ut,{children:[o.jsx(Vt,{children:o.jsxs(be,{children:[o.jsx(le,{className:"w-12",children:"Couleur"}),o.jsx(le,{children:"Nom"}),o.jsx(le,{})]})}),o.jsxs(Wt,{children:[e.length===0&&o.jsx(be,{children:o.jsx(Y,{colSpan:3,className:"text-center text-muted-foreground py-8",children:"Aucune catgorie cre."})}),e.map(m=>o.jsxs(be,{children:[o.jsx(Y,{children:o.jsx("div",{className:"w-5 h-5 rounded-full",style:{backgroundColor:m.color}})}),o.jsx(Y,{className:"font-medium",children:m.name}),o.jsx(Y,{children:o.jsxs("div",{className:"flex gap-1 justify-end",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>p(m),children:o.jsx(id,{className:"h-3 w-3"})}),o.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>n(m.id),children:o.jsx(Xr,{className:"h-3 w-3 text-destructive"})})]})})]},m.id))]})]})}),o.jsx(Rr,{open:a,onOpenChange:i,children:o.jsxs(xr,{className:"max-w-sm",children:[o.jsx(br,{children:o.jsx(wr,{children:s?"Modifier la catgorie":"Nouvelle catgorie"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(je,{children:"Nom *"}),o.jsx(_e,{value:c,onChange:m=>u(m.target.value),placeholder:"Ex: Dveloppement, Design..."})]}),o.jsxs("div",{children:[o.jsx(je,{children:"Couleur"}),o.jsx("div",{className:"flex gap-2 mt-2",children:tOe.map(m=>o.jsx("button",{className:`w-7 h-7 rounded-full border-2 transition-all ${f===m?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:m},onClick:()=>d(m)},m))})]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(ie,{onClick:y,disabled:!c.trim(),children:s?"Mettre  jour":"Crer"})})]})})]})}function nOe(){const e=Jke();return e.loading?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title",children:"Suivi d'activit"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enregistrez votre temps par jour et par tche"})]}),o.jsxs(Ea,{defaultValue:"entries",className:"space-y-4",children:[o.jsxs(ca,{children:[o.jsx(ut,{value:"entries",children:" Mes entres"}),e.canManageCategories&&o.jsx(ut,{value:"categories",children:" Catgories"})]}),o.jsx(vt,{value:"entries",children:o.jsx(eOe,{entries:e.entries,categories:e.categories,onCreateEntry:e.createEntry,onUpdateEntry:e.updateEntry,onDeleteEntry:e.deleteEntry})}),e.canManageCategories&&o.jsx(vt,{value:"categories",children:o.jsx(rOe,{categories:e.categories,onCreateCategory:e.createCategory,onUpdateCategory:e.updateCategory,onDeleteCategory:e.deleteCategory})})]})]})}const X2="novaride_financial_state_v5";function aOe(){const{user:e,isAdmin:t,getTabPermission:r}=la(),[n,a]=w.useState([]),[i,s]=w.useState(!0),l=w.useCallback(()=>!!e,[e,t]),c=w.useCallback(async()=>{if(!e){s(!1);return}try{const{data:m}=await pe.from("snapshots").select("*").order("created_at",{ascending:!1});m&&a(m.map(g=>({id:g.id,name:g.name,comment:g.comment,createdAt:g.created_at,stateData:JSON.stringify(g.state_data)})))}catch{}finally{s(!1)}},[e]);w.useEffect(()=>{c()},[c]);const u=w.useCallback(async(m,g)=>{if(!e)return!1;try{const v=localStorage.getItem(X2);if(!v)return!1;const{data:x,error:b}=await pe.from("snapshots").insert({user_id:e.id,name:m,comment:g,state_data:JSON.parse(v)}).select().single();if(b||!x)return!1;const _=x;return a(j=>[{id:_.id,name:_.name,comment:_.comment,createdAt:_.created_at,stateData:JSON.stringify(_.state_data)},...j]),qr({title:"Sauvegarde cre"}),!0}catch{return!1}},[e]),f=w.useCallback(m=>{const g=n.find(v=>v.id===m);return g?(localStorage.setItem(X2,g.stateData),qr({title:"Restauration effectue"}),setTimeout(()=>window.location.reload(),500),!0):!1},[n]),d=w.useCallback(async m=>!1,[]),h=w.useCallback(async m=>e?(await pe.from("snapshots").delete().eq("id",m),a(g=>g.filter(v=>v.id!==m)),!0):!1,[e]),p=w.useCallback(async(m,g)=>!1,[]),y=m=>new Date(m).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return{snapshots:n,isLoading:i,canManageSnapshots:l(),createSnapshot:u,restoreSnapshot:f,duplicateSnapshot:d,deleteSnapshot:h,renameSnapshot:p,formatDate:y}}var oU="AlertDialog",[iOe,MOe]=Sn(oU,[m5]),_s=m5(),lU=e=>{const{__scopeAlertDialog:t,...r}=e,n=_s(t);return o.jsx(O5,{...n,...r,modal:!0})};lU.displayName=oU;var sOe="AlertDialogTrigger",cU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(T5,{...a,...n,ref:t})});cU.displayName=sOe;var oOe="AlertDialogPortal",uU=e=>{const{__scopeAlertDialog:t,...r}=e,n=_s(t);return o.jsx(R5,{...n,...r})};uU.displayName=oOe;var lOe="AlertDialogOverlay",dU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(rN,{...a,...n,ref:t})});dU.displayName=lOe;var Xc="AlertDialogContent",[cOe,uOe]=iOe(Xc),dOe=C$("AlertDialogContent"),fU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=_s(r),s=w.useRef(null),l=Xe(t,s),c=w.useRef(null);return o.jsx(ICe,{contentName:Xc,titleName:hU,docsSlug:"alert-dialog",children:o.jsx(cOe,{scope:r,cancelRef:c,children:o.jsxs(nN,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:we(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(dOe,{children:n}),o.jsx(hOe,{contentRef:s})]})})})});fU.displayName=Xc;var hU="AlertDialogTitle",pU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(aN,{...a,...n,ref:t})});pU.displayName=hU;var mU="AlertDialogDescription",vU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(iN,{...a,...n,ref:t})});vU.displayName=mU;var fOe="AlertDialogAction",gU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=_s(r);return o.jsx(sN,{...a,...n,ref:t})});gU.displayName=fOe;var yU="AlertDialogCancel",xU=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=uOe(yU,r),i=_s(r),s=Xe(t,a);return o.jsx(sN,{...i,...n,ref:s})});xU.displayName=yU;var hOe=({contentRef:e})=>{const t=`\`${Xc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xc}\` by passing a \`${mU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},pOe=lU,mOe=cU,vOe=uU,bU=dU,wU=fU,jU=gU,_U=xU,SU=pU,CU=vU;const Q2=pOe,Z2=mOe,gOe=vOe,NU=w.forwardRef(({className:e,...t},r)=>o.jsx(bU,{className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));NU.displayName=bU.displayName;const o_=w.forwardRef(({className:e,...t},r)=>o.jsxs(gOe,{children:[o.jsx(NU,{}),o.jsx(wU,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));o_.displayName=wU.displayName;const l_=({className:e,...t})=>o.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});l_.displayName="AlertDialogHeader";const c_=({className:e,...t})=>o.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});c_.displayName="AlertDialogFooter";const u_=w.forwardRef(({className:e,...t},r)=>o.jsx(SU,{ref:r,className:re("text-lg font-semibold",e),...t}));u_.displayName=SU.displayName;const d_=w.forwardRef(({className:e,...t},r)=>o.jsx(CU,{ref:r,className:re("text-sm text-muted-foreground",e),...t}));d_.displayName=CU.displayName;const f_=w.forwardRef(({className:e,...t},r)=>o.jsx(jU,{ref:r,className:re(LS(),e),...t}));f_.displayName=jU.displayName;const h_=w.forwardRef(({className:e,...t},r)=>o.jsx(_U,{ref:r,className:re(LS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));h_.displayName=_U.displayName;function yOe(){const{snapshots:e,isLoading:t,createSnapshot:r,restoreSnapshot:n,deleteSnapshot:a,formatDate:i}=aOe(),{getTabPermission:s,isAdmin:l}=la(),[c,u]=w.useState(""),[f,d]=w.useState(""),[h,p]=w.useState(!1),m=s("snapshots")==="write",g=async()=>{if(!c.trim()){qr({title:"Nom requis",variant:"destructive"});return}p(!0),await r(c.trim(),f.trim()||void 0)&&(u(""),d("")),p(!1)};return t?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(_i,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx(js,{tabKey:"snapshots",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(gs,{image:"rd",title:"Sauvegardes",subtitle:"Grez vos sauvegardes de scnarios financiers",height:"sm"}),m&&o.jsxs(Zt,{children:[o.jsxs(cn,{children:[o.jsxs(un,{className:"flex items-center gap-2",children:[o.jsx(Tr,{className:"h-5 w-5"}),"Nouvelle sauvegarde"]}),o.jsx(gh,{children:"Sauvegardez l'tat actuel de vos donnes financires"})]}),o.jsx(Jt,{children:o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-end",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Nom"}),o.jsx(_e,{value:c,onChange:v=>u(v.target.value),placeholder:"Ex: Budget V2 valid"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{children:"Commentaire (optionnel)"}),o.jsx(Ti,{value:f,onChange:v=>d(v.target.value),placeholder:"Notes...",rows:1})]}),o.jsxs(ie,{onClick:g,disabled:h,children:[h?o.jsx(_i,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(mS,{className:"h-4 w-4 mr-2"}),"Sauvegarder"]})]})})]}),o.jsxs(Zt,{children:[o.jsxs(cn,{children:[o.jsxs(un,{className:"flex items-center gap-2",children:[o.jsx(hS,{className:"h-5 w-5"}),"Sauvegardes existantes"]}),o.jsxs(gh,{children:[e.length," sauvegarde",e.length!==1?"s":""]})]}),o.jsx(Jt,{children:e.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune sauvegarde pour le moment"}):o.jsx("div",{className:"space-y-3",children:e.map(v=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:v.name}),o.jsx($e,{variant:"outline",className:"text-xs",children:i(v.createdAt)})]}),v.comment&&o.jsx("p",{className:"text-sm text-muted-foreground",children:v.comment})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[m&&o.jsxs(Q2,{children:[o.jsx(Z2,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"sm",children:[o.jsx(Ey,{className:"h-4 w-4 mr-1"}),"Charger"]})}),o.jsxs(o_,{children:[o.jsxs(l_,{children:[o.jsx(u_,{children:"Restaurer cette sauvegarde ?"}),o.jsxs(d_,{children:["Les donnes actuelles seront remplaces par  ",v.name," . Cette action rechargera la page."]})]}),o.jsxs(c_,{children:[o.jsx(h_,{children:"Annuler"}),o.jsx(f_,{onClick:()=>n(v.id),children:"Restaurer"})]})]})]}),l&&o.jsxs(Q2,{children:[o.jsx(Z2,{asChild:!0,children:o.jsx(ie,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",children:o.jsx(Xr,{className:"h-4 w-4"})})}),o.jsxs(o_,{children:[o.jsxs(l_,{children:[o.jsxs(u_,{children:["Supprimer  ",v.name,"  ?"]}),o.jsx(d_,{children:"Cette action est irrversible."})]}),o.jsxs(c_,{children:[o.jsx(h_,{children:"Annuler"}),o.jsx(f_,{onClick:()=>a(v.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})]})]})]},v.id))})})]})]})})}const xOe=()=>{const e=Bl();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},bOe=new B9,wOe=()=>o.jsx(U9,{client:bOe,children:o.jsx(m9,{children:o.jsx(fX,{children:o.jsxs(mX,{children:[o.jsx(QW,{}),o.jsx(AH,{}),o.jsx(L7,{children:o.jsxs(k7,{children:[o.jsx(Ur,{path:"/auth",element:o.jsx(tEe,{})}),o.jsx(Ur,{path:"/home",element:o.jsx(An,{tabKey:"home",children:o.jsx(PX,{})})}),o.jsx(Ur,{path:"/",element:o.jsx(An,{tabKey:"product-plan",children:o.jsx(Vn,{children:o.jsx(tSe,{})})})}),o.jsx(Ur,{path:"/organisation",element:o.jsx(An,{tabKey:"organisation",children:o.jsx(Vn,{children:o.jsx(HCe,{})})})}),o.jsx(Ur,{path:"/charges",element:o.jsx(An,{tabKey:"charges",children:o.jsx(Vn,{children:o.jsx(YCe,{})})})}),o.jsx(Ur,{path:"/crm",element:o.jsx(An,{tabKey:"crm",children:o.jsx(Vn,{children:o.jsx(rNe,{})})})}),o.jsx(Ur,{path:"/previsionnel",element:o.jsx(An,{tabKey:"previsionnel",children:o.jsx(Vn,{children:o.jsx(INe,{})})})}),o.jsx(Ur,{path:"/funding",element:o.jsx(An,{tabKey:"funding",children:o.jsx(Vn,{children:o.jsx(LNe,{})})})}),o.jsx(Ur,{path:"/scenarios",element:o.jsx(An,{tabKey:"scenarios",children:o.jsx(Vn,{children:o.jsx(BNe,{})})})}),o.jsx(Ur,{path:"/valuation",element:o.jsx(An,{tabKey:"valuation",children:o.jsx(Vn,{children:o.jsx(JNe,{})})})}),o.jsx(Ur,{path:"/investment-summary",element:o.jsx(An,{tabKey:"investment-summary",children:o.jsx(Vn,{children:o.jsx(rPe,{})})})}),o.jsx(Ur,{path:"/costflow",element:o.jsx(An,{tabKey:"costflow",children:o.jsx(Vn,{children:o.jsx(Zke,{})})})}),o.jsx(Ur,{path:"/timetracking",element:o.jsx(An,{tabKey:"timetracking",children:o.jsx(Vn,{children:o.jsx(nOe,{})})})}),o.jsx(Ur,{path:"/snapshots",element:o.jsx(An,{tabKey:"snapshots",children:o.jsx(Vn,{children:o.jsx(yOe,{})})})}),o.jsx(Ur,{path:"/permissions",element:o.jsx(An,{children:o.jsx(Vn,{children:o.jsx(sEe,{})})})}),o.jsx(Ur,{path:"*",element:o.jsx(xOe,{})})]})})]})})})});b$(document.getElementById("root")).render(o.jsx(wOe,{}));
